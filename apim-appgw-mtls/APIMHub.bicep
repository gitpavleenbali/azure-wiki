@secure()
param apis_genstar4_availability_v10_path string

@secure()
param apis_phobos_v10_path string

@secure()
param identityProviders_aad_clientSecret string

@secure()
param users_1_lastName string
param service_uniperapis_dev_name string = 'uniperapis-dev'
param virtualnetworks_hub_uni_inet_vnet_001_externalid string = '/subscriptions/3f63aec6-3eb8-41a5-8343-803ff18e9fb7/resourceGroups/hub-uni-rgp-001/providers/microsoft.network/virtualnetworks/hub-uni-inet-vnet-001'
param publicIPAddresses_uni_apim_az_dev_pip_002_externalid string = '/subscriptions/3f63aec6-3eb8-41a5-8343-803ff18e9fb7/resourceGroups/APINW-iaas-HUB-rgp-001/providers/Microsoft.Network/publicIPAddresses/uni-apim-az-dev-pip-002'
param components_appi_weu_dev_aidev_01_externalid string = '/subscriptions/66cb9cd8-ec43-4e9e-a9f4-33e3faa58bc8/resourceGroups/rg-weu-dev-cwai-03/providers/Microsoft.Insights/components/appi-weu-dev-aidev-01'
param components_appi_weu_dev_aidev_03_externalid string = '/subscriptions/66cb9cd8-ec43-4e9e-a9f4-33e3faa58bc8/resourceGroups/rg-weu-dev-cwai-03/providers/Microsoft.Insights/components/appi-weu-dev-aidev-03'
param components_crmues_appinsights_dev_001_externalid string = '/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/CRMUES-PaaS-dev-rgp-001/providers/microsoft.insights/components/crmues-appinsights-dev-001'
param components_EAM_API_UAT_externalid string = '/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/eamrpt-paas-dev-rgp-001/providers/microsoft.insights/components/EAM-API-UAT'
param components_uniperapis_dev_app_insights_001_externalid string = '/subscriptions/3f63aec6-3eb8-41a5-8343-803ff18e9fb7/resourceGroups/APIM-XaaS-HUB-rgp-002/providers/microsoft.insights/components/uniperapis-dev-app-insights-001'

resource service_uniperapis_dev_name_resource 'Microsoft.ApiManagement/service@2024-06-01-preview' = {
  name: service_uniperapis_dev_name
  location: 'West Europe'
  tags: {
    bu_id: '1533'
    environment: 'prod'
    owner_email: 'ian.beeson@uniper.energy'
    eam_id: '163689'
    application_name: 'azure api management (apim)'
    lob_parent: 'Corporate IT'
  }
  sku: {
    name: 'Premium'
    capacity: 1
  }
  identity: {
    type: 'SystemAssigned, UserAssigned'
    userAssignedIdentities: {
      '/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourcegroups/SOSB-PaaS-DEV-rgp-001/providers/Microsoft.ManagedIdentity/userAssignedIdentities/SOS-Berlin-API-KV': {
        resourceArmId: null
      }
    }
  }
  properties: {
    publisherEmail: 'S17340@uniper.energy'
    publisherName: 'Uniper IT GmbH'
    notificationSenderEmail: 'noreply.apimgmt.dev@mail.windowsazure.com'
    hostnameConfigurations: [
      {
        type: 'Proxy'
        hostName: '${service_uniperapis_dev_name}.azure-api.net'
        negotiateClientCertificate: false
        defaultSslBinding: false
        certificateSource: 'BuiltIn'
      }
      {
        type: 'DeveloperPortal'
        hostName: 'portal-dev.apis.uniper.energy'
        keyVaultId: 'https://${service_uniperapis_dev_name}-kv-001.vault.azure.net/secrets/portal-dev'
        negotiateClientCertificate: false
        certificate: {
          expiry: '2026-02-25T23:59:59+00:00'
          thumbprint: '513FFD607CA8FF112B38B5BB41361C40BE86F2A3'
          subject: 'CN=portal-dev.apis.uniper.energy, O=Uniper SE, L=D端sseldorf, S=Nordrhein-Westfalen, C=DE'
        }
        defaultSslBinding: false
        certificateSource: 'KeyVault'
      }
      {
        type: 'Management'
        hostName: 'mgmt-dev.apis.uniper.energy'
        keyVaultId: 'https://${service_uniperapis_dev_name}-kv-001.vault.azure.net/secrets/mgmt-dev'
        negotiateClientCertificate: false
        certificate: {
          expiry: '2026-02-25T23:59:59+00:00'
          thumbprint: 'BEE011E30B698439C44453CFFDF28903AB7435C2'
          subject: 'CN=mgmt-dev.apis.uniper.energy, O=Uniper SE, L=D端sseldorf, S=Nordrhein-Westfalen, C=DE'
        }
        defaultSslBinding: false
        certificateSource: 'KeyVault'
      }
      {
        type: 'Proxy'
        hostName: 'gateway-dev.apis.uniper.energy'
        keyVaultId: 'https://${service_uniperapis_dev_name}-kv-001.vault.azure.net/secrets/gateway-dev'
        negotiateClientCertificate: false
        certificate: {
          expiry: '2026-02-25T23:59:59+00:00'
          thumbprint: '7E8388A95EC32D1B26290031A62417538C70D576'
          subject: 'CN=gateway-dev.apis.uniper.energy, O=Uniper SE, L=D端sseldorf, S=Nordrhein-Westfalen, C=DE'
        }
        defaultSslBinding: true
        certificateSource: 'KeyVault'
      }
      {
        type: 'Scm'
        hostName: 'scm-dev.apis.uniper.energy'
        keyVaultId: 'https://${service_uniperapis_dev_name}-kv-001.vault.azure.net/secrets/scm-dev'
        negotiateClientCertificate: false
        certificate: {
          expiry: '2026-02-10T23:59:59+00:00'
          thumbprint: 'ADCF04909D67C6A5AE30E37056339B95C1A6CEC3'
          subject: 'CN=scm-dev.apis.uniper.energy, O=Uniper SE, L=D端sseldorf, S=Nordrhein-Westfalen, C=DE'
        }
        defaultSslBinding: false
        certificateSource: 'KeyVault'
      }
    ]
    virtualNetworkConfiguration: {
      subnetResourceId: '${virtualnetworks_hub_uni_inet_vnet_001_externalid}/subnets/hub-uni-snet-apim-dev-001-v2'
    }
    customProperties: {
      'Microsoft.WindowsAzure.ApiManagement.Gateway.ManagedIdentity.DisableOverPrivilegedAccess': 'True'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls10': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Tls11': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Protocols.Ssl30': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Ciphers.TripleDes168': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls10': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Tls11': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Security.Backend.Protocols.Ssl30': 'False'
      'Microsoft.WindowsAzure.ApiManagement.Gateway.Protocols.Server.Http2': 'False'
    }
    virtualNetworkType: 'Internal'
    certificates: [
      {
        storeName: 'Root'
        certificate: {
          expiry: '2040-04-09T14:58:47+00:00'
          thumbprint: '5CF4A2580FF6E073986FA109CD47068DD69F7773'
          subject: 'CN=QuoVadis Trust Anchor Root CA G2, O=QuoVadis Limited, C=BM'
        }
      }
      {
        storeName: 'CertificateAuthority'
        certificate: {
          expiry: '2030-11-17T14:10:18+00:00'
          thumbprint: '7FC4755AD1D8CE86F784CDB5DE8A81614120730E'
          subject: 'CN=Uniper Internal Devices Sub CA V1, O=Uniper, C=DE'
        }
      }
      {
        storeName: 'Root'
        certificate: {
          expiry: '2053-08-04T18:21:01+00:00'
          thumbprint: 'C6B8A4C56CBD05E83FFD000C0E14911C222959DD'
          subject: 'CN=Uniper SE RootCA G1, O=Uniper SE, C=DE'
        }
      }
      {
        storeName: 'CertificateAuthority'
        certificate: {
          expiry: '2033-08-04T18:21:01+00:00'
          thumbprint: '89781D9FD389E510A5CB6AB7A55E180012CAD36D'
          subject: 'CN=Uniper Internal Devices SubCA G2, O=Uniper SE, C=DE'
        }
      }
      {
        storeName: 'Root'
        certificate: {
          expiry: '2025-03-04T13:47:47+00:00'
          thumbprint: 'D11FA0E781253A622EDD219AC2EB853B46A88C37'
          subject: 'CN=*.olc1.openlinkcloud.com, O="Ion Trading, Inc", L=New York, S=New York, C=US'
        }
      }
      {
        storeName: 'Root'
        certificate: {
          expiry: '2026-03-04T08:47:47+00:00'
          thumbprint: '9329010B48D76CEC8E4145ABBC4FA04AF9762E07'
          subject: 'CN=*.olc1.openlinkcloud.com, O="Ion Trading, Inc", L=New York, S=New York, C=US'
        }
      }
      {
        storeName: 'Root'
        certificate: {
          expiry: '2026-08-24T23:59:59+00:00'
          thumbprint: '095E30B6615B9D0B7B1BFD233CE1702A729A956F'
          subject: 'CN=*.olc1.openlinkcloud.com, O=ION Trading UK Limited, L=London, C=GB'
        }
      }
    ]
    natGatewayState: 'Disabled'
    apiVersionConstraint: {
      minApiVersion: '2019-12-01'
    }
    publicIpAddressId: publicIPAddresses_uni_apim_az_dev_pip_002_externalid
    publicNetworkAccess: 'Enabled'
    legacyPortalStatus: 'Disabled'
    developerPortalStatus: 'Enabled'
    releaseChannel: 'GenAI'
  }
}

resource service_uniperapis_dev_name_AIWorks_API_2 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-2'
  properties: {
    displayName: 'AIWorks-API-2'
    apiRevision: '1'
    description: 'AIWorks Unified API'
    subscriptionRequired: true
    path: 'aiworks-api-2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'api-key'
      query: 'AIWORKS-MUST-NOT-USE-THIS-KEY-DUE-TO-Security-AI1526fa236'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_AIWorks_circuit_simulator 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-circuit-simulator'
  properties: {
    displayName: 'AIWorks-CBSim-1'
    apiRevision: '1'
    description: 'AIWorks Circuit breaker simulator'
    subscriptionRequired: true
    path: 'aiworks-cbsim-1'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'api-key'
      query: 'AIWORKS-MUST-NOT-USE-THIS-KEY-DUE-TO-Security-AI1526fa236'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_autodesk 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'autodesk'
  properties: {
    displayName: 'Autodesk'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://developer.api.autodesk.com'
    path: 'api/ex/autodesk'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_demo_eam_mcp 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-eam-mcp'
  properties: {
    displayName: 'Demo-EAM-MCP'
    apiRevision: '1'
    description: 'no version on the API'
    subscriptionRequired: false
    path: 'demo-eam-mcp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'mcp'
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_demo_mcp 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-mcp'
  properties: {
    displayName: 'Demo-MCP'
    apiRevision: '1'
    description: 'The Enterprise Architecture Management API exposes information on Uniper\'s Business Application, Robots and APIs that are stored within ServiceNow.'
    subscriptionRequired: true
    serviceUrl: 'https://eam-api-uat.azurewebsites.net/api/v8.0'
    path: 'demo/mcp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_demo_security_flow 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-security-flow'
  properties: {
    displayName: 'demo-security-flow'
    apiRevision: '1'
    description: 'Azure Logic App.'
    subscriptionRequired: true
    serviceUrl: 'https://prod-04.westeurope.logic.azure.com/workflows/cd156aecdf35434597adc6f41ffbac30/triggers'
    path: 'api/ex/demo/securelogicapp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'demo'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'demo'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_enterprise_architecture_management 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-architecture-management'
  properties: {
    displayName: 'Enterprise Architecture Management'
    apiRevision: '1'
    subscriptionRequired: false
    path: 'enterprise-architecture-management'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'mcp'
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_EX_AIWorks_API_2 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'EX-AIWorks-API-2'
  properties: {
    displayName: 'EX-AIWorks-API-2'
    apiRevision: '1'
    description: 'External AIWorks Unified API'
    subscriptionRequired: true
    path: 'ex-aiworks-api-2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'api-key'
      query: 'AIWORKS-MUST-NOT-USE-THIS-KEY-DUE-TO-Security-AI1526fa236'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_fmp_fa_cosmosdb 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-fa-cosmosdb'
  properties: {
    displayName: 'fmp-fa-cosmosdb'
    apiRevision: '1'
    description: 'Import from "fmp-fa-cosmosdb" Function App'
    subscriptionRequired: true
    path: 'fmp-fa-cosmosdb'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_iot_websocket_test_pm 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'iot-websocket-test-pm'
  properties: {
    displayName: 'IoT WebSocket Test PM'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'wss://ws-postman.eu-gb.mybluemix.net/ws/iot'
    path: 'iot-websocket-test-pm'
    protocols: [
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'websocket'
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_public_chat_websocket_test 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'public-chat-websocket-test'
  properties: {
    displayName: 'public-chat-websocket-test'
    apiRevision: '1'
    subscriptionRequired: false
    serviceUrl: 'wss://public-chat-websocket.azurewebsites.net/api/chatsocket'
    path: 'public-chat-websocket'
    protocols: [
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'websocket'
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_star_wars_api 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'star-wars-api'
  properties: {
    displayName: 'Star Wars API'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://swapi.online'
    path: 'swapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_0020a1c1_497d_4db1_95e7_1413c07dc911 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0020a1c1-497d-4db1-95e7-1413c07dc911'
  properties: {
    displayName: 'EEX-ummcomstar'
    description: '[2021-08-25 11-02-01] EamID: 202925| ApiID: eex-comstar-v10| Requestor:H27248| RequestorManager: F6903| Owner: H27248| OwnerManager: F6903| RequestNo: SNOW#RITM0147150| InternalReference: 1b0943bc85df4449'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_00317a45_9975_441a_a5d6_555838fa59c3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '00317a45-9975-441a-a5d6-555838fa59c3'
  properties: {
    displayName: 'SAP ZCO_WBS'
    description: '[2020-11-03 00-45-21] EamID: 156892 | ApiID: sap-zco_wbs-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126772 | InternalReference: 7daeafab2fc84be5'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_019e6fe8_3ccb_4135_be24_affbc8bade70 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '019e6fe8-3ccb-4135-be24-affbc8bade70'
  properties: {
    displayName: 'ComSTAR-Genstar4-API'
    description: '[2025-05-30 13-03-26] EamID: 205415| ApiID: comstar-genstar4-api-v10| Requestor:M8617| RequestorManager: | Owner: M8617| OwnerManager: | RequestNo: SNOW#SCTASK0471142| InternalReference: 11756234694d46dc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0200f50d_389e_44ee_bb06_10430f41811a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0200f50d-389e-44ee-bb06-10430f41811a'
  properties: {
    displayName: 'Tufin-SecureChange-ProcessReporting-API'
    description: '[2023-12-01 10-01-59] EamID: 204117| ApiID: tufin-securechange-processreporting-api-v10| Requestor:C17471| RequestorManager: O00014| Owner: C17471| OwnerManager: O00014| RequestNo: SNOW#SCTASK0341934| InternalReference: f2ed97d8b2e84581'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_02ea705a_3ab1_4cdc_aec2_74c866af3f5f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '02ea705a-3ab1-4cdc-aec2-74c866af3f5f'
  properties: {
    displayName: 'CRMUES-FunctionApp-MarketPlayer'
    description: '[2025-07-04 13-20-03] EamID: 205480| ApiID: crmues-functionapp-marketplayer-v10| Requestor:U00080| RequestorManager: | Owner: U00080| OwnerManager: | RequestNo: SNOW#SCTASK0479569| InternalReference: 98ad20dbd081489e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_033ab26e_c50f_41bc_9831_e3e5b848cdd9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '033ab26e-c50f-41bc-9831-e3e5b848cdd9'
  properties: {
    displayName: 'CRMUES-Bankaccounts-Read'
    description: '[2021-12-08 16-42-36] EamID: 203073| ApiID: crmues-bankaccounts-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#RITM0162460| InternalReference: c0205ba30dcd4ab7'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_03e04d71_f485_43f9_889e_be06effa3da4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '03e04d71-f485-43f9-889e-be06effa3da4'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Header'
    versionHeaderName: 'x-ms-version'
  }
}

resource service_uniperapis_dev_name_04be4739_2e0a_4fc4_97e3_fcf8c252bf0b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '04be4739-2e0a-4fc4-97e3-fcf8c252bf0b'
  properties: {
    displayName: 'Pegasus-Gas-Price'
    description: '[2020-10-23 03-30-48] EamID: 18716 | ApiID: pegasus-gas-price-v10 | Requestor: A9123 | RequestorManager: N7541 | Owner: C00124 | OwnerManager: N7541 | RequestNo: CMCOrders#118494 | InternalReference: 749a41c0bd944f76'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_04c2d656_2b94_4338_8c8f_d0c448edb4f9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '04c2d656-2b94-4338-8c8f-d0c448edb4f9'
  properties: {
    displayName: 'CRMUES-Appointments-Read'
    description: '[2022-02-10 07-52-45] EamID: 203169| ApiID: crmues-appointments-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#SCTASK0200016| InternalReference: 05f163333921445f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0616f887_a4c6_44a4_b9fc_e96baf814081 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0616f887-a4c6-44a4-b9fc-e96baf814081'
  properties: {
    displayName: 'UKLoadFreq'
    description: '[2021-10-21 09-16-15] EamID: 202978| ApiID: ukloadfreq-v10| Requestor:S48065| RequestorManager: M42566| Owner: S48065| OwnerManager: M42566| RequestNo: SNOW#SCTASK0183191| InternalReference: 88ad2e8b52d047f3'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0642406a_f207_464e_baf9_2741d1e440c7 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0642406a-f207-464e-baf9-2741d1e440c7'
  properties: {
    displayName: 'Enmacc-Connect'
    description: '[2021-06-15 11-10-14] EamID: 202681| ApiID: enmacc-connect-v10| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0164638| InternalReference: b41716b708124996\n[2023-08-08 08-36-29] EamID: 202681| ApiID: enmacc-connect-v20| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0312899| InternalReference: 284c5a9e8afb43d1\n[2023-08-08 08-55-34] EamID: 202681| ApiID: enmacc-connect-v20| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0312899| InternalReference: 7eee78b50ce040d2\n[2023-08-08 08-56-53] EamID: 202681| ApiID: enmacc-connect-v20| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0312899| InternalReference: 5179af62bf2247b0\n[2024-06-07 14-16-56] EamID: 202681| ApiID: enmacc-connect-v22| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0385712| InternalReference: 77c8883452fc4aae'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_06a1b1ee_d6cd_41f0_8f41_c5d27761e738 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '06a1b1ee-d6cd-41f0-8f41-c5d27761e738'
  properties: {
    displayName: 'UES Sales Trading Portal Request Write'
    description: '[2024-09-02 08-09-02] EamID: 204587| ApiID: ues-sales-trading-portal-request-write-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0408326| InternalReference: 29582d28246d4347'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_08e17ea3_aaf8_4b69_99cf_a331169d8fb6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '08e17ea3-aaf8-4b69-99cf-a331169d8fb6'
  properties: {
    displayName: 'Rightangle-EAIESB'
    description: '[2024-03-29 12-25-11] EamID: 200936| ApiID: rightangle-eaiesb-v10| Requestor:J01634| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0369615| InternalReference: df7a57ac21a549f6\n[2024-03-29 12-29-10] EamID: 200936| ApiID: rightangle-eaiesb-v10| Requestor:J01634| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0369615| InternalReference: 655db85d46894431'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_08eb6d6f_aefb_432a_9022_4916c85d09b6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '08eb6d6f-aefb-432a-9022-4916c85d09b6'
  properties: {
    displayName: 'Aiolos-USIP-Data-Feed'
    description: '[2022-10-21 13-02-04] EamID: 203587| ApiID: aiolos-usip-data-feed-v10| Requestor:L00361| RequestorManager: M42566| Owner: L00361| OwnerManager: M42566| RequestNo: SNOW#SCTASK0249628| InternalReference: 89ac922020a44791'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_091f3ee7_5742_4bb3_a2b3_11d9a2d7a89f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '091f3ee7-5742-4bb3-a2b3-11d9a2d7a89f'
  properties: {
    displayName: 'UES-Loadcurve-Service'
    description: '[2021-11-19 10-18-38] EamID: 203043| ApiID: ues-loadcurve-service-v10| Requestor:A9123| RequestorManager: N7541| Owner: A9123| OwnerManager: N7541| RequestNo: SNOW#SCTASK0187237| InternalReference: f672994188e54366| Connection to UES Loadcurve Service.'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0927505a_9af6_46fc_bcea_701ccc7c0b7c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0927505a-9af6-46fc-bcea-701ccc7c0b7c'
  properties: {
    displayName: 'Curve Data Store INT'
    description: '[2021-02-04 04-45-17] EamID: 311| ApiID: curve-data-store-int-v10| Requestor:K23335| RequestorManager: K16319| Owner: K16319| OwnerManager: P14057| RequestNo: CMCOrders#142028| InternalReference: ffcad978383d4a59'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_0968a286_bf10_4889_adf9_54d32cfca04c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0968a286-bf10-4889-adf9-54d32cfca04c'
  properties: {
    displayName: 'MA-Grid-API'
    description: '[2023-04-24 14-55-24] EamID: 203818| ApiID: ma-grid-api-v10| Requestor:P24105| RequestorManager: K16319| Owner: T21642| OwnerManager: J18013| RequestNo: SNOW#SCTASK0287335| InternalReference: f8fab47f5d094b29'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_0a2dfa96_5e14_4c4e_8770_cd53a5bf7f1d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0a2dfa96-5e14-4c4e-8770-cd53a5bf7f1d'
  properties: {
    displayName: 'Sales-Trading-Portal-Uniper-Digital'
    description: '[2025-09-12 16-15-29] EamID: 205784| ApiID: sales-trading-portal-uniper-digital-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0495462| InternalReference: 67d13a3f970e4774'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0ba849ea_0e22_4738_af6c_05e625afe580 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0ba849ea-0e22-4738-af6c-05e625afe580'
  properties: {
    displayName: 'riskcube'
    description: '[2022-01-19 07-45-36] EamID: 203135| ApiID: riskcube-v10| Requestor:S00965| RequestorManager: F6903| Owner: S00965| OwnerManager: F6903| RequestNo: SNOW#SCTASK0195503| InternalReference: 19ce3945452d4d58'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0bf6b2dc_4bcd_4d2e_a4f4_bab6d916acd0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0bf6b2dc-4bcd-4d2e-a4f4-bab6d916acd0'
  properties: {
    displayName: 'MIA-MarketPrices'
    description: '[2022-09-08 14-05-55] EamID: 203500| ApiID: mia-marketprices-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237798| InternalReference: be842032d6ca43d6'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_0bfc109f_4db6_4b18_a91c_d2ffc2b22c83 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0bfc109f-4db6-4b18-a91c-d2ffc2b22c83'
  properties: {
    displayName: 'FusePEGASUS'
    description: '[2021-02-18 14-22-57] EamID: 203539| ApiID: fusepegasus-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144700| InternalReference: a2f4b327601a470b\n[2021-04-08 14-48-51] EamID: 200895| ApiID: fusepegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 2ec4a799ca604a8f\n[2021-04-08 14-54-41] EamID: 200895| ApiID: fusepegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 9174899a9ba6484f\n[2021-04-08 15-36-45] EamID: 200895| ApiID: fusepegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 2a7d5de0c3b04f5e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0d098fea_e7fa_472c_9e11_184215d00167 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0d098fea-e7fa-472c-9e11-184215d00167'
  properties: {
    displayName: 'PromptOptimization-Service'
    description: '[2023-07-21 14-49-17] EamID: 203959| ApiID: promptoptimization-service-v10| Requestor:A01047| RequestorManager: B13362| Owner: A01047| OwnerManager: B13362| RequestNo: SNOW#SCTASK0308475| InternalReference: 2ffa668f7a494ba3'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_0f841760_b39a_485c_9018_f4b601247909 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0f841760-b39a-485c-9018-f4b601247909'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Header'
    versionHeaderName: 'x-ms-version'
  }
}

resource service_uniperapis_dev_name_0fb27de2_8b66_447d_bfcb_3fa8dbe49d9d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '0fb27de2-8b66-447d-bfcb-3fa8dbe49d9d'
  properties: {
    displayName: 'SAP Supplier Notification'
    description: '[2021-03-15 07-47-09] EamID: 156892| ApiID: sap-supplier-notification-v10| Requestor:A47818| RequestorManager: A13019| Owner: A47818| OwnerManager: A13019| RequestNo: SNOW#126779| InternalReference: 85f0ac6e8aff46b7'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_1032a558_ea44_4fd6_90ed_4540891b400d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1032a558-ea44-4fd6-90ed-4540891b400d'
  properties: {
    displayName: 'SalesPortal-Biomethane-SalesData-Reporting-API'
    description: '[2023-08-28 08-34-00] EamID: 203999| ApiID: salesportal-biomethane-salesdata-reporting-api-v10| Requestor:T00720| RequestorManager: C00190| Owner: T00720| OwnerManager: C00190| RequestNo: SNOW#SCTASK0315655| InternalReference: 44417568edae46a9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_10c8cec2_4741_4986_ae60_b81a88538dc6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '10c8cec2-4741-4986-ae60-b81a88538dc6'
  properties: {
    displayName: 'CRMUES-IdentificationNumbers-Read '
    description: '[2021-12-08 16-37-18] EamID: 203072| ApiID: crmues-identificationnumbers-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#RITM0162460| InternalReference: 8f86aec6f3b04e08'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_13ad9301_fffe_456e_bb2a_336d3d1a50e3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '13ad9301-fffe-456e-bb2a-336d3d1a50e3'
  properties: {
    displayName: 'phobosnbr'
    description: '[2024-04-08 12-28-33] EamID: 204415| ApiID: phobosnbr-v10| Requestor:S01970| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0372396| InternalReference: 5b90df00856449cb'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1448c9cd_50ad_4dc9_8be6_baba9e31a7f8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1448c9cd-50ad-4dc9-8be6-baba9e31a7f8'
  properties: {
    displayName: 'CRMUES-Notes-Read'
    description: '[2025-12-17 13-00-00] EamID: 205949| ApiID: crmues-notes-read-v10| Requestor:B01293| RequestorManager: | Owner: B01293| OwnerManager: | RequestNo: SNOW#SCTASK0518877| InternalReference: 7419690f009946b4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_144b3eba_e945_42c1_bee5_a262a5c90311 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '144b3eba-e945-42c1-bee5-a262a5c90311'
  properties: {
    displayName: 'crmues-nabisy-read'
    description: '[2024-01-29 13-47-41] EamID: 204193| ApiID: crmues-nabisy-read-v10| Requestor:F00294| RequestorManager: C00190| Owner: F00294| OwnerManager: C00190| RequestNo: SNOW#SCTASK0355106| InternalReference: 65f36c915eef47ba'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_15339362_e00e_4651_98cf_5b87ba3a017c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '15339362-e00e-4651-98cf-5b87ba3a017c'
  properties: {
    displayName: 'Uniper-Digital-Status'
    description: '[2022-11-16 13-52-25] EamID: 203608| ApiID: uniper-digital-status-v10| Requestor:P22067| RequestorManager: C00190| Owner: P22067| OwnerManager: C00190| RequestNo: SNOW#SCTASK0254806| InternalReference: acf5121fd9c14041'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1562945a_1d68_4a7a_93c5_d691fb030044 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1562945a-1d68-4a7a-93c5-d691fb030044'
  properties: {
    displayName: 'USIP-Utilities'
    description: '[2023-03-10 12-43-45] EamID: 203781| ApiID: usip-utilities-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279036| InternalReference: 2182192d3eae406b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1563fc00_e907_49eb_a74c_7a099a7e7440 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1563fc00-e907-49eb-a74c-7a099a7e7440'
  properties: {
    displayName: 'CRMUES-Tasks-Read'
    description: '[2022-02-18 11-27-04] EamID: 203199| ApiID: crmues-tasks-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: N7541| OwnerManager: M10165| RequestNo: SNOW#SCTASK0201395| InternalReference: 36b72aac7aab42d2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_15ba28ce_11ad_4425_a245_36f915707ab1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '15ba28ce-11ad-4425-a245-36f915707ab1'
  properties: {
    displayName: 'Marie'
    description: '[2022-10-19 07-31-55] EamID: 203586| ApiID: marie-v10| Requestor:B12868| RequestorManager: K16319| Owner: B12868| OwnerManager: K16319| RequestNo: SNOW#SCTASK0247969| InternalReference: 6a3303c8c58046bc\n[2025-10-13 08-21-53] EamID: 203586| ApiID: marie-v20| Requestor:S00965| RequestorManager: | Owner: S00965| OwnerManager: | RequestNo: SNOW#SCTASK0502323| InternalReference: 559dbfc9da7340a8'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1604987f_832c_4f4f_8e3a_774d77e5feea 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1604987f-832c-4f4f-8e3a-774d77e5feea'
  properties: {
    displayName: 'Curve Data Store DEV'
    description: '[2020-11-18 19-18-15] EamID: 311 | ApiID: curve-data-store-v10 | Requestor: S39347 | RequestorManager: K16319 | Owner: K16319 | OwnerManager: P14057 | RequestNo: CMCOrders#129426 | InternalReference: ee3291b928de4fd4'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_173cfdea_fdfc_4134_965b_53b7834b088a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '173cfdea-fdfc-4134-965b-53b7834b088a'
  properties: {
    displayName: 'ServiceNow-TableAPI'
    description: '[2020-09-08 04-36-13] EamID: 76952 | ApiID: servicenow-tableapi-10 | Requestor: G2958 | RequestorManager: S5144 | Owner: M31754 | OwnerManager: T3676 | RequestNo: CMCOrders#118612 | InternalReference: 057db514e4da4326'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_176a8963_51b4_4584_9204_b982e798c0d9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '176a8963-51b4-4584-9204-b982e798c0d9'
  properties: {
    displayName: 'MIA-IRDaily'
    description: '[2022-09-13 11-50-13] EamID: 203519| ApiID: mia-irdaily-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240378| InternalReference: 5d825b3926f24d4b'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_17876548_8acc_4543_ae5c_f9b03dbf2175 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '17876548-8acc-4543-ae5c-f9b03dbf2175'
  properties: {
    displayName: 'tagetik-odatauniper'
    description: '[2024-09-10 13-29-17] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: P24552| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: bdb88f51c9354394\n[2024-09-10 13-31-08] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: P24552| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: 4ab743ecc2a2475f\n[2024-09-10 13-31-30] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: P24552| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: 4ab201e40cab4958\n[2024-09-10 13-33-17] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: M01424| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: bb3b6e4835304421\n[2024-09-10 13-49-05] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: M01424| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: 98681da68c084b42\n[2024-09-10 13-50-16] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: M01424| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: 0e994e8856a04567\n[2024-09-10 13-50-51] EamID: 204578| ApiID: tagetik-odatauniper-v10| Requestor:M01424| RequestorManager: | Owner: M01424| OwnerManager: | RequestNo: SNOW#SCTASK0405475| InternalReference: 537a3e7cbb834886'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1959bd20_2573_460e_ac75_38d0e365b333 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1959bd20-2573-460e-ac75-38d0e365b333'
  properties: {
    displayName: 'po_notification_api'
    description: '[2023-09-12 07-46-33] EamID: 204018| ApiID: po_notification_api-v10| Requestor:A01047| RequestorManager: B13362| Owner: R3867| OwnerManager: B13362| RequestNo: SNOW#SCTASK0320147| InternalReference: 52916512b0a24356\n[2023-09-12 07-49-41] EamID: 204018| ApiID: po_notification_api-v10| Requestor:A01047| RequestorManager: B13362| Owner: R3867| OwnerManager: B13362| RequestNo: SNOW#SCTASK0320147| InternalReference: 1f66897c78d441a6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1ae50093_80db_4937_8403_e18497a288ee 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1ae50093-80db-4937-8403-e18497a288ee'
  properties: {
    displayName: 'ServiceNow-Catalog'
    description: '[2024-01-25 14-08-07] EamID: 204135| ApiID: servicenow-catalog-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 6afd4ddaa0cc4b42'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1b38511a_a60b_4443_8672_fa084a66c3a5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1b38511a-a60b-4443-8672-fa084a66c3a5'
  properties: {
    displayName: 'MIA-CrossCommodity'
    description: '[2022-09-13 11-00-34] EamID: 203515| ApiID: mia-crosscommodity-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240374| InternalReference: 1668c24cd9284661'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_1bcb8cd9_cd08_4d65_8faa_e4d53b36e8c4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1bcb8cd9-cd08-4d65-8faa-e4d53b36e8c4'
  properties: {
    displayName: 'DeltaXE-MD'
    description: '[2020-09-21 02-58-11] EamID: 76702 | ApiID: deltaxe-md-v10 | Requestor: V7162 | RequestorManager: M42566 | Owner: S27716 | OwnerManager: M42566 | RequestNo: CMCOrders#116736 | InternalReference: 563f5339d11e4375'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1c586edf_2841_480f_b873_f4fcf9aee919 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1c586edf-2841-480f-b873-f4fcf9aee919'
  properties: {
    displayName: 'b2c-iam'
    description: '[2023-03-07 05-18-30] EamID: 203770| ApiID: b2c-iam-v10| Requestor:I13011| RequestorManager: P12369| Owner: I13011| OwnerManager: P12369| RequestNo: SNOW#SCTASK0277870| InternalReference: 27d954d28fde4c24'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1d193fa4_0725_4730_b6c1_562ec6a4ddae 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1d193fa4-0725-4730-b6c1-562ec6a4ddae'
  properties: {
    displayName: 'Pegasus-Power-Backtesting'
    description: '[2021-07-26 08-55-42] EamID: 202781| ApiID: pegasus-power-backtesting-v10| Requestor:A9123| RequestorManager: N7541| Owner: A9123| OwnerManager: N7541| RequestNo: SNOW#SCTASK0170440| InternalReference: 47e4bae64bd44246'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_1db9bb72_071a_4b29_af62_687903ea61eb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1db9bb72-071a-4b29-af62-687903ea61eb'
  properties: {
    displayName: 'UMS-UserProfile'
    description: '[2022-09-05 13-12-25] EamID: 203479| ApiID: ums-userprofile-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237798| InternalReference: 8f734eb21c874e1e'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_226c60fa_def1_408e_989b_f9a54f9c7352 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '226c60fa-def1-408e-989b-f9a54f9c7352'
  properties: {
    displayName: 'UES CO2 Service'
    description: '[2025-05-23 12-17-34] EamID: 205404| ApiID: ues-co2-service-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0469933| InternalReference: 544b07b1313745ec\n[2025-05-23 12-24-48] EamID: 205404| ApiID: ues-co2-service-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0469933| InternalReference: 9ab88cdad9e74709'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_22ce696f_5eaa_40f7_a804_f1ba3f59915e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '22ce696f-5eaa-40f7-a804-f1ba3f59915e'
  properties: {
    displayName: 'UES Credit Risk Service Write'
    description: '[2024-04-25 12-50-17] EamID: 204445| ApiID: ues-credit-risk-service-write-v10| Requestor:T00720| RequestorManager: | Owner: T00720| OwnerManager: | RequestNo: SNOW#SCTASK0376093| InternalReference: 63a05309ae6149bd'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_238256d3_2152_4f01_a7f5_cfb6abec4572 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '238256d3-2152-4f01-a7f5-cfb6abec4572'
  properties: {
    displayName: 'ESB-DataServices-Vpc-pricerequest'
    description: '[2021-02-18 15-10-20] EamID: 200896| ApiID: esb-dataservices-vpc-pricerequest-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144681| InternalReference: 028f4c193508436f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_2474bf93_e381_49e1_80f7_fd587875ca47 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2474bf93-e381-49e1-80f7-fd587875ca47'
  properties: {
    displayName: 'crmues-demo-read'
    description: '[2024-01-29 12-59-16] EamID: 204193| ApiID: crmues-dena-nabisy-read-v10| Requestor:F00294| RequestorManager: C00190| Owner: F00294| OwnerM\r\nanager: C00190| RequestNo: SNOW#SCTASK0355106| InternalReference: 868c86f6af694284'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_24f24a06_1e59_4a34_bd1c_a79e11fda09d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '24f24a06-1e59-4a34-bd1c-a79e11fda09d'
  properties: {
    displayName: 'ConnectionTest'
    description: '[2021-03-22 05-59-35] EamID: 201676| ApiID: connectiontest-v10| Requestor:S17340| RequestorManager: S5144| Owner: S17340| OwnerManager: S5144| RequestNo: SNOW#SCTASK0152729| InternalReference: 2439b9f49869405c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_24f99efb_8d63_4b7f_99c6_b21d8e6fa7b6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '24f99efb-8d63-4b7f-99c6-b21d8e6fa7b6'
  properties: {
    displayName: 'aaa_TestAPI'
    description: '[2023-01-16 07-33-04] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 504b0801200c4fcf\n[2023-01-16 07-36-57] EamID: 209999| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 4b829fbdf6b94455\n[2023-01-16 07-41-10] EamID: 209999| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: eeb8bf1f7ecd4dc7\n[2023-01-19 10-23-40] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 6af520d5138e4466\n[2023-01-19 10-37-10] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: b789e2a0fbaa4853\n[2023-01-23 05-40-31] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: d32c58ce1d054811\n[2023-01-23 05-57-06] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: c5e1b29750ec479d\n[2023-01-23 06-54-28] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 2469f0fa40d9483c\n[2023-01-23 07-08-30] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: ed29c09dad904cfc\n[2023-01-23 07-16-54] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: b79d265b0fed46e3\n[2023-01-23 07-35-48] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 126fe9618f9b4439\n[2023-01-23 07-47-49] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: f1bfe8a54587482e\n[2023-01-24 06-38-02] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 98b7f4b01b834726\n[2023-01-24 06-47-11] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: e226ee4262cd4a71\n[2023-01-24 06-53-53] EamID: 203598| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 2c79a9ae3c1b4d8c\n[2023-05-29 16-00-33] EamID: 999999| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: af5c53e108344edb\n[2023-05-30 05-52-39] EamID: 999999| ApiID: aaa_testapi-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0239192| InternalReference: 875227ea325c4ea1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_251227d2_49cf_4ae6_8111_9332dbbc7181 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '251227d2-49cf-4ae6-8111-9332dbbc7181'
  properties: {
    displayName: 'DS-API'
    description: '[2023-12-11 12-30-02] EamID: 204126| ApiID: ds-api-v10| Requestor:L00577| RequestorManager: S31545| Owner: L00577| OwnerManager: S31545| RequestNo: SNOW#SCTASK0344587| InternalReference: 55a25e2b545542c9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_27ad9ab6_d54f_46f5_8bfd_3a5da1922ed8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '27ad9ab6-d54f-46f5-8bfd-3a5da1922ed8'
  properties: {
    displayName: 'Octopus USIP Utilities'
    description: '[2025-07-29 11-04-36] EamID: 205509| ApiID: octopus-usip-utilities-v10| Requestor:S00324| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0484931| InternalReference: ff86a09064fc4e28'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_2a923611_9f2b_4d31_b576_02d630c17ae3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2a923611-9f2b-4d31-b576-02d630c17ae3'
  properties: {
    displayName: 'UES ILP'
    description: '[2025-08-20 16-18-46] EamID: 205544| ApiID: ues-ilp-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0490142| InternalReference: 29182eb3068342dc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_2b601eea_19c8_48fd_8b73_36a7e81da6d3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2b601eea-19c8-48fd-8b73-36a7e81da6d3'
  properties: {
    displayName: 'StarCB'
    description: '[2021-08-20 11-56-17] EamID: 202913| ApiID: starcb-v10| Requestor:L17895| RequestorManager: F6903| Owner: L17895| OwnerManager: F6903| RequestNo: SNOW#SCTASK0173734| InternalReference: 5ab3c70034a24983'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_2c0b60f7_fc97_4c1c_9cbe_3c2b21acdb3e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2c0b60f7-fc97-4c1c-9cbe-3c2b21acdb3e'
  properties: {
    displayName: 'MIA-MarketReport'
    description: '[2022-09-09 11-34-36] EamID: 203504| ApiID: mia-marketreport-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240028| InternalReference: b1593da96b884b0a'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_2ca27652_4600_4e39_996e_36478e208afa 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2ca27652-4600-4e39-996e-36478e208afa'
  properties: {
    displayName: 'UMS-NotificationHub'
    description: '[2022-08-30 11-11-47] EamID: 203444| ApiID: ums-notificationhub-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237788| InternalReference: b2145a55821e4482'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_2cb2b5f8_83c2_4a08_a206_d6b1847fb9a8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2cb2b5f8-83c2-4a08-a206-d6b1847fb9a8'
  properties: {
    displayName: 'Rest Proxy Tenoris'
    description: '[2022-11-10 11-56-25] EamID: 203598| ApiID: rest-proxy-tenoris-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0253710| InternalReference: 8e7e44d24db448b7'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_2cd23e66_606f_4460_97ef_9a36d3a64f5c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2cd23e66-606f-4460-97ef-9a36d3a64f5c'
  properties: {
    displayName: 'USIP-Apps'
    description: '[2023-03-13 12-55-51] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 8c383ac614e8453b\n[2023-03-13 12-57-40] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 3ae207e455b24a6c\n[2023-03-14 07-54-43] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 43b5039a1ac94cb3\n[2023-03-14 12-55-30] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 6b8bf19a84b04239\n[2023-03-14 12-56-38] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: ce1cbd8105dc40d2\n[2023-03-16 06-24-58] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 581f1cfe20e14e0f\n[2023-03-16 11-37-15] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: e0cce244fb2745ea\n[2023-03-16 12-05-57] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: d93469b2051842e9\n[2023-03-16 12-13-25] EamID: 203780| ApiID: usip-apps-v10| Requestor:P00800| RequestorManager: M42566| Owner: P00800| OwnerManager: M42566| RequestNo: SNOW#SCTASK0279037| InternalReference: 6952d72564d947b9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_2e4319c0_f05a_49ce_b11b_ddb3b548b390 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '2e4319c0-f05a-49ce-b11b-ddb3b548b390'
  properties: {
    displayName: 'Testdigicision'
    description: '[2023-04-06 08-30-53] EamID: 203596| ApiID: testdigicision-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0286154| InternalReference: f7795c01b4914a48'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_30688b52_810f_49e9_a3d4_36821de0c2f4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '30688b52-810f-49e9-a3d4-36821de0c2f4'
  properties: {
    displayName: 'demoServiceNow'
    description: '[2024-01-31 15-37-08] EamID: 999999| ApiID: demoservicenow-v10| Requestor:I3313| RequestorManager: S5144| Owner: N1801| OwnerManager: G14238| RequestNo: SNOW#SCTASK0345387| InternalReference: 660f56619e0343a2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_32d57f22_c2ad_4049_b0e8_17a049d6ff74 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '32d57f22-c2ad-4049-b0e8-17a049d6ff74'
  properties: {
    displayName: 'CRMUES-PhoneCalls-Read'
    description: '[2022-02-10 07-10-25] EamID: 203163| ApiID: crmues-phonecalls-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#SCTASK0200088| InternalReference: 5d52328ce908425f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_330e1c8f_7626_4e31_a3c4_18bbfa35c7d0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '330e1c8f-7626-4e31-a3c4-18bbfa35c7d0'
  properties: {
    displayName: 'PrismApi'
    description: '[2024-11-13 09-48-36] EamID: 204728| ApiID: prismapi-v10| Requestor:P01464| RequestorManager: | Owner: P01464| OwnerManager: | RequestNo: SNOW#SCTASK0422827| InternalReference: 8aa48ddd249942aa\n[2025-06-26 08-55-24] EamID: 204728| ApiID: prismapi-v20| Requestor:P01464| RequestorManager: | Owner: P01464| OwnerManager: | RequestNo: SNOW#SCTASK0422827| InternalReference: 59b1ce4aadb14538'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_346a3c77_efd0_4a4c_91ac_b6f68e2c845a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '346a3c77-efd0-4a4c-91ac-b6f68e2c845a'
  properties: {
    displayName: 'Fenix-USIP-Utilities'
    description: '[2024-01-05 13-14-53] EamID: 204147| ApiID: fenix-usip-utilities-v10| Requestor:V7406| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0349199| InternalReference: caaa263f97af4ca8'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_367c557f_9199_4f49_9055_223f18ce7e7b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '367c557f-9199-4f49-9055-223f18ce7e7b'
  properties: {
    displayName: 'CRMUES-Accounts-Write'
    description: '[2022-07-08 10-01-36] EamID: 203402| ApiID: crmues-accounts-write-v10| Requestor:D000041| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0228807| InternalReference: 2cb78830041b448e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_394593e4_b8de_47d4_bc78_5fe6180f1fb3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '394593e4-b8de-47d4-bc78-5fe6180f1fb3'
  properties: {
    displayName: 'SAP ICE'
    description: '[2020-11-03 01-13-06] EamID: 156892 | ApiID: sap-ice-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126779 | InternalReference: 6f7f946231d84b6e'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_3a140768_ecf1_4d84_bf86_9b67109536be 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3a140768-ecf1-4d84-bf86-9b67109536be'
  properties: {
    displayName: 'fuse'
    description: '[2024-03-13 15-16-15] EamID: 200895| ApiID: fuse-v10| Requestor:J01634| RequestorManager: J01634| Owner: C00528| OwnerManager: C00528| RequestNo: SNOW#SCTASK0366620| InternalReference: 8462705d16f74e6d\n[2024-03-13 15-26-57] EamID: 200895| ApiID: fuse-v10| Requestor:J01634| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0366620| InternalReference: 578e6bab234843d4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3a2e28cf_257b_42d8_ad2d_d9eaaa061fd3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3a2e28cf-257b-42d8-ad2d-d9eaaa061fd3'
  properties: {
    displayName: 'CRMUES-Quotes-Write'
    description: '[2022-07-08 09-23-42] EamID: 203401\t| ApiID: crmues-quotes-write-v10| Requestor:D000041| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0228808| InternalReference: 208ac4e9abb849a6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3a77da5f_a877_49f0_bb12_ae4a31996e82 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3a77da5f-a877-49f0-bb12-ae4a31996e82'
  properties: {
    displayName: 'CRMUES-Mastrs-Read'
    description: '[2024-08-22 12-27-08] EamID: 204583| ApiID: crmues-mastrs-read-v10| Requestor:B01293| RequestorManager: | Owner: B01293| OwnerManager: | RequestNo: SNOW#SCTASK0406559| InternalReference: e1f274ed96fd41d1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3b391224_1a35_4360_aacb_bf6b3fb118ff 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3b391224-1a35-4360-aacb-bf6b3fb118ff'
  properties: {
    displayName: 'EAI-USIP-MAR'
    description: '[2022-02-25 12-46-26] EamID: 203202| ApiID: eai-usip-mar-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0202412| InternalReference: 6241dba157df43ca'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3b57d68e_a1b2_4032_9b7b_468a18831cca 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3b57d68e-a1b2-4032-9b7b-468a18831cca'
  properties: {
    displayName: 'CRMUES-Connections-Write'
    description: '[2022-12-27 10-58-45] EamID: 203670| ApiID: crmues-connections-write-v10| Requestor:U00080| RequestorManager: N7541| Owner: U00080| OwnerManager: N7541| RequestNo: SNOW#SCTASK0262928| InternalReference: 2540da8478de427a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3b603a03_11aa_4582_aee7_484506b7b84c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3b603a03-11aa-4582-aee7-484506b7b84c'
  properties: {
    displayName: 'UES-PegasusPower-WebService'
    description: '[2024-04-16 12-50-32] EamID: 204429| ApiID: ues-pegasuspower-webservice-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0374562| InternalReference: 87d816bfd7f14fd8'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3b6506b4_fbc3_4076_a05c_874d8e67b4bf 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3b6506b4-fbc3-4076-a05c-874d8e67b4bf'
  properties: {
    displayName: 'Azure Maps-Timezone'
    description: '[2020-09-21 03-20-14] EamID: 200823 | ApiID: azure-maps-timezone-v10 | Requestor: G2958 | RequestorManager: S5144 | Owner: G2958 | OwnerManager: S5144 | RequestNo: CMCOrders#121346 | InternalReference: cce0266ec16645e9'
    versioningScheme: 'Query'
    versionQueryName: 'api-version'
  }
}

resource service_uniperapis_dev_name_3bfd933f_2bec_4d3e_bf63_71fde03b96f2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3bfd933f-2bec-4d3e-bf63-71fde03b96f2'
  properties: {
    displayName: 'PromptOpt'
    description: '[2022-03-29 07-49-02] EamID: 203278| ApiID: promptopt-v10| Requestor:S48065| RequestorManager: M35320| Owner: S48065| OwnerManager: M35320| RequestNo: SNOW#SCTASK0208851| InternalReference: 3ad0ce1c076a429e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3cb8d912_2c4c_4b0d_affc_7b099296baab 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3cb8d912-2c4c-4b0d-affc-7b099296baab'
  properties: {
    displayName: 'sap-pr'
    description: '[2025-06-17 11-06-24] EamID: 205454| ApiID: sap-pr-v10| Requestor:C00168| RequestorManager: | Owner: C00168| OwnerManager: | RequestNo: SNOW#SCTASK0475265| InternalReference: 20fcbe641f3d4437'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3d28baf0_b20f_4c1d_b828_85eeae0c1a7e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3d28baf0-b20f-4c1d-b828-85eeae0c1a7e'
  properties: {
    displayName: 'TIS'
    description: '[2024-08-02 13-37-33] EamID: 204558| ApiID: treasuryintelligencesolutions-v10| Requestor:O0642| RequestorManager: | Owner: O0642| OwnerManager: | RequestNo: SNOW#SCTASK0399533| InternalReference: e73de9d57d084e85'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_3e45669d_fe78_4e7e_b25b_9d1887728b1a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '3e45669d-fe78-4e7e-b25b-9d1887728b1a'
  properties: {
    displayName: 'SAP Ariba SLP Supplier Data'
    description: '[2023-03-07 10-46-41] EamID: 201658| ApiID: sap-ariba-slp-supplier-data-v40| Requestor:E8164| RequestorManager: K9839| Owner: E8164| OwnerManager: K9839| RequestNo: SNOW#SCTASK0278254| InternalReference: cededb356fcc48e2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_40ddbd9e_a8ed_413f_8d3a_13f752fb6be9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '40ddbd9e-a8ed-413f-8d3a-13f752fb6be9'
  properties: {
    displayName: 'MIA-Podcasts'
    description: '[2022-09-08 14-46-35] EamID: 203501| ApiID: mia-podcasts-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237798| InternalReference: 927a2082b42b44ae'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_40f9fa00_9cb3_4615_ac30_2b1a8eb85fa0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '40f9fa00-9cb3-4615-ac30-2b1a8eb85fa0'
  properties: {
    displayName: 'demoServiceNow'
    description: '[2024-02-05 17-53-30] EamID: 999999| ApiID: demoservicenow-v10| Requestor:I3313| RequestorManager: S5144| Owner: N1801| OwnerManager: G14238| RequestNo: SNOW#SCTASK0345387| InternalReference: a21e8fa4c6084a5a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_41549655_5ac5_4cd6_a30d_29758cb68d22 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '41549655-5ac5-4cd6-a30d-29758cb68d22'
  properties: {
    displayName: 'AzureCognitiveServices-Translator'
    description: '[2020-09-22 23-40-37] EamID: 157676 | ApiID: azurecognitiveservices-translator-v30 | Requestor: G2958 | RequestorManager: S5144 | Owner: G2958 | OwnerManager: S5144 | RequestNo: CMCOrders#121999 | InternalReference: 0ffaf9ad4a51445c'
    versioningScheme: 'Query'
    versionQueryName: 'api-version'
  }
}

resource service_uniperapis_dev_name_4589087d_b726_4e22_87a6_926b3284b516 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4589087d-b726-4e22-87a6-926b3284b516'
  properties: {
    displayName: 'MDAP-EBP-API'
    description: '[2021-03-22 13-30-39] EamID: 201681| ApiID: mdap-ebp-api-v10| Requestor:V6284| RequestorManager: J18013| Owner: V6284| OwnerManager: J18013| RequestNo: SNOW#SCTASK0152955| InternalReference: 05dcb99a0197454f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_4743b27c_f5e9_4adb_b9db_c23959d39e2b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4743b27c-f5e9-4adb-b9db-c23959d39e2b'
  properties: {
    displayName: 'TPM'
    description: '[2024-08-02 09-23-15] EamID: 204563| ApiID: tpm-v10| Requestor:V00863| RequestorManager: | Owner: V00863| OwnerManager: | RequestNo: SNOW#SCTASK0401214| InternalReference: 7c3258362bde44af\n[2026-01-05 07-01-02] EamID: 204563| ApiID: tpm-v20| Requestor:A03302| RequestorManager: | Owner: B11868| OwnerManager: | RequestNo: SNOW#SCTASK0520728| InternalReference: c2289f5b42ac4c5b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_4748a26e_5400_4502_8182_95dcfd7c67bc 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4748a26e-5400-4502-8182-95dcfd7c67bc'
  properties: {
    displayName: 'SalesPortal-IDD-SalesData-Reporting-API'
    description: '[2025-01-17 13-31-08] EamID: 205201| ApiID: salesportal-idd-salesdata-reporting-api-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0441052| InternalReference: d1a3b988d6c2430e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_4b74de8a_b4dc_4e64_b67f_5d6dccdf749b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4b74de8a-b4dc-4e64-b67f-5d6dccdf749b'
  properties: {
    displayName: 'Constraint-Control-API'
    description: '[2023-08-11 15-19-03] EamID: 203988| ApiID: constraint-control-api-v10| Requestor:M41509| RequestorManager: M47017| Owner: T00720| OwnerManager: C00190| RequestNo: SNOW#SCTASK0313507| InternalReference: 2a8ba06cbfb548b2\n[2023-08-11 15-37-46] EamID: 203988| ApiID: constraint-control-api-v10| Requestor:M41509| RequestorManager: M47017| Owner: T00720| OwnerManager: C00190| RequestNo: SNOW#SCTASK0313507| InternalReference: bdceaf1f20f34417'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_4d161abe_780d_492d_857d_5dbdda891aec 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4d161abe-780d-492d-857d-5dbdda891aec'
  properties: {
    displayName: 'EIS-DeltaXe-Contract'
    description: '[2021-06-11 16-49-12] EamID: 200895| ApiID: eis-deltaxe-contract-v10| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#RITM0139096| InternalReference: d0affdeaece94290'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_4fdc17ae_ffdf_4e81_b8cc_8f887641595f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '4fdc17ae-ffdf-4e81-b8cc-8f887641595f'
  properties: {
    displayName: 'MIA-UserProfileBadges'
    description: '[2022-09-13 10-52-49] EamID: 203514| ApiID: mia-userprofilebadges-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240397| InternalReference: dabfb0628b8749c5'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_502a2c6e_6e53_47fe_9d56_4f0e11cd6cfc 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '502a2c6e-6e53-47fe-9d56-4f0e11cd6cfc'
  properties: {
    displayName: 'DataservicesESBVPC-Pricerequest'
    description: '[2024-06-20 08-00-11] EamID: 200896| ApiID: dataservicesesbvpc-pricerequest-v10| Requestor:J01634| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0389212| InternalReference: c668c4a5a5ea4e83'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_50df6154_b690_4289_a419_7f211a0df4cc 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '50df6154-b690-4289-a419-7f211a0df4cc'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_529ee8f1_c3e2_431d_9d98_568c2284748d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '529ee8f1-c3e2-431d-9d98-568c2284748d'
  properties: {
    displayName: 'FUSE-EDGE-NBR'
    description: '[2022-11-14 12-32-46] EamID: 203600| ApiID: fuse-edge-nbr-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0253321| InternalReference: 5b7bff74ccbb4690'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_52ba3e02_218c_47b7_a7b9_a801eb2ee293 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '52ba3e02-218c-47b7-a7b9-a801eb2ee293'
  properties: {
    displayName: 'CRMUES-Opportunities-Write'
    description: '[2022-07-08 10-49-23] EamID: 203403| ApiID: crmues-opportunities-write-v10| Requestor:D000041| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0228802| InternalReference: 02fed632e4704d44'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_52ea983f_895a_4527_9783_fb18ec345d6e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '52ea983f-895a-4527-9783-fb18ec345d6e'
  properties: {
    displayName: 'demotestgrpc'
    description: '[2024-03-21 08-49-37] EamID: 999999| ApiID: demotestgrpc-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 13a323657a52408e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_533b3e90_0c44_4f4b_b919_6a22ad1b506a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '533b3e90-0c44-4f4b-b919-6a22ad1b506a'
  properties: {
    displayName: 'EAI-USIP'
    description: '[2021-09-13 10-47-57] EamID: 202955| ApiID: eai-usip-v10| Requestor:G19389| RequestorManager: M42566| Owner: G19389| OwnerManager: M42566| RequestNo: SNOW#SCTASK0177243| InternalReference: ae0909a83d46477f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_540215c1_9b71_4c82_aad8_2c6ad47db815 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '540215c1-9b71-4c82-aad8-2c6ad47db815'
  properties: {
    displayName: 'Holidaycalendar'
    description: '[2022-09-22 13-48-26] EamID: 203553| ApiID: holidaycalendar-v10| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0243772| InternalReference: 06ff55678be549b6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5419852f_e5b9_4027_8a58_c193b9ce347d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5419852f-e5b9-4027-8a58-c193b9ce347d'
  properties: {
    displayName: 'Rest Proxy'
    description: '[2022-10-11 14-28-38] EamID: 203575| ApiID: rest-proxy-v10| Requestor:P00746| RequestorManager: M42566| Owner: P00746| OwnerManager: M42566| RequestNo: SNOW#SCTASK0246998| InternalReference: 5774702f09d74d79'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_54ac3b8d_72ca_48b7_b292_69faeffee308 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '54ac3b8d-72ca-48b7-b292-69faeffee308'
  properties: {
    displayName: 'CRMUES-VisitReports-Read'
    description: '[2022-02-09 07-41-34] EamID: 203156| ApiID: crmues-visitreports-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: N7541| OwnerManager: M10165| RequestNo: SNOW#RITM0171072| InternalReference: 1d92510df039444f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_559767d2_66ea_4036_b08b_852184a86999 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '559767d2-66ea-4036-b08b-852184a86999'
  properties: {
    displayName: 'MIA-AssetManagement'
    description: '[2022-09-13 10-36-40] EamID: 203512| ApiID: mia-assetmanagement-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240011| InternalReference: 89c13c783ac8408c'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_55a66713_c5c8_4222_9d93_e2241f0bcc08 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '55a66713-c5c8-4222-9d93-e2241f0bcc08'
  properties: {
    displayName: 'MISP-MISP2Sentinel'
    description: '[2023-12-27 14-08-44] EamID: 204143| ApiID: misp-misp2sentinel-v10| Requestor:R00816| RequestorManager: O00014| Owner: R00816| OwnerManager: O00014| RequestNo: SNOW#SCTASK0347153| InternalReference: 59edc66f500d4eed'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5775d6c1_60a7_4cd1_be01_9954033b4e0a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5775d6c1-60a7-4cd1-be01-9954033b4e0a'
  properties: {
    displayName: 'UES-Enmacc-Read-Service'
    description: '[2024-01-30 09-00-36] EamID: 204194| ApiID: ues-enmacc-read-service-v10| Requestor:T00720| RequestorManager: C00190| Owner: T00720| OwnerManager: C00190| RequestNo: SNOW#SCTASK0354668| InternalReference: 78de12adecb142a5'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_57dc1f34_1da7_4828_b770_bb2b2aa6eae4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '57dc1f34-1da7-4828-b770-bb2b2aa6eae4'
  properties: {
    displayName: 'Future Modeling Platform'
    description: '[2020-11-30 09-30-31] EamID: 201537 | ApiID: future-modeling-platform-v10 | Requestor: E17538 | RequestorManager: K16319 | Owner: B12868 | OwnerManager: K16319 | RequestNo: CMCOrders#132084 | InternalReference: c2a0e89c1f7b4764\n[2021-04-23 12-44-18] EamID: 200532| ApiID: future-modeling-platform-v20| Requestor:E17538| RequestorManager: K16319| Owner: B12868| OwnerManager: K16319| RequestNo: CMCOrders#132084| InternalReference: 07ad0fcaa20e494d\n[2021-06-23 10-08-41] EamID: 201537| ApiID: future-modeling-platform-v30| Requestor:E17538| RequestorManager: K16319| Owner: B12868| OwnerManager: K16319| RequestNo: SNOW#RITM0140491| InternalReference: 4dabc9a1945446d0\n[2021-07-20 14-09-23] EamID: 201537| ApiID: future-modeling-platform-v40| Requestor:E17538| RequestorManager: K16319| Owner: B12868| OwnerManager: K16319| RequestNo: SNOW#RITM0144167| InternalReference: 060f75a26cc445af'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_57de8d10_ed91_4918_9c75_0d8f3e5efec6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '57de8d10-ed91-4918-9c75-0d8f3e5efec6'
  properties: {
    displayName: 'SAP ZFI_EXCHANGE_RATE'
    description: '[2020-11-03 00-47-13] EamID: 156892 | ApiID: sap-zfi_exchange_rate-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126774 | InternalReference: 88493b101b404bc5'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_5884c62a_ed10_48c3_b4ba_49c33d5837a4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5884c62a-ed10-48c3-b4ba-49c33d5837a4'
  properties: {
    displayName: 'EIS-DeltaXe-SAP'
    description: '[2021-06-11 16-51-19] EamID: 200895| ApiID: eis-deltaxe-sap-v10| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#RITM0139096| InternalReference: 5653af64eeaf4b76'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_589c4378_c889_46ea_b6f0_75c4974ef779 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '589c4378-c889-46ea-b6f0-75c4974ef779'
  properties: {
    displayName: 'PKFG-ProductConfiguration'
    description: '[2020-10-23 04-38-37] EamID: 201540 | ApiID: pkfg-productconfiguration-v10 | Requestor: A9123 | RequestorManager: N7541 | Owner: J9965 | OwnerManager: N7541 | RequestNo: CMCOrders#120113 | InternalReference: 7e4ef06b33444547'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_598e2549_bdce_4e2f_b2df_4e65f8189dc1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '598e2549-bdce-4e2f-b2df-4e65f8189dc1'
  properties: {
    displayName: 'CRMUES-GeneratingUnits-Read'
    description: '[2024-03-22 13-55-39] EamID: 204360| ApiID: crmues-generatingunits-read-v10| Requestor:F00294| RequestorManager: | Owner: F00294| OwnerManager: | RequestNo: SNOW#SCTASK0368897| InternalReference: 0b55ef3a77f14733'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_598f273c_07e9_4225_8a9a_079925da4337 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '598f273c-07e9-4225-8a9a-079925da4337'
  properties: {
    displayName: 'Seeburger E-Invoicing_x68'
    description: '[2021-02-26 05-32-55] EamID: 200919| ApiID: seeburger-e-invoicing_x68-v10| Requestor:M60225| RequestorManager: J32844| Owner: O2096| OwnerManager: J32844| RequestNo: CMCOrders#140479| InternalReference: 8db1239e34ac4035'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5ac848b6_6277_4cd9_a8df_29de217bfed2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5ac848b6-6277-4cd9-a8df-29de217bfed2'
  properties: {
    displayName: 'Seeburger E-Invoicing_x63'
    description: '[2021-02-26 05-30-32] EamID: 200919| ApiID: seeburger-e-invoicing_x63-v10| Requestor:M60225| RequestorManager: J32844| Owner: O2096| OwnerManager: J32844| RequestNo: CMCOrders#140479| InternalReference: a50188957705475c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5b8b15fd_7c89_483a_8b28_b81a58611159 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5b8b15fd-7c89-483a-8b28-b81a58611159'
  properties: {
    displayName: 'UMS-MarketReport'
    description: '[2022-11-07 05-27-41] EamID: 203473| ApiID: ums-marketreport-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237783| InternalReference: eae73dcd6a294aed'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5bb91812_663c_4590_a732_c6b7046a4cfd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5bb91812-663c-4590-a732-c6b7046a4cfd'
  properties: {
    displayName: 'UES Price-Service'
    description: '[2025-07-07 09-11-20] EamID: 205481| ApiID: ues-price-service-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0479843| InternalReference: a4b32b9f3b0a4d29'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5c7d96b0_8fcf_456c_9904_2e55ea6d1d14 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5c7d96b0-8fcf-456c-9904-2e55ea6d1d14'
  properties: {
    displayName: 'demotestsoapapi'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5d52abf2832aa182f62196b0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5d52abf2832aa182f62196b0'
  properties: {
    displayName: 'Enterprise Application Management'
    description: '[2020-11-11 23-09-49] EamID: 200852 | ApiID: enterprise-application-management-v30 | Requestor: S17340 | RequestorManager: S5144 | Owner: S17340 | OwnerManager: S5144 | RequestNo: CMCOrders#128428 | InternalReference: 062a87850ed04a94\n[2023-09-21 09-32-17] EamID: 200852| ApiID: enterprise-application-management-v40| Requestor:I3313| RequestorManager: S5144| Owner: I3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0322896| InternalReference: d0382a73620a42e7\n[2025-06-23 14-08-45] EamID: 200852| ApiID: enterprise-application-management-v70| Requestor:I3313| RequestorManager: | Owner: K2989| OwnerManager: | RequestNo: SNOW#SCTASK0476332| InternalReference: f3c7f024fa394466\n[2025-06-23 14-20-52] EamID: 200852| ApiID: enterprise-application-management-v70| Requestor:I3313| RequestorManager: | Owner: K2989| OwnerManager: | RequestNo: SNOW#SCTASK0476332| InternalReference: 98bc737ed4524729'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5d6fe2a4_e659_4afa_87cb_c68a8ba82d2d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5d6fe2a4-e659-4afa-87cb-c68a8ba82d2d'
  properties: {
    displayName: 'Demo-Odata2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5d919ce1_18fd_446c_b82c_16cdfb7df35a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5d919ce1-18fd-446c-b82c-16cdfb7df35a'
  properties: {
    displayName: 'Sales-Trading-Portal-Enmacc-Demand'
    description: '[2021-02-01 08-54-22] EamID: API-201569 | ApiID: sales-trading-portal-enmacc-demand-v10 | Requestor: C00124 | RequestorManager:  | Owner: C00124 | OwnerManager:  | RequestNo: CMCOrders#142644 | InternalReference: f0a09531defa4914'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5ddef6f3_05a8_48ec_a8fa_f84007aa3a1c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5ddef6f3-05a8-48ec-a8fa-f84007aa3a1c'
  properties: {
    displayName: 'xkey-api'
    description: '[2023-01-30 12-13-11] EamID: 203719| ApiID: xkey-api-v10| Requestor:A01549| RequestorManager: E00537| Owner: E00537| OwnerManager: P12369| RequestNo: SNOW#SCTASK0269583| InternalReference: cf2c1517f4714fbf\n[2023-01-30 12-41-44] EamID: 203719| ApiID: xkey-api-v10| Requestor:A01549| RequestorManager: E00537| Owner: E00537| OwnerManager: P12369| RequestNo: SNOW#SCTASK0269583| InternalReference: 23d526f78b124897\n[2023-01-31 06-11-26] EamID: 203719| ApiID: xkey-api-v10| Requestor:A01549| RequestorManager: E00537| Owner: E00537| OwnerManager: P12369| RequestNo: SNOW#SCTASK0269583| InternalReference: cc14b402fad04c24\n[2023-01-31 06-14-13] EamID: 203719| ApiID: xkey-api-v10| Requestor:A01549| RequestorManager: E00537| Owner: E00537| OwnerManager: P12369| RequestNo: SNOW#SCTASK0269583| InternalReference: eac2f73e67304dc9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5df385dcc23c2ad028421fa3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5df385dcc23c2ad028421fa3'
  properties: {
    displayName: 'FUSE-DataservicesESBVPC-Pricerequest'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5e4944fe_a022_4918_92c5_a263e982276f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5e4944fe-a022-4918-92c5-a263e982276f'
  properties: {
    displayName: 'Endur-EIS-CA'
    description: '[2023-09-20 15-11-25] EamID: 200899| ApiID: endur-eis-ca-v10| Requestor:U00114| RequestorManager: O00055| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0321829| InternalReference: 214f2c59ce154ae1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f03fcb7e7e5b995c29b21e1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f03fcb7e7e5b995c29b21e1'
  properties: {
    displayName: 'CRMUES-Accounts-Read'
    description: '[2021-03-02 09-15-52] EamID: 200904| ApiID: crmues-accounts-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: 12a19fcc55864619'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f03fce2307a7a6c4ed252fd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f03fce2307a7a6c4ed252fd'
  properties: {
    displayName: 'CRMUES-Contacts-Read'
    description: '[2021-03-02 09-29-40] EamID: 200906| ApiID: crmues-contacts-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: 8197e6328d5246c0'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f03fd0a5665a66af0102120 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f03fd0a5665a66af0102120'
  properties: {
    displayName: 'CRMUES-Contacts-Write'
    description: '[2021-03-04 14-44-23] EamID: 201590| ApiID: crmues-contacts-write-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0151009| InternalReference: 7f7d92fe1f6d438c\n[2023-04-11 06-56-09] EamID: 200909| ApiID: crmues-contacts-write-v30| Requestor:F00294| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0286421| InternalReference: 05c27ac205d44a0f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f2b990caee6d0cbca66f1b1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f2b990caee6d0cbca66f1b1'
  properties: {
    displayName: 'CRMUES-CustomerSegmentHistory-Read'
    description: '[2021-03-02 07-39-33] EamID: 200907| ApiID: crmues-customersegmenthistory-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: ae7a651bdbec4fce'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f3b02d6_739d_4a3d_956d_a1b415b8dd5e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f3b02d6-739d-4a3d-956d-a1b415b8dd5e'
  properties: {
    displayName: 'Rightangle-EAIESB-SAP'
    description: '[2024-10-01 12-56-07] EamID: 200936| ApiID: rightangle-eaiesb-sap-v10| Requestor:J01634| RequestorManager: | Owner: J01634| OwnerManager: | RequestNo: SNOW#SCTASK0416463| InternalReference: 227ded219fa74620'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5f449a1e4ba853c3259223e4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f449a1e4ba853c3259223e4'
  properties: {
    displayName: 'Fuse-Pegasus'
    description: '[2021-04-08 14-46-28] EamID: 203539| ApiID: fuse-pegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 9ed67f9c3f924df4\n[2021-04-08 14-50-50] EamID: 200895| ApiID: fuse-pegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: d36771f9c77844a2\n[2021-04-08 14-59-01] EamID: 200895| ApiID: fuse-pegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 7a76f888f58a46ed\n[2021-04-08 15-01-14] EamID: 200895| ApiID: fuse-pegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: 3a50658fc1c544da\n[2021-04-08 15-29-50] EamID: 200895| ApiID: fuse-pegasus-v20| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0155056| InternalReference: c571eabb90e74cae'
    versioningScheme: 'Segment'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_5f449a7af62c5563813be66c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f449a7af62c5563813be66c'
  properties: {
    displayName: 'Fuse-SAP-GO'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_5f449ac39c109ada41c1fa2f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f449ac39c109ada41c1fa2f'
  properties: {
    displayName: 'Fuse-SAP-Fenix'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_5f601dbc_fc73_4848_8276_079b272fc17d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f601dbc-fc73-4848-8276-079b272fc17d'
  properties: {
    displayName: 'SalesPortal-Framecontract-SalesData-Reporting-API'
    description: '[2024-06-14 14-13-14] EamID: 204535| ApiID: salesportal-framecontract-salesdata-reporting-api-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0388906| InternalReference: 830fcda9f51d4ca1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_5ffb7831_dd78_4f2b_b1f5_07d12056eff0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5ffb7831-dd78-4f2b-b1f5-07d12056eff0'
  properties: {
    displayName: 'test-graphql'
    description: '[2024-03-11 13-47-17] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: e8ce7e08462543f6\n[2024-03-11 14-10-04] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 530396fa3dfa4d2b\n[2024-03-11 14-11-07] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 2ec154c497064eea\n[2024-03-11 14-12-05] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 41927254f10e4938\n[2024-03-11 14-16-32] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: f939197e05d24ef6\n[2024-03-11 14-46-16] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: a3ffa69e95f84a6f\n[2024-03-11 14-48-03] EamID: 999999| ApiID: test-graphql-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: bc62cb6f30e5409e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61bc99d83d48fdf9a5ffb41f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61bc99d83d48fdf9a5ffb41f'
  properties: {
    displayName: 'Demo-GraphQl'
    description: '[2021-12-17 11-32-06] EamID: 203083| ApiID: demo-grpahql | Requestor:A00417| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#RITM0162460| InternalReference: 0b35df430869477e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61bc9b0e5fefc49947612e14 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61bc9b0e5fefc49947612e14'
  properties: {
    displayName: 'Demo-Websocket'
    description: '[2021-12-17 11-32-06] EamID: 203412| ApiID: demo-websocket | Requestor:A00417| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#RITM0162460| InternalReference: 0b35df430869477e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c0950684eab9567d2f705e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c0950684eab9567d2f705e'
  properties: {
    displayName: 'Demo-GraphQL'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c0954cf8c8fa4ee63f172c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c0954cf8c8fa4ee63f172c'
  properties: {
    displayName: 'Demo-GraphQL'
    description: '[2021-12-17 11-32-06] EamID: 203411| ApiID: demo-graphql | Requestor:A00417| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#RITM0162460| InternalReference: 0b35df430869477e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c4305a627767156fc22dce 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c4305a627767156fc22dce'
  properties: {
    displayName: 'Demo-GraphQL'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c43089c240419493b69007 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c43089c240419493b69007'
  properties: {
    displayName: 'Demo-GraphQL'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c4310fb3f49fedfe9779ca 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c4310fb3f49fedfe9779ca'
  properties: {
    displayName: 'demo-graphql'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_61c73e83_8d2c_4afc_82d0_dfb00e54ddd3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61c73e83-8d2c-4afc-82d0-dfb00e54ddd3'
  properties: {
    displayName: 'UMS-Settings'
    description: '[2022-09-02 13-53-34] EamID: 203475| ApiID: ums-settings-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237795| InternalReference: 79778e2893b749df'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_6246e370_3343_464a_bd5d_cd97de4481a7 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6246e370-3343-464a-bd5d-cd97de4481a7'
  properties: {
    displayName: 'CRMUES-KAMHistory-Read'
    description: '[2021-01-05 04-47-58] EamID: 57964 | ApiID: crmues-kamhistory-read-v10 | Requestor: D000041 | RequestorManager:  | Owner: N7541 | OwnerManager:  | RequestNo: CMCOrders#137809 | InternalReference: 7fc26f7423f34f95'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_625cd847_bac8_4ad7_9c57_e8e5386cf462 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '625cd847-bac8-4ad7-9c57-e8e5386cf462'
  properties: {
    displayName: 'fuse-sharp-ce'
    description: '[2023-06-30 08-13-29] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: 17fe73223b9a472b\n[2023-06-30 08-14-14] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: b610014d33b34271\n[2023-06-30 08-14-47] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: 9d7a03597a3741fb\n[2023-06-30 08-15-28] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: b950261551864166\n[2023-06-30 08-16-22] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: bf843b8bfea1417e\n[2023-06-30 08-17-01] EamID: 203936| ApiID: fuse-sharp-ce-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0301529| InternalReference: c0e156dd87284c8b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_62bb947d_0c99_4174_b728_5b69b081ab3e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62bb947d-0c99-4174-b728-5b69b081ab3e'
  properties: {
    displayName: 'CapMan'
    description: '[2020-12-23 05-46-42] EamID: 200831 | ApiID: capman-v10 | Requestor: P25243 | RequestorManager:  | Owner: R5971 | OwnerManager:  | RequestNo: CMCOrders#136233 | InternalReference: 978f8ea225d74fce'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_62d75653_338e_4ece_8d46_c90a4e2ae557 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62d75653-338e-4ece-8d46-c90a4e2ae557'
  properties: {
    displayName: 'UES-Credit-Risk-Service-Credit-Report-Document-Read'
    description: '[2022-12-08 13-08-22] EamID: 203612| ApiID: ues-credit-risk-service-credit-report-document-read-v10| Requestor:C00190| RequestorManager: N7541| Owner: C00190| OwnerManager: N7541| RequestNo: SNOW#SCTASK0259265| InternalReference: 45663a8dad344de4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_62f37ba9_069d_4712_abce_fb824094a235 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62f37ba9-069d-4712-abce-fb824094a235'
  properties: {
    displayName: 'po_availability_api'
    description: '[2023-09-13 10-48-37] EamID: 204017| ApiID: po_availability_api-v10| Requestor:A01047| RequestorManager: B13362| Owner: R3867| OwnerManager: B13362| RequestNo: SNOW#SCTASK0320123| InternalReference: b039669020b54e85'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_62f4e194_a50b_42b8_bf0e_8294791603de 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62f4e194-a50b-42b8-bf0e-8294791603de'
  properties: {
    displayName: 'Demo-Terraform'
    description: '[2022-07-15 10-51-13] EamID: 203413| ApiID: demo-terraform-v10| Requestor:i3313| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: CMCOrders#| InternalReference: 8b9e9ebb68f24225'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_63fa7df7_9911_4a25_94b8_5c70bd65e0ce 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63fa7df7-9911-4a25-94b8-5c70bd65e0ce'
  properties: {
    displayName: 'Fuse ESB'
    description: '[2021-02-18 11-04-24] EamID: 200895| ApiID: fuse-esb-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144680| InternalReference: 3b55c4c3c7454cb6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_642e79d630610b160c8752fc 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '642e79d630610b160c8752fc'
  properties: {
    displayName: 'DigicisionTest'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_642e7a0bd59f791d1cc7d87b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '642e7a0bd59f791d1cc7d87b'
  properties: {
    displayName: 'DigicisionTest'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6438bf56_00b1_4894_a72c_36830bd33751 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6438bf56-00b1-4894-a72c-36830bd33751'
  properties: {
    displayName: 'xceptor-endur-ltcinfra'
    description: '[2021-06-08 08-43-11] EamID: 202665| ApiID: xceptor-endur-ltcinfra-v10| Requestor:W11445| RequestorManager: C20195| Owner: W11445| OwnerManager: C20195| RequestNo: SNOW#RITM0138397| InternalReference: cca382e8291f48dd'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_64f83d54ca478ac0b212cf07 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64f83d54ca478ac0b212cf07'
  properties: {
    displayName: 'AAA Odata'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_64f84719dd718de156110186 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64f84719dd718de156110186'
  properties: {
    displayName: 'LinkedInLearning'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_64f8474310e28dad7bf3bd61 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64f8474310e28dad7bf3bd61'
  properties: {
    displayName: 'LinkedInLearning'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_64faffb2d73661e4cdbcc5cb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64faffb2d73661e4cdbcc5cb'
  properties: {
    displayName: 'aaa test2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_650028c6439bd3c10e29ec14 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '650028c6439bd3c10e29ec14'
  properties: {
    displayName: 'LinkedInLearning'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_653787cc8d2068b3624a104b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '653787cc8d2068b3624a104b'
  properties: {
    displayName: 'EAM API'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_653787d84d8b941f709fe762 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '653787d84d8b941f709fe762'
  properties: {
    displayName: 'EAM API'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_654e137414bf2ab87ffc5fcf 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '654e137414bf2ab87ffc5fcf'
  properties: {
    displayName: 'Demo-grpcAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_654e137b450211d00f9b13c0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '654e137b450211d00f9b13c0'
  properties: {
    displayName: 'Demo-grpcAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65d48faa35bce92cf36344b4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65d48faa35bce92cf36344b4'
  properties: {
    displayName: 'testgraphql'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65e6f34d9df3bf91365c4613 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e6f34d9df3bf91365c4613'
  properties: {
    displayName: 'NorthwindEntities'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65e6f357825898ccf0698ee5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e6f357825898ccf0698ee5'
  properties: {
    displayName: 'NorthwindEntities'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65e9c064d49cf8c8a17cde28 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e9c064d49cf8c8a17cde28'
  properties: {
    displayName: 'demotestodata'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65e9c5c84ae937b5af8e9ddc 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e9c5c84ae937b5af8e9ddc'
  properties: {
    displayName: 'demotest2grpahql'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65ef16ff09c0af9f961a9811 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65ef16ff09c0af9f961a9811'
  properties: {
    displayName: 'test-odata'
    description: '[2024-03-11 14-51-17] EamID: 999999| ApiID: test-odata-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 97ce895fad784c3c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65ef174400411f04dff5ee87 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65ef174400411f04dff5ee87'
  properties: {
    displayName: 'testodata'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65f45fce878d01755368f785 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65f45fce878d01755368f785'
  properties: {
    displayName: 'demo-test-spec'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_65f8494d9c6fcb0151fd11c4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65f8494d9c6fcb0151fd11c4'
  properties: {
    displayName: 'DemoService'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_676c4e7d_ac8d_41eb_b036_c82de947b7cd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '676c4e7d-ac8d-41eb-b036-c82de947b7cd'
  properties: {
    displayName: 'SeeburgerAS4-NEON'
    description: '[2024-08-09 09-15-19] EamID: 204573| ApiID: seeburgeras4-neon-v10| Requestor:N11205| RequestorManager: | Owner: N11205| OwnerManager: | RequestNo: SNOW#SCTASK0403372| InternalReference: 108f67f5a667457e'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_6812091bd136d69177f9e0f2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6812091bd136d69177f9e0f2'
  properties: {
    displayName: 'DemoStorage'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_68120b604fae08e79d6a3058 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68120b604fae08e79d6a3058'
  properties: {
    displayName: 'DemoStorage'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_68120b7039483ab6cd89755b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68120b7039483ab6cd89755b'
  properties: {
    displayName: 'DemoStorage'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_68120b8bb15d55899a33f2ff 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68120b8bb15d55899a33f2ff'
  properties: {
    displayName: 'DemoStorage'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_68120b93fc95af610acd449c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68120b93fc95af610acd449c'
  properties: {
    displayName: 'DemoStorage'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895a6bf3d68a9c1a2223c78 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895a6bf3d68a9c1a2223c78'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    description: '[2025-08-11 10-09-25] EamID: 205518| ApiID: slowreserve-neso-eacapi-v10| Requestor:S48065| RequestorManager: | Owner: R3867| OwnerManager: | RequestNo: SNOW#SCTASK0486856| InternalReference: 17b19807c1704199'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895a6d110eb9b7e21307650 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895a6d110eb9b7e21307650'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895a6f54254fd9fa7d86932 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895a6f54254fd9fa7d86932'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895a73c88033471095cb8b1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895a73c88033471095cb8b1'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895a78c85cb11e5cf14f4a9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895a78c85cb11e5cf14f4a9'
  properties: {
    displayName: 'Slow-Reserve-EAC-API'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fa5bec84a2f817604fe6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fa5bec84a2f817604fe6'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fa83b3ee198a74e534c5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fa83b3ee198a74e534c5'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fa93ef85ac7ccee1a8a3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fa93ef85ac7ccee1a8a3'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fb4b54422e75d8a797e7 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fb4b54422e75d8a797e7'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fb50a7d77a031f886c5b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fb50a7d77a031f886c5b'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fb917ffa551da2d8be5d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fb917ffa551da2d8be5d'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6895fc17c92b7ff8334ebb41 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6895fc17c92b7ff8334ebb41'
  properties: {
    displayName: 'demo-test'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_689999f5492c09c9a7a38cd4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '689999f5492c09c9a7a38cd4'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_68999ad4e7bfee0ab5d2b18b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68999ad4e7bfee0ab5d2b18b'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_69797ca6_05a5_4a99_9760_6f00d6ec8b31 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69797ca6-05a5-4a99-9760-6f00d6ec8b31'
  properties: {
    displayName: 'CRMUES-PowerBalancingGroups-Read'
    description: '[2022-09-13 12-13-48] EamID: 203521| ApiID: crmues-powerbalancinggroups-read-v10| Requestor:D000041| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0241095| InternalReference: 9c0ae54ac804438a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6b43786f_0244_4e27_b63e_9ce22f907e2e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6b43786f-0244-4e27-b63e-9ce22f907e2e'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Header'
    versionHeaderName: 'x-ms-version'
  }
}

resource service_uniperapis_dev_name_6bcc2d54_e22b_419e_9dad_fa69b84c853f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6bcc2d54-e22b-419e-9dad-fa69b84c853f'
  properties: {
    displayName: 'UK USIP Integration'
    description: '[2022-09-29 12-15-11] EamID: 203561| ApiID: uk-usip-integration-v10| Requestor:P00746| RequestorManager: M42566| Owner: P00746| OwnerManager: M42566| RequestNo: SNOW#SCTASK0243843| InternalReference: 520536d7fe5f4fec'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6c6f1170_db34_429f_b9bc_2903f76e1817 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6c6f1170-db34-429f-b9bc-2903f76e1817'
  properties: {
    displayName: 'sync master'
    description: '[2025-04-09 10-27-09] EamID: 205330| ApiID: sync-master-v10| Requestor:V00497| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0460616| InternalReference: a9b9611921a6404d'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6d001c10_fbe9_40b6_9d78_1afe0e8029cd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6d001c10-fbe9-40b6-9d78-1afe0e8029cd'
  properties: {
    displayName: 'UES-Email-Service'
    description: '[2021-01-15 09-03-08] EamID: APIM-201559 | ApiID: ues-email-service-v10 | Requestor: C00124 | RequestorManager:  | Owner: C00124 | OwnerManager:  | RequestNo: CMCOrders#139623 | InternalReference: 6eb3b3dfebc24c05'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6f145498_8a98_42f1_9c6a_418c5fa1615f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6f145498-8a98-42f1-9c6a-418c5fa1615f'
  properties: {
    displayName: 'digicision-document'
    description: '[2023-04-07 09-35-45] EamID: 203816| ApiID: digicision-document-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0286154| InternalReference: 2a4308313a8c4d3c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6f2bb988_6f36_44d1_8cf1_c729206d00e0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6f2bb988-6f36-44d1-8cf1-c729206d00e0'
  properties: {
    displayName: 'SAP BTP Procurement'
    description: '[2025-11-04 06-41-35] EamID: 205855| ApiID: sap-btp-procurement-v10| Requestor:N01382| RequestorManager: | Owner: N01382| OwnerManager: | RequestNo: SNOW#SCTASK0507464| InternalReference: 48cdd56a2d5d42a4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_6ff54249_3830_4166_a747_41bee98f2e0b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6ff54249-3830-4166-a747-41bee98f2e0b'
  properties: {
    displayName: 'rk-flow-javascript'
    description: '[2022-12-02 12-43-19] EamID: 203627| ApiID: rk-flow-javascript-v10| Requestor:R23573| RequestorManager: K9839| Owner: R23573| OwnerManager: K9839| RequestNo: SNOW#SCTASK0258713| InternalReference: 5519bb8dc8754289'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_7396a3eb_f6b6_4945_a7bd_b64629f3d2aa 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7396a3eb-f6b6-4945-a7bd-b64629f3d2aa'
  properties: {
    displayName: 'CRMUES-FunctionApp-UpdateCreditLine'
    description: '[2025-07-04 11-59-11] EamID: 205478| ApiID: crmues-functionapp-updatecreditline-v10| Requestor:U00080| RequestorManager: | Owner: U00080| OwnerManager: | RequestNo: SNOW#SCTASK0479564| InternalReference: 12dd29d0618d4852'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_73c1f8c1_f808_43bd_b78c_82472963ca0b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '73c1f8c1-f808-43bd-b78c-82472963ca0b'
  properties: {
    displayName: 'MyIdentity SCIM'
    description: '[2025-06-12 09-37-44] EamID: 205432| ApiID: myidentity-scim-v10| Requestor:R01152| RequestorManager: | Owner: I13011| OwnerManager: | RequestNo: SNOW#SCTASK0473941| InternalReference: 01ecbb6b5cef4a45'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_742cfc8d_424e_4fcd_81c5_16fd68f2d8fb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '742cfc8d-424e-4fcd-81c5-16fd68f2d8fb'
  properties: {
    displayName: 'digicision-project'
    description: '[2023-04-07 08-42-15] EamID: 203813| ApiID: digicision-project-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0286228| InternalReference: 7325a8392fb04f1d'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_74eabed2_706f_40a2_9f79_7e0e6ac88eff 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '74eabed2-706f-40a2-9f79-7e0e6ac88eff'
  properties: {
    displayName: 'coode-frida'
    description: '[2022-01-05 08-23-50] EamID: 203605| ApiID: coode-frida-v10| Requestor:S01078| RequestorManager: P8919| Owner: S01078| OwnerManager: P8919| RequestNo: SNOW#RITM0164278| InternalReference: 060d40d7d3264d12'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_756c22a9_be71_44fd_b04f_cc23f2a74be5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '756c22a9-be71-44fd-b04f-cc23f2a74be5'
  properties: {
    displayName: 'Endur-EIS-CA-VolumeImport'
    description: '[2020-12-08 06-08-15] EamID: 76702 | ApiID: endur-eis-ca-volumeimport-v10 | Requestor: S00386 | RequestorManager:  | Owner: S27716 | OwnerManager:  | RequestNo: CMCOrders#133425 | InternalReference: 9227b6ffd0f64272'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_759cb136_b44e_4140_afed_45e03184a62d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '759cb136-b44e-4140-afed-45e03184a62d'
  properties: {
    displayName: 'Tempora-API'
    description: '[2025-06-12 10-08-02] EamID: 205438| ApiID: tempora-api-v10| Requestor:B19737| RequestorManager: | Owner: B19737| OwnerManager: | RequestNo: SNOW#SCTASK0474356| InternalReference: 2727dc0943594c7b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_75c76cba_fc0c_40a1_ad65_f28e8da65f81 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '75c76cba-fc0c-40a1-ad65-f28e8da65f81'
  properties: {
    displayName: 'SAP Sales_Contracts'
    description: '[2020-11-03 01-14-44] EamID: 156892 | ApiID: sap-sales_contracts-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126780 | InternalReference: 0680c0207d124a1b'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_77e78a5c_1157_4986_92f8_9882f9e60757 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '77e78a5c-1157-4986-92f8-9882f9e60757'
  properties: {
    displayName: 'MIRA-IR-Backend-App'
    description: '[2022-07-22 11-15-18] EamID: 203418| ApiID: mira-ir-backend-app-v10| Requestor:S01054| RequestorManager: F6903| Owner: S01054| OwnerManager: F6903| RequestNo: SNOW#SCTASK0231690| InternalReference: c747cc9f60734201'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_78becd69_42b6_4835_8414_ea0bc881e311 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '78becd69-42b6-4835-8414-ea0bc881e311'
  properties: {
    displayName: 'laser3'
    description: '[2021-02-18 14-15-08] EamID: 203381 | ApiID: laser3 v1.0| Requestor:F00304| RequestorManager: K16319 | Owner: F00304| OwnerManager: M42566| RequestNo: CMCOrders#144695| InternalReference: 461f7a97da28488d'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_79bae1e0_c067_44f7_8a24_ece1ca7b14a6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '79bae1e0-c067-44f7-8a24-ece1ca7b14a6'
  properties: {
    displayName: 'IIOT-CoreService'
    description: '[2025-10-28 11-33-47] EamID: 205834| ApiID: iiot-coreservice-v10| Requestor:J35670| RequestorManager: | Owner: A00382| OwnerManager: | RequestNo: SNOW#SCTASK0505422| InternalReference: e5f6f11063e0420d'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_79bc0cf8_e4d4_40d7_b06f_ab2486681793 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '79bc0cf8-e4d4-40d7-b06f-ab2486681793'
  properties: {
    displayName: 'SlowReserve-NESO-API'
    description: '[2025-07-31 10-57-24] EamID: 205513| ApiID: slowreserve-neso-api-v10| Requestor:S48065| RequestorManager: | Owner: S48065| OwnerManager: | RequestNo: SNOW#SCTASK0485577| InternalReference: c3ac3e6b0f0a4542'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_79cbce13_c062_4954_b5f6_d49fdaf5bca2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '79cbce13-c062-4954-b5f6-d49fdaf5bca2'
  properties: {
    displayName: 'Pegasus-ILP-Loadcurve'
    description: '[2020-10-23 03-34-50] EamID: 18716 | ApiID: pegasus-ilp-loadcurve-v10 | Requestor: A9123 | RequestorManager: N7541 | Owner: C00124 | OwnerManager: N7541 | RequestNo: CMCOrders#118493 | InternalReference: a58c491490404ec9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_7bb7396b_91b6_4025_9d5a_c069bd437103 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7bb7396b-91b6-4025-9d5a-c069bd437103'
  properties: {
    displayName: 'SOS Berlin-JobScheduler'
    description: '[2020-12-07 08-29-11] EamID: 200852 | ApiID: sos-berlin-jobscheduler-v113 | Requestor: S17340 | RequestorManager: K16319 | Owner: J37176 | OwnerManager: K16319 | RequestNo: CMCOrders#133116 | InternalReference: 73dacfa407274896'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_7c710ce9_2d7c_45e3_85a4_97c69efba62f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7c710ce9-2d7c-45e3-85a4-97c69efba62f'
  properties: {
    displayName: 'Rest Proxy Celonis'
    description: '[2024-04-17 10-19-06] EamID: 204430| ApiID: rest-proxy-celonis-v10| Requestor:V00497| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0375081| InternalReference: aa7f4aacbcb84f94'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_7e4ce51b_1a3a_4586_8d9c_5f0a7fa66d49 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7e4ce51b-1a3a-4586-8d9c-5f0a7fa66d49'
  properties: {
    displayName: 'digicision-admin'
    description: '[2023-04-07 09-27-48] EamID: 203814| ApiID: digicision-admin-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0286230| InternalReference: f469a80543614b9a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_7f1aa7de_d7d9_4ef8_ae0d_d94f2aca472f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7f1aa7de-d7d9-4ef8-ae0d-d94f2aca472f'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Header'
    versionHeaderName: 'x-ms-version'
  }
}

resource service_uniperapis_dev_name_7f3d1fe9_ca0f_49af_a921_383078926d85 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '7f3d1fe9-ca0f-49af-a921-383078926d85'
  properties: {
    displayName: 'CRMUES-SecurityRoles-Write'
    description: '[2023-11-15 14-38-16] EamID: 204095| ApiID: crmues-securityroles-write-v10| Requestor:U00080| RequestorManager: N7541| Owner: U00080| OwnerManager: N7541| RequestNo: SNOW#SCTASK0336383| InternalReference: db4f1c3f9bba4c74'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_81816b1b_6e0e_41c8_8379_4bd1967eee57 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '81816b1b-6e0e-41c8-8379-4bd1967eee57'
  properties: {
    displayName: 'EDT EEX'
    description: '[2021-02-22 13-05-17] EamID: 200895| ApiID: edt-eex-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#145312| InternalReference: 28e3cc23e8a343d3'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_823c179f_76c7_42f8_8204_f53da484eb92 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '823c179f-76c7-42f8-8204-f53da484eb92'
  properties: {
    displayName: 'SAP ZCATS_WBS_EMPLOYEE'
    description: '[2020-11-03 00-39-58] EamID: 126747 | ApiID: sap-zcats_wbs_employee-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#125709 | InternalReference: 85e8b6e133494a17'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_83b92344_d127_43c6_b0b8_f020e7e6adda 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '83b92344-d127-43c6-b0b8-f020e7e6adda'
  properties: {
    displayName: 'Endur-EIS-CA-External'
    description: '[2020-10-21 00-16-39] EamID: 76702 | ApiID: endur-eis-ca-external-v10 | Requestor: S00386 | RequestorManager: M42566 | Owner: S27716 | OwnerManager: M42566 | RequestNo: CMCOrders#124179 | InternalReference: 24eb7277f9354e4b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_83dced63_5bf9_4d18_9a2c_31e9d9a16422 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '83dced63-5bf9-4d18-9a2c-31e9d9a16422'
  properties: {
    displayName: 'Tufin-VulnerabilityMitigation-API'
    description: '[2023-03-17 06-09-14] EamID: 203790| ApiID: tufin-vulnerabilitymitigation-api-v10| Requestor:C17471| RequestorManager: O00014| Owner: M50576| OwnerManager: O00014| RequestNo: SNOW#SCTASK0280735| InternalReference: f158f8ba407a4044'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_83de3908_85b6_462b_8e32_e5a1862b0c95 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '83de3908-85b6-462b-8e32-e5a1862b0c95'
  properties: {
    displayName: 'ummcomstar'
    description: '[2021-07-02 06-43-12] EamID: 202712| ApiID: ummcomstar-v10| Requestor:H27248| RequestorManager: F6903| Owner: H27248| OwnerManager: F6903| RequestNo: SNOW#SCTASK0165605| InternalReference: d1627c6aee0e4bd7'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_85ec729e_a22a_4589_96ff_47b882ec035b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '85ec729e-a22a-4589-96ff-47b882ec035b'
  properties: {
    displayName: 'SAP ZEBI_BILLING_DOC_SRV'
    description: '[2021-03-17 09-57-48] EamID: 201675| ApiID: sap-zebi_billing_doc_srv-v10| Requestor:A47818| RequestorManager: A13019| Owner: A47818| OwnerManager: A13019| RequestNo: SNOW#126779| InternalReference: 603e4237ce8c4fa9'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_879ab777_35fe_4ce1_8f1a_b8fe249f6373 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '879ab777-35fe-4ce1-8f1a-b8fe249f6373'
  properties: {
    displayName: 'FUSE-SAP-RIGHTANGLEOIL'
    description: '[2021-02-18 14-57-37] EamID: 200935| ApiID: rightangle-invoiceservice-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144699| InternalReference: 6f5cac55923e4112'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_87e51b3a_0519_4e23_8b1e_1a5001f243e2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '87e51b3a-0519-4e23-8b1e-1a5001f243e2'
  properties: {
    displayName: 'CRMUES-BalancingGroups-Read'
    description: '[2020-10-29 07-57-35] EamID: 57964 | ApiID: crmues-balancinggroups-read-v10 | Requestor: D000041 | RequestorManager: N7541 | Owner: N7541 | OwnerManager: S8196 | RequestNo: CMCOrders#125847 | InternalReference: ff4d6fdd2e9f4f30\n[2021-03-02 09-26-21] EamID: 200905| ApiID: crmues-balancinggroups-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: 9cfc60057b204fbf'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_88179730_8b3d_4c54_9191_8291f74c699d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '88179730-8b3d-4c54-9191-8291f74c699d'
  properties: {
    displayName: 'sales-portal-biomethane'
    description: '[2024-02-20 13-23-20] EamID: 204257| ApiID: sales-portal-biomethane-v10| Requestor:M01414| RequestorManager: | Owner: T00720| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: c9f04e9912614694'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_89e508b1_fae7_4d5c_9e1a_a765e77c3f1a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '89e508b1-fae7-4d5c-9e1a-a765e77c3f1a'
  properties: {
    displayName: 'Azure Cognitive Services-Form Recognizer'
    description: '[2020-12-28 03-56-18] EamID: EAM-API-201533 | ApiID: azure-cognitive-services-form-recognizer-v20 | Requestor: G2958 | RequestorManager:  | Owner: G2958 | OwnerManager:  | RequestNo: CMCOrders#137009 | InternalReference: f1288fbabb8f423e\n[2023-01-04 09-21-01] EamID: 201533| ApiID: azure-cognitive-services-form-recognizer-v30| Requestor:I3313| RequestorManager: S5144| Owner: I3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0264652| InternalReference: 4445e9f6f4dd41be'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_8a5308de_9961_4496_90f1_61e0137ea0f6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '8a5308de-9961-4496-90f1-61e0137ea0f6'
  properties: {
    displayName: 'USIP Proxy'
    description: '[2022-12-07 12-11-09] EamID: 203653| ApiID: usip-proxy-v10| Requestor:P00746| RequestorManager: M42566| Owner: P00746| OwnerManager: M42566| RequestNo: SNOW#SCTASK0259807| InternalReference: 58149e9407084044'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_8ca8aa06_1782_431c_b20e_ed4ee44c621d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '8ca8aa06-1782-431c-b20e-ed4ee44c621d'
  properties: {
    displayName: 'SharePoint-Business-Process-Automation'
    description: '[2025-06-10 07-22-17] EamID: 205426| ApiID: sharepoint-business-process-automation-v10| Requestor:J02038| RequestorManager: | Owner: J02038| OwnerManager: | RequestNo: SNOW#SCTASK0473039| InternalReference: 6ea64f0f39e4464b\n[2025-06-10 07-22-59] EamID: 205426| ApiID: sharepoint-business-process-automation-v10| Requestor:J02038| RequestorManager: | Owner: J02038| OwnerManager: | RequestNo: SNOW#SCTASK0473039| InternalReference: 5247fbd085264c52'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_8e5f3575_22f1_4628_9d50_11432f294416 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '8e5f3575-22f1-4628-9d50-11432f294416'
  properties: {
    displayName: 'EAI-StreamingPlatform'
    description: '[2021-08-13 13-42-22] EamID: 202787| ApiID: eai-streamingplatform-v10| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#RITM0147150| InternalReference: 38f213bf1aa14b85'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_8ee48d28_4934_48f9_84b7_adfb36ac6b77 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '8ee48d28-4934-48f9-84b7-adfb36ac6b77'
  properties: {
    displayName: 'UMS-OutlookOverview'
    description: '[2022-09-01 14-23-05] EamID: 203456| ApiID: ums-outlookoverview-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237792| InternalReference: c208dc381ead4eab'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_8fd13975_3ef9_4e04_a3a5_3383cbf046fb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '8fd13975-3ef9-4e04-a3a5-3383cbf046fb'
  properties: {
    displayName: 'MDM-WEB-SERVICE'
    description: '[2024-11-18 12-15-46] EamID: 205121| ApiID: mdm-web-service-v10| Requestor:V00491| RequestorManager: | Owner: V00491| OwnerManager: | RequestNo: SNOW#SCTASK0427622| InternalReference: d6aa93fabbb64e2c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_90958b2d_a9f0_4158_88b9_ef89fdc076d3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '90958b2d-a9f0-4158-88b9-ef89fdc076d3'
  properties: {
    displayName: 'SAP-Deal-Transfer'
    description: '[2025-11-20 07-01-41] EamID: 205905| ApiID: sap-deal-transfer-v10| Requestor:L00361| RequestorManager: | Owner: L00361| OwnerManager: | RequestNo: SNOW#SCTASK0512106| InternalReference: 57e23a4d558e47a9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_91387c67_381b_4f79_b054_6fd8afdaa23c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '91387c67-381b-4f79-b054-6fd8afdaa23c'
  properties: {
    displayName: 'CRMUES-BankAccounts-Write'
    description: '[2025-05-12 09-46-16] EamID: 205377| ApiID: crmues-bankaccounts-write-v10| Requestor:B01293| RequestorManager: | Owner: S00809| OwnerManager: | RequestNo: SNOW#SCTASK0467092| InternalReference: a57036d0f3724913'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_91cf0cfd_fadf_48f8_aefd_18de9541cd02 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '91cf0cfd-fadf-48f8-aefd-18de9541cd02'
  properties: {
    displayName: 'UMS-MRCommodity'
    description: '[2022-09-02 11-02-30] EamID: 203471| ApiID: ums-mrcommodity-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237786| InternalReference: c08660fe4ef64d81'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_92bdd5f7_2c5e_4173_9070_3ce9ae0c46dd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '92bdd5f7-2c5e-4173-9070-3ce9ae0c46dd'
  properties: {
    displayName: 'SAP ARIBA Catalog Search'
    description: '[2021-10-05 10-30-08] EamID: 202963| ApiID: sap-ariba-catalog-search-v20210930| Requestor:C00168| RequestorManager: D19075| Owner: C00168| OwnerManager: D19075| RequestNo: SNOW#SCTASK0180503| InternalReference: 5919f2315a6a4ba9'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_94d274f0_851a_4171_939a_283e68d4ffa4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '94d274f0-851a-4171-939a-283e68d4ffa4'
  properties: {
    displayName: 'UES-PegasusGas-Read'
    description: '[2023-12-11 13-52-55] EamID: 204122| ApiID: ues-pegasusgas-read-v10| Requestor:T25551| RequestorManager: C00190| Owner: T25551| OwnerManager: C00190| RequestNo: SNOW#SCTASK0343587| InternalReference: b6c2204f4e4e420a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_960c0c48_5a36_471a_98cf_e0feee4f6d9b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '960c0c48-5a36-471a-98cf-e0feee4f6d9b'
  properties: {
    displayName: 'SAP PS_NTWKACTVTSTATCHG_SRV'
    description: '[2021-03-15 07-52-08] EamID: 156892| ApiID: sap-ps_ntwkactvtstatchg_srv-v10| Requestor:A47818| RequestorManager: A13019| Owner: A47818| OwnerManager: A13019| RequestNo: SNOW#126779| InternalReference: eb419e42fe414d7d'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_987773ef_aef2_446f_a3ff_9eb17bf82e9d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '987773ef-aef2-446f-a3ff-9eb17bf82e9d'
  properties: {
    displayName: 'Seeburger x63-MaKo Outbound'
    description: '[2021-02-05 13-32-45] EamID: 200918| ApiID: seeburger-x63-mako-outbound-v10| Requestor:M60225| RequestorManager: J32844| Owner: O2096| OwnerManager: J32844| RequestNo: CMCOrders#140479| InternalReference: eb5dccda477a418f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_99c6948e_6bca_4f55_a185_4d0c1ea3116f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '99c6948e-6bca-4f55-a185-4d0c1ea3116f'
  properties: {
    displayName: 'PromptOpt-G4PNBODAPI'
    description: '[2025-03-04 13-18-32] EamID: 205283| ApiID: promptopt-g4pnbodapi-v10| Requestor:S48065| RequestorManager: | Owner: R3867| OwnerManager: | RequestNo: SNOW#SCTASK0452573| InternalReference: 1ebe48c600f54c38'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_9a16d4fc_f25a_4e56_8fd2_2996feca5bc5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9a16d4fc-f25a-4e56-8fd2-2996feca5bc5'
  properties: {
    displayName: 'CRMUES-Opportunities-Read'
    description: '[2022-02-09 08-00-48] EamID: 203415| ApiID: crmues-opportunities-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: N7541| OwnerManager: M10165| RequestNo: SNOW#RITM0171070| InternalReference: 214b537a7aaa41f9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_9b50621a_5594_4047_ae8f_35b813559588 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9b50621a-5594-4047-ae8f-35b813559588'
  properties: {
    displayName: 'Fuse-Ihub-Ext'
    description: '[2023-05-09 06-11-35] EamID: 203872| ApiID: fuse-ihub-ext-v10| Requestor:S00324| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0291841| InternalReference: afa60f4b65bd4215'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_9be8d58c_1e34_4eaa_84c9_5478f7e506e1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9be8d58c-1e34-4eaa-84c9-5478f7e506e1'
  properties: {
    displayName: 'MIA-Settings'
    description: '[2022-09-13 12-00-56] EamID: 203520| ApiID: mia-settings-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240396| InternalReference: 8d7ec4d5a0234c6e'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_9ca8d6eb_df95_431a_a7e7_da8dbd64d5e4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9ca8d6eb-df95-431a-a7e7-da8dbd64d5e4'
  properties: {
    displayName: 'Demo-OpenAPI'
    description: '[2021-12-17 11-32-06] EamID: 203083| ApiID: demo-openapi | Requestor:A00417| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#RITM0162460| InternalReference: 0b35df430869477e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_9cfe0413_7985_4c48_8ac6_be6ad8f64415 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9cfe0413-7985-4c48-8ac6-be6ad8f64415'
  properties: {
    displayName: 'SAP-LMRA-maintenance-order'
    description: '[2021-06-17 09-08-41] EamID: 202693| ApiID: sap-lmra-maintenance-order-v10| Requestor:N14613| RequestorManager: A13019| Owner: N14613| OwnerManager: A13019| RequestNo: SNOW#RITM0139210| InternalReference: 8497cdf9450a443c'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_9ddcc906_4b40_403b_bc66_fb221b964bcd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '9ddcc906-4b40-403b-bc66-fb221b964bcd'
  properties: {
    displayName: 'metadata-test'
    description: '[2022-01-04 12-22-45] EamID: 203526| ApiID: metadata-test-v10| Requestor:S01078| RequestorManager: P8919| Owner: S01078| OwnerManager: P8919| RequestNo: SNOW#RITM0164278| InternalReference: 0b32aada62e448ea'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a08d75bd_4efd_4103_8e7c_7540479a6a61 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a08d75bd-4efd-4103-8e7c-7540479a6a61'
  properties: {
    displayName: 'CRMUES-Users-Read'
    description: '[2023-11-16 05-51-35] EamID: 204096| ApiID: crmues-users-read-v10| Requestor:U00080| RequestorManager: N7541| Owner: U00080| OwnerManager: N7541| RequestNo: SNOW#SCTASK0336387| InternalReference: 7bacb5b85ccb441e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a19e34ef_dec6_48ae_acc4_93b8c9d610a5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a19e34ef-dec6-48ae-acc4-93b8c9d610a5'
  properties: {
    displayName: 'CRMUES-Crefo-Read'
    description: '[2022-02-02 12-28-00] EamID: 203145| ApiID: crmues-crefo-read-v10| Requestor:A9123| RequestorManager: N7541| Owner: A9123| OwnerManager: N7541| RequestNo: SNOW#SCTASK0197982| InternalReference: 347b9a7e40944915'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a3803bf3_0517_4c80_aef5_0d01741ab903 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a3803bf3-0517-4c80-aef5-0d01741ab903'
  properties: {
    displayName: 'Opengamma'
    description: '[2023-05-26 11-24-59] EamID: 203890| ApiID: opengamma-v10| Requestor:R00160| RequestorManager: M42566| Owner: R00160| OwnerManager: M42566| RequestNo: SNOW#SCTASK0296235| InternalReference: aa2ffe2c17344364\n[2023-05-26 12-31-28] EamID: 203890| ApiID: opengamma-v10| Requestor:R00160| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0296235| InternalReference: 1a7c90f521184333\n[2023-05-26 12-35-27] EamID: 203890| ApiID: opengamma-v10| Requestor:R00160| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0296235| InternalReference: a84d55dfe30e4d13'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a4758681_232d_45b5_94c1_78d26cd03401 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a4758681-232d-45b5-94c1-78d26cd03401'
  properties: {
    displayName: 'Apple Developer'
    description: '[2022-12-02 14-24-33] EamID: 203594| ApiID: apple-developer-v10| Requestor:I3313| RequestorManager: S5144| Owner: I3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0253079| InternalReference: ccf1dae714884ec2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a515d522_8dfe_4574_aa3f_dd18062c3116 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a515d522-8dfe-4574-aa3f-dd18062c3116'
  properties: {
    displayName: 'UMS-O365Sendmail'
    description: '[2022-08-30 14-01-36] EamID: 203451| ApiID: ums-o365sendmail-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237790| InternalReference: 216a07faf1524654'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_a5b17a0c_ef20_4937_9331_79aff66b8561 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a5b17a0c-ef20-4937-9331-79aff66b8561'
  properties: {
    displayName: 'timebase-connector'
    description: '[2021-09-03 12-30-42] EamID: 202941| ApiID: timebase-connector-v10| Requestor:K00145| RequestorManager: M42566| Owner: K00145| OwnerManager: M42566| RequestNo: SNOW#SCTASK0176103| InternalReference: 3e6668e0deca48ee'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a635155e_4682_41fc_8d26_b9d9528b3ce5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a635155e-4682-41fc-8d26-b9d9528b3ce5'
  properties: {
    displayName: 'Rest Proxy Tenoris'
    description: '[2022-11-10 11-53-06] EamID: 203598| ApiID: rest-proxy-tenoris-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0253710| InternalReference: b0ae7eab37c6424c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a66f6c41_6047_4384_831a_b883a8bdfd70 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a66f6c41-6047-4384-831a-b883a8bdfd70'
  properties: {
    displayName: 'STP-Reporting'
    description: '[2021-11-19 12-42-14] EamID: 203044| ApiID: stp-reporting-v10| Requestor:C00124| RequestorManager: N7541| Owner: C00124| OwnerManager: N7541| RequestNo: SNOW#SCTASK0187933| InternalReference: 39205b39a94b48cc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a6ee0718_4875_45aa_8439_49425c1996b3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a6ee0718-4875-45aa-8439-49425c1996b3'
  properties: {
    displayName: 'SAP SF-JobBoard API'
    description: '[2025-03-12 12-52-38] EamID: 205242| ApiID: sap-sf-jobboard-api-v20| Requestor:O1909| RequestorManager: | Owner: O1909| OwnerManager: | RequestNo: SNOW#SCTASK0449788| InternalReference: 7155cc858b934172'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a73576e2_f223_4fda_86b5_77739039f629 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a73576e2-f223-4fda-86b5-77739039f629'
  properties: {
    displayName: 'CRMUES-Contacts-Anon-Read'
    description: '[2021-01-05 06-20-32] EamID: 57964 | ApiID: crmues-contacts-anon-read-v10 | Requestor: D000041 | RequestorManager:  | Owner: N7541 | OwnerManager:  | RequestNo: CMCOrders#137806 | InternalReference: f30e1ee3f2d44d14\n[2021-03-03 07-38-56] EamID: 201590| ApiID: crmues-contacts-anon-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: fd3370ba4db443b4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a7aba18f_0ae8_4891_89cd_ebaf9a7a07a3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a7aba18f-0ae8-4891-89cd-ebaf9a7a07a3'
  properties: {
    displayName: 'SAP CPI011_SailPoint_LegalLocations'
    description: '[2023-08-25 13-19-22] EamID: 204000| ApiID: sap-cpi011_sailpoint_legallocations-v10| Requestor:J37176| RequestorManager: S5144| Owner: J37176| OwnerManager: S5144| RequestNo: SNOW#SCTASK0316506| InternalReference: b1bbb69ca0674bb0'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a8134b51_f92b_42a2_9271_e2fe42ab1b79 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a8134b51-f92b-42a2-9271-e2fe42ab1b79'
  properties: {
    displayName: 'UKW-Hydro-Data'
    description: '[2025-04-21 11-59-00] EamID: 205331| ApiID: ukw-hydro-data-v10| Requestor:M63626| RequestorManager: | Owner: M63626| OwnerManager: | RequestNo: SNOW#SCTASK0460686| InternalReference: 43c11ef5cb3348fc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a835e429_dc3c_4f3d_a782_01d9d085d32d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a835e429-dc3c-4f3d-a782-01d9d085d32d'
  properties: {
    displayName: 'CRMUES-Accounts-Anon-Read'
    description: '[2021-01-05 06-15-10] EamID: 57964 | ApiID: crmues-accounts-anon-read-v10 | Requestor: D000041 | RequestorManager:  | Owner: N7541 | OwnerManager:  | RequestNo: CMCOrders#137805 | InternalReference: 43e7e208ff244166\n[2021-03-03 12-11-50] EamID: 201590| ApiID: crmues-accounts-anon-read-v20| Requestor:D000041| RequestorManager: N7541| Owner: J44552| OwnerManager: N7541| RequestNo: SNOW#SCTASK0150418| InternalReference: ecbbf41808444544'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a958d74d_895c_48f5_b254_6fe6ad6385e2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a958d74d-895c-48f5-b254-6fe6ad6385e2'
  properties: {
    displayName: 'UMS-Webinar'
    description: '[2022-08-17 12-41-08] EamID: 203433| ApiID: ums-webinar-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0234467| InternalReference: 6fa66192d15b42d0'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_a9d89c26_3e12_4202_b74a_61822c12da27 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a9d89c26-3e12-4202-b74a-61822c12da27'
  properties: {
    displayName: 'CRMUES-Addresses-Read'
    description: '[2021-12-08 16-40-52] EamID: 203072| ApiID: crmues-addresses-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#RITM0162460| InternalReference: fd3ea9b05302406a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_a9e32137_bd2a_4fab_9566_f5e47f684832 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'a9e32137-bd2a-4fab-9566-f5e47f684832'
  properties: {
    displayName: 'Az-Naming-Tool'
    description: '[2023-06-01 04-59-39] EamID: 203903| ApiID: az-naming-tool-v10| Requestor:D00619| RequestorManager: H22822| Owner: D00619| OwnerManager: H22822| RequestNo: SNOW#SCTASK0297191| InternalReference: fa11163988f84d3e\n[2023-06-01 05-05-26] EamID: 203903| ApiID: az-naming-tool-v10| Requestor:D00619| RequestorManager: H22822| Owner: D00619| OwnerManager: H22822| RequestNo: SNOW#SCTASK0297191| InternalReference: 52c94e8385264853\n[2023-06-01 05-13-32] EamID: 203903| ApiID: az-naming-tool-v10| Requestor:D00619| RequestorManager: H22822| Owner: D00619| OwnerManager: H22822| RequestNo: SNOW#SCTASK0297191| InternalReference: b699e572f7384ccc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_abd9a6a9_58a7_47c7_9f12_27f2ed12103c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'abd9a6a9-58a7-47c7-9f12-27f2ed12103c'
  properties: {
    displayName: 'Endur-EIS-CA-External'
    description: '[2023-05-24 15-29-11] EamID: 200900| ApiID: endur-eis-ca-external-v10| Requestor:S00386| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: CMCOrders#124179| InternalReference: 695c5afb1df84957'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ae8da39b_87b5_4e8c_891b_5d9931a3e20d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ae8da39b-87b5-4e8c-891b-5d9931a3e20d'
  properties: {
    displayName: 'tempo2-atom'
    description: '[2020-12-28 02-59-42] EamID: EAM-API-201538 | ApiID: tempo2-atom-v10 | Requestor: M65309 | RequestorManager:  | Owner: N4766 | OwnerManager:  | RequestNo: CMCOrders#136876 | InternalReference: 740c9b45be214adf'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_af244852_06c1_40fb_868b_237e0a25fb99 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'af244852-06c1-40fb-868b-237e0a25fb99'
  properties: {
    displayName: 'CRMUES-EMail-Read'
    description: '[2022-02-10 06-59-08] EamID: 203162| ApiID: crmues-email-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#SCTASK0200089| InternalReference: e2276a8578b64b47'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_af9e4450_3206_4200_97fe_483b3c1fb7ba 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'af9e4450-3206-4200-97fe-483b3c1fb7ba'
  properties: {
    displayName: 'Future-Modeling-Platform-Internal'
    description: '[2022-02-23 08-47-01] EamID: 201537| ApiID: future-modeling-platform-internal-v10| Requestor:A00951| RequestorManager: K16319| Owner: B12868| OwnerManager: K16319| RequestNo: SNOW#SCTASK0202674| InternalReference: e1a69178bfc54938'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b000058c_d4ec_47cb_85dc_06f6077f04a6 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b000058c-d4ec-47cb-85dc-06f6077f04a6'
  properties: {
    displayName: 'Pegasus-Power-Price'
    description: '[2024-04-09 12-01-25] EamID: 200882| ApiID: pegasus-power-price-v20| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0373115| InternalReference: 6699c93f5fe44121'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b00f6711_c429_4c1b_8864_ce3e0c15b381 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b00f6711-c429-4c1b-8864-ce3e0c15b381'
  properties: {
    displayName: 'Usip-Confluent-Utilities'
    description: '[2024-07-04 10-32-19] EamID: 204541| ApiID: usip-confluent-utilities-v10| Requestor:V7406| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0393397| InternalReference: 98ab36999f1646d5'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b0b59273_a80f_4c0b_af14_83731706ea2b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b0b59273-a80f-4c0b-af14-83731706ea2b'
  properties: {
    displayName: 'SAP CPI650_LogicAPP_CR_Status'
    description: '[2022-10-31 15-43-08] EamID: 203589| ApiID: sap-cpi650_logicapp_cr_status-v10| Requestor:B20013| RequestorManager: S5144| Owner: B20013| OwnerManager: S5144| RequestNo: SNOW#SCTASK0250948| InternalReference: 8af4f19152bb47c8'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b13d1b87_f29d_400f_88d5_5368fed85093 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b13d1b87-f29d-400f-88d5-5368fed85093'
  properties: {
    displayName: 'MIA-EventCalendar'
    description: '[2022-09-13 10-44-53] EamID: 203513| ApiID: mia-eventcalendar-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240376| InternalReference: 0b789c5cbca2478f'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_b2af3015_954c_41ba_912a_075520be4584 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b2af3015-954c-41ba-912a-075520be4584'
  properties: {
    displayName: 'TheHive-API'
    description: '[2022-10-13 12-33-45] EamID: 203580| ApiID: thehive-api-v10| Requestor:C30568| RequestorManager: O00014| Owner: C30568| OwnerManager: O00014| RequestNo: SNOW#SCTASK0246986| InternalReference: dafff04e064e4973'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b34f4335_237f_4771_b007_2a497b7048b7 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b34f4335-237f-4771-b007-2a497b7048b7'
  properties: {
    displayName: 'Azure Maps-Weather'
    description: '[2020-09-21 03-21-57] EamID: 200823 | ApiID: azure-maps-weather-v10 | Requestor: G2958 | RequestorManager: S5144 | Owner: G2958 | OwnerManager: S5144 | RequestNo: CMCOrders#121347 | InternalReference: 9b0e5c3e938749e7'
    versioningScheme: 'Query'
    versionQueryName: 'api-version'
  }
}

resource service_uniperapis_dev_name_b50c0343_eaf0_448f_8796_21d6d82341f8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b50c0343-eaf0-448f-8796-21d6d82341f8'
  properties: {
    displayName: 'APIM-logicapp-Integration'
    description: '[2023-07-20 11-03-56] EamID: 203958| ApiID: apim-logicapp-integration-v10| Requestor:P00856| RequestorManager: S5144| Owner: i3313| OwnerManager: S5144| RequestNo: SNOW#SCTASK0309033| InternalReference: c7c59d70423248ae'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b6719937_bf6e_4a94_b6a2_9ef3de999767 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b6719937-bf6e-4a94-b6a2-9ef3de999767'
  properties: {
    displayName: 'FUSE-SHARPNIP'
    description: '[2021-02-18 12-03-00] EamID: 200897| ApiID: fuse-sharpnip-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144683| InternalReference: 7c32cbcfedc54c0a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b679006c_99d2_4187_8357_14749d35404b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b679006c-99d2-4187-8357-14749d35404b'
  properties: {
    displayName: 'UStreamingPlatform-REST-Proxy'
    description: '[2024-04-09 17-14-52] EamID: 200898| ApiID: ustreamingplatform-rest-proxy-v10| Requestor:V7406| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0372174| InternalReference: 51ea032db6ef4018'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b6bb2073_855d_4a31_8ab2_59ef0888a371 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b6bb2073-855d-4a31-8ab2-59ef0888a371'
  properties: {
    displayName: 'Fuse-Common-API'
    description: '[2021-08-24 13-53-30] EamID: 202916| ApiID: fuse-common-api-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0174914| InternalReference: 9fc000b1e2d04ba6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b7a1407a_dbbf_4138_b3c7_939371c0bb04 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b7a1407a-dbbf-4138-b3c7-939371c0bb04'
  properties: {
    displayName: 'Datasource-data-discovery'
    description: '[2021-07-29 10-21-57] EamID: 202787| ApiID: datasource-data-discovery-v10| Requestor:M65309| RequestorManager: C00185| Owner: M65309| OwnerManager: C00185| RequestNo: SNOW#RITM0145005| InternalReference: 4feec31e1e034fd1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b85c8c9f_419a_4f84_81f7_56256dee725f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b85c8c9f-419a-4f84-81f7-56256dee725f'
  properties: {
    displayName: 'SAP IS-U P68 TIPWARE'
    description: '[2025-11-28 10-24-21] EamID: 205935| ApiID: sap-is-u-p68-tipware-v10| Requestor:A9123| RequestorManager: | Owner: O2096| OwnerManager: | RequestNo: SNOW#SCTASK0513907| InternalReference: d4048495f2b840b0'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b8cc34e6_810d_43d3_991f_b4ed0d06d774 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b8cc34e6-810d-43d3-991f-b4ed0d06d774'
  properties: {
    displayName: 'ASCM'
    description: '[2021-09-29 13-33-51] EamID: 202978| ApiID: ascm-v10| Requestor:S48065| RequestorManager: M42566| Owner: S48065| OwnerManager: M42566| RequestNo: SNOW#SCTASK0177773| InternalReference: 9a77f5cd4d3f4dfa'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_b9905df3_eec8_490b_bdbc_ac14ccf93354 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b9905df3-eec8-490b-bdbc-ac14ccf93354'
  properties: {
    displayName: 'Tableau Management Portal'
    description: '[2020-12-21 03-39-55] EamID: 203614 | ApiID: tableau-management-portal-v21 | Requestor: S46240 | RequestorManager:  | Owner: C24819 | OwnerManager:  | RequestNo: CMCOrders#135065 | InternalReference: 0ed23ee48d1e4ab9'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_ba111fdd_c0c8_41bf_89bf_15a8fcd78d0a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ba111fdd-c0c8-41bf-89bf-15a8fcd78d0a'
  properties: {
    displayName: 'MembrainPoCBTP'
    description: '[2023-11-30 07-36-01] EamID: 204102| ApiID: membrainpocbtp-v10| Requestor:F9574| RequestorManager: A13019| Owner: F9574| OwnerManager: A13019| RequestNo: SNOW#SCTASK0338855| InternalReference: 44cbcf35b4c84266'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ba2db958_a89f_472e_8c4d_76bcdc1a0e29 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ba2db958-a89f-472e-8c4d-76bcdc1a0e29'
  properties: {
    displayName: 'Intesi-Group-Cert'
    description: '[2023-08-18 11-18-14] EamID: 203993| ApiID: intesi-group-cert-v10| Requestor:K00174| RequestorManager: S5144| Owner: K00174| OwnerManager: S5144| RequestNo: SNOW#SCTASK0314913| InternalReference: e514fd1e4d4f40c8'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_badd065c_583e_4070_a630_2f5ec18189d9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'badd065c-583e-4070-a630-2f5ec18189d9'
  properties: {
    displayName: 'UMS-Badges'
    description: '[2022-09-02 08-53-56] EamID: 203468| ApiID: ums-badges-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237776| InternalReference: 31cfe3ba5d99408b'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_bbee87f6_08ec_46c6_85ff_bb6dfa539ddb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'bbee87f6-08ec-46c6-85ff-bb6dfa539ddb'
  properties: {
    displayName: 'demoServiceNow'
    description: '[2024-02-05 17-59-49] EamID: 999999| ApiID: demoservicenow-v10| Requestor:I3313| RequestorManager: S5144| Owner: N1801| OwnerManager: G14238| RequestNo: SNOW#SCTASK0345387| InternalReference: 08f8a96d67354d86'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_bcd87e1e_b6ee_4e5e_a35e_138d9bd3ede1 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'bcd87e1e-b6ee-4e5e-a35e-138d9bd3ede1'
  properties: {
    displayName: 'MIA-NotificationHub'
    description: '[2022-09-13 11-14-54] EamID: 203516| ApiID: mia-notificationhub-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240389| InternalReference: 05c74f3ff86848f6'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_bd119b23_7980_42dd_9972_2c0d9a9c99b4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'bd119b23-7980-42dd-9972-2c0d9a9c99b4'
  properties: {
    displayName: 'coode-master-data-feed-mi'
    description: '[2023-03-10 09-00-13] EamID: 203783| ApiID: coode-master-data-feed-mi-v10| Requestor:A00765| RequestorManager: P8919| Owner: M32890| OwnerManager: P8919| RequestNo: SNOW#SCTASK0279519| InternalReference: 59b35d1a0a4c40ea'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_be16fd64_b5e8_49f9_a718_1b8b9fb7437a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'be16fd64-b5e8-49f9-a718-1b8b9fb7437a'
  properties: {
    displayName: 'PKFG-OfferDetails'
    description: '[2020-12-08 07-57-48] EamID: 7227 | ApiID: pkfg-offerdetails-v10 | Requestor: A9123 | RequestorManager:  | Owner: J9965 | OwnerManager:  | RequestNo: CMCOrders#133286 | InternalReference: 15841fe944504285'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_bf6bab54_6496_4974_84bb_ddecbc3d9ee3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'bf6bab54-6496-4974-84bb-ddecbc3d9ee3'
  properties: {
    displayName: 'Robotron-NeonICC-Redispatch'
    description: '[2024-06-03 10-31-36] EamID: 204518| ApiID: robotron-neonicc-redispatch-v10| Requestor:A02224| RequestorManager: | Owner: A02224| OwnerManager: | RequestNo: SNOW#SCTASK0385170| InternalReference: 743f765502cf4f4e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c1e2e415_ddc7_432b_9207_d35b62b7a877 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c1e2e415-ddc7-432b-9207-d35b62b7a877'
  properties: {
    displayName: 'ennea-api-external'
    description: '[2025-10-28 13-48-11] EamID: 205835| ApiID: ennea-api-external-v10| Requestor:P01301| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0506018| InternalReference: db6943fdaec147ea'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c240c9f4_21c0_406b_ba8c_cd578e4ff92c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c240c9f4-21c0-406b-ba8c-cd578e4ff92c'
  properties: {
    displayName: 'CRMUES-FunctionApp-Main'
    description: '[2025-07-04 12-31-06] EamID: 205479| ApiID: crmues-functionapp-main-v10| Requestor:U00080| RequestorManager: | Owner: U00080| OwnerManager: | RequestNo: SNOW#SCTASK0479568| InternalReference: ad891e97b7004f73'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c285dd76_a620_48d9_97d6_1270977b6885 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c285dd76-a620-48d9-97d6-1270977b6885'
  properties: {
    displayName: 'CRMUES-Digital-Modules-Write'
    description: '[2025-10-16 12-08-20] EamID: 205816| ApiID: crmues-digital-modules-write-v10| Requestor:B01293| RequestorManager: | Owner: B01293| OwnerManager: | RequestNo: SNOW#SCTASK0503641| InternalReference: 3e4d52d98b584e80'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c31b3786_5c08_4e10_a67b_1bc20faa9357 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c31b3786-5c08-4e10-a67b-1bc20faa9357'
  properties: {
    displayName: 'Veslink-EIS'
    description: '[2023-07-21 14-01-04] EamID: 203962| ApiID: endur-eis-veslink-v10| Requestor:N00967| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0309241| InternalReference: ff51937752904d6f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c3d4be41_7ab9_4604_9032_7ef22564babb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c3d4be41-7ab9-4604-9032-7ef22564babb'
  properties: {
    displayName: 'SampleFuse'
    description: '[2021-02-19 05-41-30] EamID: 99992| ApiID: samplefuse-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#99991| InternalReference: 53b336a529614117'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c4aaff1f_7352_418a_be7b_c27d305644f5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c4aaff1f-7352-418a-be7b-c27d305644f5'
  properties: {
    displayName: 'SalesPortal-Framecontract-Frame-Contracts-API'
    description: '[2025-10-14 12-46-25] EamID: 205808| ApiID: salesportal-framecontract-frame-contracts-api-v10| Requestor:A02245| RequestorManager: | Owner: A02245| OwnerManager: | RequestNo: SNOW#SCTASK0502430| InternalReference: 5f314b7172dc481e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c5a48a66_a038_46a4_9169_83e00d65712c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c5a48a66-a038-46a4-9169-83e00d65712c'
  properties: {
    displayName: 'Azure Maps-Search'
    description: '[2020-09-21 03-18-36] EamID: 200823 | ApiID: azure-maps-search-v10 | Requestor: G2958 | RequestorManager: S5144 | Owner: G2958 | OwnerManager: S5144 | RequestNo: CMCOrders#121345 | InternalReference: 989a9636cd624545'
    versioningScheme: 'Query'
    versionQueryName: 'api-version'
  }
}

resource service_uniperapis_dev_name_c6b896d2_7815_4cc5_9fe3_65637411253e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c6b896d2-7815-4cc5-9fe3-65637411253e'
  properties: {
    displayName: 'ServiceNow-Attachment'
    description: '[2020-11-30 08-48-08] EamID: 200926 | ApiID: servicenow-attachment-v10 | Requestor: G2958 | RequestorManager: S5144 | Owner: M31754 | OwnerManager: T3676 | RequestNo: CMCOrders#132092 | InternalReference: cc0b1f4fbc33487e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c7fc0476_e4d6_4d9b_a669_e78adf13c72b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c7fc0476-e4d6-4d9b-a669-e78adf13c72b'
  properties: {
    displayName: 'UMS-SQLService'
    description: '[2022-09-05 11-25-18] EamID: 203476| ApiID: ums-sqlservice-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237796| InternalReference: 32bbf113eaff461f'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_c899174c_c128_4138_9a54_d14c94390783 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c899174c-c128-4138-9a54-d14c94390783'
  properties: {
    displayName: 'CRMUES-TaxNumbers-Read'
    description: '[2021-12-08 16-45-23] EamID: 203075| ApiID: crmues-taxnumbers-read-v10| Requestor:D000041| RequestorManager: N7541| Owner: D000041| OwnerManager: N7541| RequestNo: SNOW#RITM0162460| InternalReference: 58aca70ec7fa4de4'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_c957779f_d8b1_425f_81a9_52b44c602469 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'c957779f-d8b1-425f-81a9-52b44c602469'
  properties: {
    displayName: 'EIS-DeltaXe-SAPMD'
    description: '[2021-06-11 16-44-16] EamID: 200895| ApiID: eis-deltaxe-sapmd-v10| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#RITM0139096| InternalReference: dfaf00e7f9704854'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ca85d2ca_14f4_4e3c_ba9a_839e99b3f730 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ca85d2ca-14f4-4e3c-ba9a-839e99b3f730'
  properties: {
    displayName: 'demotestgraphql'
    description: '[2024-03-11 14-51-17] EamID: 999999| ApiID: test-odata-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 97ce895fad784c3c\n[2024-03-11 14-51-17] EamID: 999999| ApiID: test-odata-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 97ce895fad784c3c\n[2024-03-11 14-51-17] EamID: 999999| ApiID: test-odata-v10| Requestor:I3313| RequestorManager: | Owner: N1801| OwnerManager: | RequestNo: SNOW#SCTASK0345387| InternalReference: 97ce895fad784c3c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cad59943_bee7_4c17_b75a_9b368a1550fb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cad59943-bee7-4c17-b75a-9b368a1550fb'
  properties: {
    displayName: 'ComSTAR-Genstar4-API'
    description: '[2025-05-30 13-17-58] EamID: 205415| ApiID: comstar-genstar4-api-v10| Requestor:M8617| RequestorManager: | Owner: M8617| OwnerManager: | RequestNo: SNOW#SCTASK0471142| InternalReference: b729645b85c049b6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cad6c2af_3a28_4a86_b65f_3a4e62ab6a1a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cad6c2af-3a28-4a86-b65f-3a4e62ab6a1a'
  properties: {
    displayName: 'ennea-api'
    description: '[2025-06-12 07-29-51] EamID: 205434| ApiID: ennea-api-v10| Requestor:G00417| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0474285| InternalReference: 2f2b1417d1bd4c34\n[2025-06-12 07-31-15] EamID: 205434| ApiID: ennea-api-v10| Requestor:G00417| RequestorManager: | Owner: S27716| OwnerManager: | RequestNo: SNOW#SCTASK0474285| InternalReference: a7965e48a4834dc3'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cbcb50fc_b210_446a_9b59_a44d22c3e81c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cbcb50fc-b210-446a-9b59-a44d22c3e81c'
  properties: {
    displayName: 'Laser2'
    description: '[2022-06-20 15-22-49] EamID: 203387| ApiID: laser2-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0225321| InternalReference: 51b578b606a2463c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cce0e6ce_56c5_4b7d_9be2_b9ba4afd224f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cce0e6ce-56c5-4b7d-9be2-b9ba4afd224f'
  properties: {
    displayName: 'Datahub'
    description: '[2024-05-21 08-13-25] EamID: 202118| ApiID: datahub-v10| Requestor:S01702| RequestorManager: | Owner: S01702| OwnerManager: | RequestNo: SNOW#SCTASK0382145| InternalReference: aa25a42b16204078'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cd019cdb_0156_4454_8ab0_9c49245f32d8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cd019cdb-0156-4454-8ab0-9c49245f32d8'
  properties: {
    displayName: 'UES-User-Management'
    description: '[2021-01-22 04-22-55] EamID: APIM-201562 | ApiID: ues-user-management-v10 | Requestor: C00124 | RequestorManager:  | Owner: C00124 | OwnerManager:  | RequestNo: CMCOrders#140655 | InternalReference: 64e058f183ec4a67'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cd37e8e1_0060_42ec_a39f_32bae2365471 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cd37e8e1-0060-42ec-a39f-32bae2365471'
  properties: {
    displayName: 'SAP_BTP-AI Fitness for Perfect PR'
    description: '[2023-06-07 04-39-10] EamID: 203904| ApiID: sap_btp-ai-fitness-for-perfect-pr-v10| Requestor:N14613| RequestorManager: A13019| Owner: N14613| OwnerManager: A13019| RequestNo: SNOW#SCTASK0298062| InternalReference: 5817cc2bb9d44dd7\n[2023-06-07 04-44-28] EamID: 203904| ApiID: sap_btp-ai-fitness-for-perfect-pr-v10| Requestor:N14613| RequestorManager: A13019| Owner: N14613| OwnerManager: A13019| RequestNo: SNOW#SCTASK0298062| InternalReference: 56d5bce9c1aa48a4\n[2023-06-07 04-45-20] EamID: 203904| ApiID: sap_btp-ai-fitness-for-perfect-pr-v10| Requestor:N14613| RequestorManager: A13019| Owner: N14613| OwnerManager: A13019| RequestNo: SNOW#SCTASK0298062| InternalReference: e1d55e555d444bb6'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cdc89818_e220_45c5_aa58_b904d86fbe24 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cdc89818-e220-45c5-aa58-b904d86fbe24'
  properties: {
    displayName: 'UES-PegasusGas-Read'
    description: '[2023-12-11 13-51-27] EamID: 204122| ApiID: ues-pegasusgas-read-v10| Requestor:T25551| RequestorManager: C00190| Owner: T25551| OwnerManager: C00190| RequestNo: SNOW#SCTASK0343587| InternalReference: 14ce2bee06814ad3'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ce818bbf_31aa_4e9b_a004_59c686844bcb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ce818bbf-31aa-4e9b-a004-59c686844bcb'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Header'
    versionHeaderName: 'x-ms-version'
  }
}

resource service_uniperapis_dev_name_cf6747e0_7a7e_4a3e_a866_942165b27494 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cf6747e0-7a7e-4a3e-a866-942165b27494'
  properties: {
    displayName: 'Forward Reporting'
    description: '[2020-10-02 06-30-09] EamID: 76987 | ApiID: forwardreporting-v10 | Requestor: S46240 | RequestorManager: K16319 | Owner: A27791 | OwnerManager: F6903 | RequestNo: CMCOrders#122143 | InternalReference: 1a33025bbe1a4962'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_cf7a78a1_fd9d_4585_b248_18c4a88c57b0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cf7a78a1-fd9d-4585-b248-18c4a88c57b0'
  properties: {
    displayName: 'Phobos'
    description: '[2022-09-22 05-30-37] EamID: 203552| ApiID: phobos-v10| Requestor:B16975| RequestorManager: M42566| Owner: B16975| OwnerManager: M42566| RequestNo: SNOW#SCTASK0243361| InternalReference: 09df989601f7493e'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d0df48f7_df60_47ae_915b_10465734176b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd0df48f7-df60-47ae-915b-10465734176b'
  properties: {
    displayName: 'SalesPortal CustomProducts SalesData Reporting API'
    description: '[2025-12-18 12-31-32] EamID: 205950| ApiID: salesportal-customproducts-salesdata-reporting-api-v10| Requestor:A02245| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0518231| InternalReference: 27ee2bed0d88472f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d2697223_f708_4e16_a2d0_b09ac8fdc9a2 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd2697223-f708-4e16-a2d0-b09ac8fdc9a2'
  properties: {
    displayName: 'UES-Business-Partner-Service-Frame-Contracts-Write'
    description: '[2021-07-13 07-41-34] EamID: 202742| ApiID: ues-business-partner-service-frame-contracts-write-v10| Requestor:C00124| RequestorManager: N7541| Owner: C00124| OwnerManager: N7541| RequestNo: SNOW#RITM0141625| InternalReference: 5bcbbf81013646c1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d3ed57e2_7232_4766_ac9e_35775294ae9d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd3ed57e2-7232-4766-ac9e-35775294ae9d'
  properties: {
    displayName: 'usplatfom-rest-proxt-sap'
    description: '[2021-07-19 07-41-47] EamID: 202773| ApiID: usplatfom-rest-proxt-sap-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0169681| InternalReference: 3db4f5e316184353'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d6417f13_7672_4499_b769_a67631ee3249 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd6417f13-7672-4499-b769-a67631ee3249'
  properties: {
    displayName: 'SAP PS_WBSELEMENTSTATUSCHANGE'
    description: '[2020-11-03 00-59-23] EamID: 156892 | ApiID: sap-ps_wbselementstatuschange-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126777 | InternalReference: e3a9c3093f6b4f11'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_d6bee807_17b0_4c1a_8900_6c43a2bf5b05 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd6bee807-17b0-4c1a-8900-6c43a2bf5b05'
  properties: {
    displayName: 'MIA-Weather'
    description: '[2022-10-17 10-02-56] EamID: 203579| ApiID: mia-weather-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0247164| InternalReference: bafbf1790f0641f1'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_d835f0a5_ec86_4b1b_99de_e60a53500b39 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd835f0a5-ec86-4b1b-99de-e60a53500b39'
  properties: {
    displayName: 'Endur-Xceptor-AFS-BrokerRecon'
    description: '[2021-03-30 07-55-45] EamID: 163783| ApiID: endur-xceptor-afs-brokerrecon-v10| Requestor:W11445| RequestorManager: C20195| Owner: W11445| OwnerManager: C20195| RequestNo: SNOW#SCTASK0154137| InternalReference: 8990abc8c51f44ac'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_d889fb25_eddf_4025_ab0f_c9fc4b8c5f24 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd889fb25-eddf-4025-ab0f-c9fc4b8c5f24'
  properties: {
    displayName: 'myIdentity-B2CService'
    description: '[2024-11-22 14-11-49] EamID: 205129| ApiID: myidentity-b2cservice-v10| Requestor:A01304| RequestorManager: | Owner: A01304| OwnerManager: | RequestNo: SNOW#SCTASK0429624| InternalReference: fc1be92d618f4eca'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d8d90481_4bdf_4bf7_9d02_2ab5352334c0 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd8d90481-4bdf-4bf7-9d02-2ab5352334c0'
  properties: {
    displayName: 'UES Shapemanger'
    description: '[2025-04-17 07-48-17] EamID: 205355| ApiID: ues-shapemanger-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0462269| InternalReference: 7b5897fd844f4d0b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d91719e8_43d8_4d43_b9c4_f503ed92d9f8 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd91719e8-43d8-4d43-b9c4-f503ed92d9f8'
  properties: {
    displayName: 'Genstar4'
    description: '[2022-05-17 12-31-38] EamID: 203336| ApiID: genstar4-availability-v10| Requestor:R3867| RequestorManager: B13362| Owner: R3867| OwnerManager: B13362| RequestNo: SNOW#SCTASK0218190| InternalReference: 595b707a9e324586'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_d95181ff_2505_4e75_9797_367f4cb3c5ef 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'd95181ff-2505-4e75-9797-367f4cb3c5ef'
  properties: {
    displayName: 'SOS BERLIN JOB CHAINS'
    description: '[2021-03-23 09-21-04] EamID: 200931| ApiID: sos-berlin-job-chains-v10| Requestor:S17340| RequestorManager: S5144| Owner: J37176| OwnerManager: S5144| RequestNo: CMCOrders#133118| InternalReference: 1f167ebce4ba4af5'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_dba8cefd_93f8_4ec1_a4d6_9cfd4e2f3555 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dba8cefd-93f8-4ec1-a4d6-9cfd4e2f3555'
  properties: {
    displayName: 'SnakeApi'
    description: '[2025-01-22 08-26-02] EamID: 205202| ApiID: snakeapi-v10| Requestor:P01464| RequestorManager: | Owner: P01464| OwnerManager: | RequestNo: SNOW#SCTASK0441811| InternalReference: 3304e042452e4d76\n[2025-07-09 12-18-41] EamID: 205202| ApiID: snakeapi-v20| Requestor:P01464| RequestorManager: | Owner: P01464| OwnerManager: | RequestNo: SNOW#SCTASK0441811| InternalReference: 8fb30af0189a4e8a'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_dbbdacd5_d19f_479b_980f_85e657f65fb5 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dbbdacd5-d19f-479b-980f-85e657f65fb5'
  properties: {
    displayName: 'CRMUES-DENA-Nabisy-Read'
    description: '[2024-01-30 09-19-17] EamID: 204193| ApiID: crmues-dena-nabisy-read-v10| Requestor:F00294| RequestorManager: C00190| Owner: F00294| OwnerManager: C00190| RequestNo: SNOW#SCTASK0355106| InternalReference: b4585a305cb84388'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_dbc66997_d761_4670_bcf4_c8e04dcffe6a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dbc66997-d761-4670-bcf4-c8e04dcffe6a'
  properties: {
    displayName: 'Endur-EIS-Veslink'
    description: '[2023-08-03 12-32-43] EamID: 203981| ApiID: endur-eis-veslink-internal-v10| Requestor:V7406| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0311941| InternalReference: 84d27d048ca34218'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_dc2e17ee_7333_4c68_b71f_a787ddfa9b0d 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dc2e17ee-7333-4c68-b71f-a787ddfa9b0d'
  properties: {
    displayName: 'UES-Business-Partner-Service-Master-Data-Read'
    description: '[2021-07-07 06-57-03] EamID: 202741| ApiID: ues-business-partner-service-master-data-read-v10| Requestor:C00124| RequestorManager: N7541| Owner: C00124| OwnerManager: N7541| RequestNo: SNOW#RITM0141624| InternalReference: 4963b500d5354e7b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ddd33c43_2059_4abd_b31b_11641e6b2441 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ddd33c43-2059-4abd-b31b-11641e6b2441'
  properties: {
    displayName: 'MIA-Messages'
    description: '[2022-09-13 11-40-43] EamID: 203518| ApiID: mia-messages-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240387| InternalReference: ab43d0f83adf442f'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_de18fb83_f88c_4d31_8d22_63f8b61f78df 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'de18fb83-f88c-4d31-8d22-63f8b61f78df'
  properties: {
    displayName: 'FUSE-SHARP-CEIP'
    description: '[2022-05-06 09-57-26] EamID: 203323| ApiID: fuse-sharp-ceip-v10| Requestor:S27716| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#SCTASK0208851| InternalReference: 773ed42bcb2745fc'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_de5d052d_fb70_42a9_97d6_4eacae815a67 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'de5d052d-fb70-42a9-97d6-4eacae815a67'
  properties: {
    displayName: 'UMS-MPCommodity'
    description: '[2022-09-01 13-44-45] EamID: 203453| ApiID: ums-mpcommodity-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237785| InternalReference: e3a73e5f98c244ad'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_dff00587_c4f7_4400_a8e2_1856a8fed0e9 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dff00587-c4f7-4400-a8e2-1856a8fed0e9'
  properties: {
    displayName: 'SAP IS-U X63-MaKo Inbound'
    description: '[2021-02-05 13-22-41] EamID: 200917| ApiID: sap-is-u-x63-mako-inbound-v10| Requestor:M60225| RequestorManager: J32844| Owner: O2096| OwnerManager: J32844| RequestNo: CMCOrders#140479| InternalReference: e51507b16e8b4599'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e1f7b681_936b_4737_917f_7f71b891e51b 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e1f7b681-936b-4737-917f-7f71b891e51b'
  properties: {
    displayName: 'digicision-notification'
    description: '[2023-04-07 09-20-25] EamID: 203815| ApiID: digicision-notification-v10| Requestor:S01136| RequestorManager: F6903| Owner: S01136| OwnerManager: F6903| RequestNo: SNOW#SCTASK0286229| InternalReference: c0a8149584f447c1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e218f108_2978_447a_bf50_d1989b0b69c7 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e218f108-2978-447a-bf50-d1989b0b69c7'
  properties: {
    displayName: 'FUSE-SAP-RIGHTANGLE'
    description: '[2021-02-18 14-53-33] EamID: 200936| ApiID: rightangle-esb-v10| Requestor:V10321| RequestorManager: T18565| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#144697| InternalReference: 598ce7c4a41d4d46'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e2c6fa11_1390_451f_bd4c_966fea371b0f 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e2c6fa11-1390-451f-bd4c-966fea371b0f'
  properties: {
    displayName: 'restproxy-edge-nordic'
    description: '[2025-02-04 17-10-54] EamID: 205217| ApiID: restproxy-edge-nordic-v10| Requestor:R00160| RequestorManager: | Owner: C00528| OwnerManager: | RequestNo: SNOW#SCTASK0445858| InternalReference: 151134c2d8634115'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e323380d_a051_4719_a439_6f7d2cf8a906 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e323380d-a051-4719-a439-6f7d2cf8a906'
  properties: {
    displayName: 'CRMUES-Meterpoints-Write'
    description: '[2022-07-08 11-16-06] EamID: 203404| ApiID: crmues-meterpoints-write-v10| Requestor:D000041| RequestorManager: C00190| Owner: D000041| OwnerManager: C00190| RequestNo: SNOW#SCTASK0228803| InternalReference: b34687f893564d15'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e3783a76_0e13_4609_9f17_859e6a0ac5ff 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e3783a76-0e13-4609-9f17-859e6a0ac5ff'
  properties: {
    displayName: 'CRMUES-Contracts-Read'
    description: '[2024-02-08 16-30-16] EamID: 204216| ApiID: crmues-contracts-read-v10| Requestor:F00294| RequestorManager: C00190| Owner: F00294| OwnerManager: C00190| RequestNo: SNOW#SCTASK0357757| InternalReference: 2dc22414fb314fb7'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e45c6de3_3c72_4cc1_ab89_2004a66ba9ca 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e45c6de3-3c72-4cc1-ab89-2004a66ba9ca'
  properties: {
    displayName: 'Prozessdaten UKW-Hydro'
    description: '[2025-06-27 14-14-13] EamID: 205463| ApiID: prozessdaten-ukw-hydro-v10| Requestor:M63626| RequestorManager: | Owner: M63626| OwnerManager: | RequestNo: SNOW#SCTASK0477222| InternalReference: a8cf5336932846a7'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e5025cb9_6db0_451f_9ded_c79d91f9110a 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e5025cb9-6db0-451f-9ded-c79d91f9110a'
  properties: {
    displayName: 'Rundeck-REM'
    description: '[2021-01-27 09-02-41] EamID: API-201567 | ApiID: rundeck-rem-v10 | Requestor: G2958 | RequestorManager:  | Owner: V6218 | OwnerManager:  | RequestNo: CMCOrders#142259 | InternalReference: 8ea166202a524425'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e63fa52c_2b2f_4c1e_9422_c00c197a9e80 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e63fa52c-2b2f-4c1e-9422-c00c197a9e80'
  properties: {
    displayName: 'Snowflake'
    description: '[2021-09-22 06-01-08] EamID: 202964| ApiID: snowflake-v10| Requestor:G2958| RequestorManager: S5144| Owner: E17538| OwnerManager: K16319| RequestNo: SNOW#RITM0151971| InternalReference: 08e3b951ac4146e2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e7515983_06f9_49f2_9850_abdcd8ef7197 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e7515983-06f9-49f2-9850-abdcd8ef7197'
  properties: {
    displayName: 'Enegen-G4CVNAPI'
    description: '[2023-03-02 11-27-05] EamID: 203769| ApiID: enegen-g4cvnapi-v10| Requestor:D00556| RequestorManager: B13362| Owner: R3867| OwnerManager: B13362| RequestNo: SNOW#SCTASK0277432| InternalReference: 2e60afe9ba504e53'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e7b28f1d_41e7_4065_9905_dfbd29ad9e55 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e7b28f1d-41e7-4065-9905-dfbd29ad9e55'
  properties: {
    displayName: 'SAP ZLORD_MY_QUOTATION'
    description: '[2020-11-03 00-48-49] EamID: 156892 | ApiID: sap-zlord_my_quotation-v10 | Requestor: A47818 | RequestorManager: A13019 | Owner: A47818 | OwnerManager: A13019 | RequestNo: CMCOrders#126775 | InternalReference: 5bfcd76f661746b0'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_e821bb6f_7088_44bb_b1db_62ef712ad641 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e821bb6f-7088-44bb-b1db-62ef712ad641'
  properties: {
    displayName: 'SAP IS-U X63-AIOLOS'
    description: '[2021-02-05 13-17-11] EamID: 200916| ApiID: sap-is-u-x63-aiolos-v10| Requestor:M60225| RequestorManager: J32844| Owner: O2096| OwnerManager: J32844| RequestNo: CMCOrders#140479| InternalReference: 0ddd1eea02b040d2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e854bd61_7d39_4732_9888_08761e6a6c5e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e854bd61-7d39-4732-9888-08761e6a6c5e'
  properties: {
    displayName: 'UES-PegasusGas-Write'
    description: '[2024-07-26 13-01-06] EamID: 204557| ApiID: ues-pegasusgas-write-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0399495| InternalReference: d6173b8aec5d4ee2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e924dc06_627e_4bb4_bbce_3bb3f0b72d02 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e924dc06-627e-4bb4-bbce-3bb3f0b72d02'
  properties: {
    displayName: 'DeltaXE-Endur'
    description: '[2024-04-25 07-10-03] EamID: 204438| ApiID: deltaxe-endur-v10| Requestor:C00309| RequestorManager: | Owner: C00309| OwnerManager: | RequestNo: SNOW#SCTASK0375989| InternalReference: d2d37df3a54841b2'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_e9978f9b_353b_499c_9d02_e4e8a12efe05 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'e9978f9b-353b-499c-9d02-e4e8a12efe05'
  properties: {
    displayName: 'Tufin-IP-Decommission-API'
    description: '[2022-02-10 08-20-20] EamID: 203161| ApiID: tufin-ip-decommission-api-v10| Requestor:C17471| RequestorManager: O00014| Owner: C17471| OwnerManager: O00014| RequestNo: SNOW#SCTASK0200034| InternalReference: ffb67559b99c421f'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ecb74c97_1b52_47c3_b1d2_655f77652c64 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ecb74c97-1b52-47c3-b1d2-655f77652c64'
  properties: {
    displayName: 'UMS-Portfolio'
    description: '[2022-11-07 05-45-23] EamID: 203474| ApiID: ums-portfolio-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237793| InternalReference: 29f2c12825b44f71'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ed2d9ac7_c086_488a_a68b_7d40f6dcf0bd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ed2d9ac7-c086-488a-a68b-7d40f6dcf0bd'
  properties: {
    displayName: 'Uniper-Digital-Calculation-Response'
    description: '[2020-11-30 08-53-28] EamID: 42733 | ApiID: uniper-digital-calculation-response-v10 | Requestor: C00124 | RequestorManager: N7541 | Owner: C00124 | OwnerManager: N7541 | RequestNo: CMCOrders#132151 | InternalReference: 29a6832819d9474d'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_edc2214e_7d40_4a14_9332_d6b629b536eb 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'edc2214e-7d40-4a14-9332-d6b629b536eb'
  properties: {
    displayName: 'UES Uniper Digital Write'
    description: '[2024-09-02 08-55-33] EamID: 204586| ApiID: ues-uniper-digital-write-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0408327| InternalReference: 6e018dde59d24a33'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_eed27875_6350_4204_9bf4_5147cdeb0bee 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eed27875-6350-4204-9bf4-5147cdeb0bee'
  properties: {
    displayName: 'Azure Cognitive Services-Text Analytics'
    description: '[2020-10-02 05-09-03] EamID: 200545 | ApiID: azurecognitiveservices-text-analytics-v30 | Requestor: G2958 | RequestorManager: S5144 | Owner: M10877 | OwnerManager: S5144 | RequestNo: CMCOrders#123310 | InternalReference: 3e1ecd820e754d7f\n[2021-12-09 12-38-01] EamID: 200883| ApiID: azurecognitiveservices-text-analytics-v32| Requestor:I3313| RequestorManager: P25294| Owner: I3313| OwnerManager: P25294| RequestNo: SNOW#SCTASK0190999| InternalReference: eb44448a966e46a1'
    versioningScheme: 'Segment'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_efce5881_4c19_4474_aa51_683d311c650e 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'efce5881-4c19-4474-aa51-683d311c650e'
  properties: {
    displayName: 'Pegasus-Power-Price'
    description: '[2020-10-23 03-36-40] EamID: 18716 | ApiID: pegasus-power-price-v10 | Requestor: A9123 | RequestorManager: N7541 | Owner: C00124 | OwnerManager: N7541 | RequestNo: CMCOrders#118495 | InternalReference: a9bdf38f027a47c9'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f04bb99e_bc74_4f30_b673_aba92d92f2cd 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f04bb99e-bc74-4f30-b673-aba92d92f2cd'
  properties: {
    displayName: 'EIS-DeltaXe-STFOASM'
    description: '[2021-06-11 16-55-09] EamID: 200895| ApiID: eis-deltaxe-stfoasm-v10| Requestor:G19389| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: SNOW#RITM0139096| InternalReference: b1a44941cc5f4560'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f1ae94b5_db34_4308_bcb3_484c3b7e7ded 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f1ae94b5-db34-4308-bcb3-484c3b7e7ded'
  properties: {
    displayName: 'newversion'
    description: 'version by xmsversion'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f2dc5ff7_a247_43f3_a67c_e0e009da0233 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f2dc5ff7-a247-43f3-a67c-e0e009da0233'
  properties: {
    displayName: 'Fuse-Fidectus'
    description: '[2024-02-29 11-31-56] EamID: 204280| ApiID: fuse-fidectus-v10| Requestor:V7406| RequestorManager: V7406| Owner: V7406| OwnerManager: V7406| RequestNo: SNOW#SCTASK0362642| InternalReference: ee4cd71825b5490c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f2eeaaad_026a_498b_86f9_e0a6d0143172 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f2eeaaad-026a-498b-86f9-e0a6d0143172'
  properties: {
    displayName: 'xceptor-endur-ecmo'
    description: '[2021-06-08 14-30-14] EamID: 202662| ApiID: xceptor-endur-ecmo-v10| Requestor:W11445| RequestorManager: C20195| Owner: W11445| OwnerManager: C20195| RequestNo: SNOW#SCTASK0163586| InternalReference: eda3705a535649fa'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_f6c1a44f_0c35_431f_a46e_a36b99f82994 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f6c1a44f-0c35-431f-a46e-a36b99f82994'
  properties: {
    displayName: 'ASCM-StorDA-API'
    description: '[2025-10-16 10-26-42] EamID: 205815| ApiID: ascm-storda-api-v10| Requestor:H00635| RequestorManager: | Owner: H00635| OwnerManager: | RequestNo: SNOW#SCTASK0503614| InternalReference: f319936f4458456b'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f72cbf2a_c194_45ea_a219_e44a1acfff19 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f72cbf2a-c194-45ea-a219-e44a1acfff19'
  properties: {
    displayName: 'salesportal-goo-salesdata-reporting-api'
    description: '[2024-06-14 14-13-14] EamID: 204652| ApiID: salesportal-goo-salesdata-reporting-api-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0388906| InternalReference: 830fcda9f51d4ca1'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_f73c605b_9c67_4804_a674_9a213c410641 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'f73c605b-9c67-4804-a674-9a213c410641'
  properties: {
    displayName: 'UES-LHGas-Read'
    description: '[2023-12-01 11-05-49] EamID: 204113| ApiID: ues-lhgas-read-v10| Requestor:T00720| RequestorManager: C00190| Owner: T00720| OwnerManager: C00190| RequestNo: SNOW#SCTASK0340922| InternalReference: fb815c7a5b914219'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_fa8103e2_ad20_45f6_959a_379b38411f99 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fa8103e2-ad20-45f6-959a-379b38411f99'
  properties: {
    displayName: 'SalesPortal-Gas-To-Power-SalesData-Reporting-API'
    description: '[2025-04-17 07-28-05] EamID: 205354| ApiID: salesportal-gas-to-power-salesdata-reporting-api-v10| Requestor:T25551| RequestorManager: | Owner: T25551| OwnerManager: | RequestNo: SNOW#SCTASK0462294| InternalReference: 73d9e42b6d234559'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_fa8fa70e_e9c2_4f38_b280_42da040dcf34 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fa8fa70e-e9c2-4f38-b280-42da040dcf34'
  properties: {
    displayName: 'UMS-Messages'
    description: '[2022-09-05 12-24-05] EamID: 203478| ApiID: ums-messages-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237784| InternalReference: 350c517a236043b4'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_fadfb2bb_6771_4f98_b4d7_1936cf7bb06c 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fadfb2bb-6771-4f98-b4d7-1936cf7bb06c'
  properties: {
    displayName: 'MIA-Contacts'
    description: '[2022-09-13 11-28-04] EamID: 203517| ApiID: mia-contacts-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0240373| InternalReference: 1dc0f163c2ab4888'
    versioningScheme: 'Header'
    versionHeaderName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_fb59069b_8c7f_417c_8c00_ccc566386473 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fb59069b-8c7f-417c-8c00-ccc566386473'
  properties: {
    displayName: 'UMS-MarketPrices'
    description: '[2022-11-03 12-19-24] EamID: 203440| ApiID: ums-marketprices-v10| Requestor:S01062| RequestorManager: F6903| Owner: S01062| OwnerManager: F6903| RequestNo: SNOW#SCTASK0237781| InternalReference: fcfad02ae4804f27'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_fd210d2c_353b_47f5_8350_2c10c7684388 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fd210d2c-353b-47f5-8350-2c10c7684388'
  properties: {
    displayName: 'Infobasis-MobileService'
    description: '[2021-01-27 06-04-14] EamID: API-201532 | ApiID: infobasis-mobileservice-v10 | Requestor: C17473 | RequestorManager:  | Owner: C17473 | OwnerManager:  | RequestNo: CMCOrders#142715 | InternalReference: a5b090a6edbb416c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_fd647ad5_d124_4dd5_88bb_9d5a166b88e4 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fd647ad5-d124-4dd5-88bb-9d5a166b88e4'
  properties: {
    displayName: 'NEON-Seeburger-AS4'
    description: '[2024-08-01 12-25-03] EamID: 204562| ApiID: neon-seeburger-as4-v10| Requestor:N11205| RequestorManager: | Owner: N11205| OwnerManager: | RequestNo: SNOW#SCTASK0399885| InternalReference: 5963257c353740e0'
    versioningScheme: 'Query'
    versionQueryName: 'apiVersion'
  }
}

resource service_uniperapis_dev_name_fe6ab6c6_9627_4ab6_91c6_99a76e5cc9ce 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fe6ab6c6-9627-4ab6-91c6-99a76e5cc9ce'
  properties: {
    displayName: 'Fuse-Recon'
    description: '[2021-02-04 02-11-06] EamID: 203613| ApiID: fuse-recon-v10| Requestor: V7162| RequestorManager: M42566| Owner: S27716| OwnerManager: M42566| RequestNo: CMCOrders#140879| InternalReference: 0885a6c7821c498b\n[2021-02-04 03-52-31] EamID: 311| ApiID: curve-data-store-int-v10| Requestor:K23335| RequestorManager: K16319| Owner: K16319| OwnerManager: P14057| RequestNo: CMCOrders#142028| InternalReference: d109bd5ede3b4f2c'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_ff3360b8_bc2f_45f0_892d_dc7d15a82de3 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ff3360b8-bc2f-45f0-892d-dc7d15a82de3'
  properties: {
    displayName: 'SailPoint-SCIM'
    description: '[2025-06-18 11-33-11] EamID: 205451| ApiID: sailpoint-scim-v10| Requestor:T00841| RequestorManager: | Owner: I13011| OwnerManager: | RequestNo: SNOW#SCTASK0475320| InternalReference: 8090061c46234399\n[2025-06-18 11-35-34] EamID: 205451| ApiID: sailpoint-scim-v10| Requestor:T00841| RequestorManager: | Owner: I13011| OwnerManager: | RequestNo: SNOW#SCTASK0475320| InternalReference: 21fd1ad0f9374d79\n[2025-06-18 11-40-05] EamID: 205451| ApiID: sailpoint-scim-v10| Requestor:T00841| RequestorManager: | Owner: I13011| OwnerManager: | RequestNo: SNOW#SCTASK0475320| InternalReference: c636935a89c846f4\n[2025-06-18 11-41-20] EamID: 205451| ApiID: sailpoint-scim-v10| Requestor:T00841| RequestorManager: | Owner: I13011| OwnerManager: | RequestNo: SNOW#SCTASK0475320| InternalReference: 07815ad73c2f4667'
    versioningScheme: 'Segment'
  }
}

resource service_uniperapis_dev_name_fffd7d82_7beb_4d55_b2a3_d08785297407 'Microsoft.ApiManagement/service/apiVersionSets@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fffd7d82-7beb-4d55-b2a3-d08785297407'
  properties: {
    displayName: 'ComSTAR-Genstar4-API'
    description: '[2025-05-30 13-08-41] EamID: 205415| ApiID: comstar-genstar4-api-v10| Requestor:M8617| RequestorManager: | Owner: M8617| OwnerManager: | RequestNo: SNOW#SCTASK0471142| InternalReference: 48544f6d6c8646c9'
    versioningScheme: 'Segment'
  }
}

resource Microsoft_ApiManagement_service_authorizationProviders_service_uniperapis_dev_name_autodesk 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'autodesk'
  location: 'West Europe'
  properties: {
    displayName: 'autodesk'
    identityProvider: 'oauth2pkce'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        authorizationCode: {
          clientId: 'VlFHe4ayPggDUE4VG18XKUoZUIZEqXDClMqc8n2TW59edfDA'
          scopes: 'data:read'
          authorizationUrl: 'https://developer.api.autodesk.com/authentication/v2/authorize'
          refreshUrl: 'https://developer.api.autodesk.com/authentication/v2/token'
          tokenUrl: 'https://developer.api.autodesk.com/authentication/v2/token'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_demo 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo'
  location: 'West Europe'
  properties: {
    displayName: 'demo'
    identityProvider: 'oauth2'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        authorizationCode: {
          clientId: 'd5551451-2a77-4d3e-a21f-bd36dba38282'
          scopes: 'api://apim-demo-logicapp-api/ManagedDevices.Read'
          authorizationUrl: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
          tokenUrl: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_github_01 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'github-01'
  location: 'West Europe'
  properties: {
    displayName: 'github-01'
    identityProvider: 'github'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        authorizationCode: {
          clientId: 'e5953a54a2816e0dd3ef'
          scopes: 'User'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_linkedinlearning_01 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'linkedinlearning-01'
  location: 'West Europe'
  properties: {
    displayName: 'linkedinlearning-01'
    identityProvider: 'oauth2'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        clientCredentials: {
          tokenUrl: 'https://www.linkedin.com/oauth/v2/accessToken'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_sap_btp_perfectpr_celonisclient 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp-perfectpr-celonisclient'
  location: 'West Europe'
  properties: {
    displayName: 'sap-btp-perfectpr-celonisclient'
    identityProvider: 'oauth2'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        clientCredentials: {
          tokenUrl: 'https://uniper-test.authentication.eu20.hana.ondemand.com/oauth/token'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_sap_btp_procurement_chatbot 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp-procurement-chatbot'
  location: 'West Europe'
  properties: {
    displayName: 'sap-btp-procurement-chatbot'
    identityProvider: 'oauth2'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        clientCredentials: {
          authorizationUrl: 'https://apps-dev-75dzolr7.authentication.eu20.hana.ondemand.com/oauth/authorize'
          tokenUrl: 'https://apps-dev-75dzolr7.authentication.eu20.hana.ondemand.com/oauth/token'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_sap_btp_procurement_entra 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp-procurement-entra'
  location: 'West Europe'
  properties: {
    displayName: 'sap-btp-procurement-entra'
    identityProvider: 'oauth2'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        authorizationCode: {
          clientId: 'fe6c1aa6-ded0-43c3-86f1-e7c4a2e6a734'
          scopes: 'api://fe6c1aa6-ded0-43c3-86f1-e7c4a2e6a734/user_impersonation'
          authorizationUrl: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
          tokenUrl: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_spotify_01 'Microsoft.ApiManagement/service/authorizationProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'spotify-01'
  location: 'West Europe'
  properties: {
    displayName: 'spotify-01'
    identityProvider: 'spotify'
    oauth2: {
      redirectUrl: 'https://authorization-manager.consent.azure-apim.net/redirect/apim/uniperapis-dev'
      grantTypes: {
        authorizationCode: {
          clientId: 'e397a00d057f425da5f1177994f5735f'
          scopes: 'playlist-read-collaborative'
        }
      }
    }
  }
}

resource service_uniperapis_dev_name_btp_oath_sp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'btp-oath-sp'
  properties: {
    displayName: 'btp-oath-sp'
    description: 'Authorization for SAP-BTP-procurement-chatboat'
    clientRegistrationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://fe6c1aa6-ded0-43c3-86f1-e7c4a2e6a734/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'fe6c1aa6-ded0-43c3-86f1-e7c4a2e6a734'
  }
}

resource service_uniperapis_dev_name_capman_dev 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capman-dev'
  properties: {
    displayName: 'CapMan-Dev'
    description: 'This is to get and validate OAuth2.0 Tokens for Capacity Management Dev Env'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    grantTypes: [
      'implicit'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '73c595ac-3326-4a26-bef6-43d08f929105'
  }
}

resource service_uniperapis_dev_name_coode_metadata 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coode-metadata'
  properties: {
    displayName: 'COODE Metadata'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '26fd0a05-3eaf-435e-80d1-2f468e1cba94'
  }
}

resource service_uniperapis_dev_name_crmues 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues'
  properties: {
    displayName: 'CRMUES'
    description: 'This is for getting tokens from the CRMUES APIs'
    clientRegistrationEndpoint: 'https://www.uniper.energy'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'https://uesatnew.crm4.dynamics.com/.default'
    grantTypes: [
      'clientCredentials'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '9c57de79-eb16-4c79-bca3-91f3ffa98b9d'
  }
}

resource Microsoft_ApiManagement_service_authorizationServers_service_uniperapis_dev_name_demo 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo'
  properties: {
    displayName: 'Demo'
    description: 'Demo OPEN API'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://apim-demo-logicapp-api/ManagedDevices.Read'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'd5551451-2a77-4d3e-a21f-bd36dba38282'
  }
}

resource service_uniperapis_dev_name_Enerlytics 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enerlytics'
  properties: {
    displayName: 'Enerlytics'
    description: 'Enerlytics applications'
    clientRegistrationEndpoint: 'http://localhost/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: true
    defaultScope: 'openid profile email'
    grantTypes: [
      'authorizationCode'
      'implicit'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'ec8c3369-2cfe-49ea-9d97-6aadadd46248'
  }
}

resource service_uniperapis_dev_name_fmp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp'
  properties: {
    displayName: 'FMP'
    clientRegistrationEndpoint: 'http://localhost'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://628c24c5-c09b-4175-93fd-bbe30452abbe/Api.Read'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'e6ab073b-c191-4427-8127-60394602bd42'
  }
}

resource service_uniperapis_dev_name_prism_oauth_sp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prism-oauth-sp'
  properties: {
    displayName: 'prism-oauth-sp'
    description: 'Authorization for Prism'
    clientRegistrationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://ce762dc6-b7f7-4c53-9172-3553b9d6f70a/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'ce762dc6-b7f7-4c53-9172-3553b9d6f70a'
  }
}

resource service_uniperapis_dev_name_sherlockbackendapi 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sherlockbackendapi'
  properties: {
    displayName: 'SherlockBackendAPI'
    description: 'Authorization token generation to access the Sherlock API'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://c6513e99-227e-4ef8-afc0-aa3b534bdfba/ReadWriteAccess'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'e5fa5e50-c9fd-4415-8fd4-1c113f85b3c4'
  }
}

resource service_uniperapis_dev_name_sherlockbackendtestapi 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sherlockbackendtestapi'
  properties: {
    displayName: 'SherlockBackendTestAPI'
    description: 'To validate the token for the QA environment for the sherlock project.'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://37434868-ec85-40c8-851f-38e81ec28e4a/ReadWriteAccess'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '33b1356c-c73a-4018-890a-5f7de79468a0'
  }
}

resource service_uniperapis_dev_name_snake_oauth_sp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snake-oauth-sp'
  properties: {
    displayName: 'snake-oauth-sp'
    description: 'Authorization for Snake API'
    clientRegistrationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://5801844a-aad5-4ce1-b1cb-e60caf0aac05/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '5801844a-aad5-4ce1-b1cb-e60caf0aac05'
  }
}

resource service_uniperapis_dev_name_snowflake 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snowflake'
  properties: {
    displayName: 'Snowflake'
    description: 'Azure AD access to Snowflake'
    clientRegistrationEndpoint: 'https://www.uniper.energy'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
    ]
    clientAuthenticationMethod: [
      'Basic'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: true
    defaultScope: 'https://uniper.onmicrosoft.com/945e244d-b5ea-4b33-9231-ed9737c5f124/session:role-any'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '156b8374-30d4-4cdf-9d41-18364fee2940'
  }
}

resource service_uniperapis_dev_name_tufin_decomm 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-decomm'
  properties: {
    displayName: 'Tufin Decomm'
    description: 'Authorization for the Tuffin Decomm Service'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://63fb1473-c84e-4828-9c0b-478214eabcc3/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '63fb1473-c84e-4828-9c0b-478214eabcc3'
  }
}

resource service_uniperapis_dev_name_tufin_get_well_connector_sp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-get-well-connector-sp'
  properties: {
    displayName: 'Tufin Get-Well-connector-sp'
    description: 'authorization for get well connector securechange'
    clientRegistrationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://cc26af64-2192-4322-8f1d-eb4ad62613e3/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'cc26af64-2192-4322-8f1d-eb4ad62613e3'
  }
}

resource service_uniperapis_dev_name_tufin_secureapp 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-secureapp'
  properties: {
    displayName: 'Tufin SecureApp'
    description: 'Authorization for the Tuffin Secure APP  service'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://2ce8b2e6-cf2f-4d6d-9009-f8b30f4d3a1e/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: '2ce8b2e6-cf2f-4d6d-9009-f8b30f4d3a1e'
  }
}

resource service_uniperapis_dev_name_tufin_vma 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-vma'
  properties: {
    displayName: 'Tufin VMA'
    description: 'Authorization for the Tuffin VMA Service'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://e556f4af-5058-415f-ac52-2c599d4b49c1/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'e556f4af-5058-415f-ac52-2c599d4b49c1'
  }
}

resource service_uniperapis_dev_name_tufin_vma_admin 'Microsoft.ApiManagement/service/authorizationServers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-vma-admin'
  properties: {
    displayName: 'Tufin VMA Admin'
    description: 'Authorization for the Tuffin VMA Admin Service'
    clientRegistrationEndpoint: 'https://www.uniper.energy/'
    authorizationEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/authorize'
    authorizationMethods: [
      'GET'
      'POST'
    ]
    clientAuthenticationMethod: [
      'Body'
    ]
    tokenBodyParameters: []
    tokenEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/oauth2/v2.0/token'
    useInTestConsole: true
    useInApiDocumentation: false
    supportState: false
    defaultScope: 'api://ae717c96-85f1-4ecf-9ed5-bde260bd121a/user_impersonation'
    grantTypes: [
      'authorizationCode'
    ]
    bearerTokenSendingMethods: [
      'authorizationHeader'
    ]
    clientId: 'ae717c96-85f1-4ecf-9ed5-bde260bd121a'
  }
}

resource service_uniperapis_dev_name_AIWorks_aiworksdevfoundry03 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-aiworksdevfoundry03'
  properties: {
    description: 'aiworksdevfoundry03'
    url: 'https://aiworksdevfoundry03.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_aiworkspocfoundry01 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-aiworkspocfoundry01'
  properties: {
    description: 'aiworkspocfoundry01'
    url: 'https://aiworkspocfoundry01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_aiworkspocfoundry02 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-aiworkspocfoundry02'
  properties: {
    description: 'aiworkspocfoundry02'
    url: 'https://aiworkspocfoundry02.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_A_EUW 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-A-EUW'
  properties: {
    description: 'AIWorks-API-OAI-A ger backend'
    url: 'https://uniperaidevger01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_A_SWC 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-A-SWC'
  properties: {
    description: 'AIWorks-API-OAI-A swc backend'
    url: 'https://uniperaidevswc01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_A_UKS 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-A-UKS'
  properties: {
    description: 'AIWorks-API-OAI-A weu backend'
    url: 'https://uniperaidevweu01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_B_EUW 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-B-EUW'
  properties: {
    description: 'AIWorks-API-OAI-B ger backend'
    url: 'https://uniperaidevger01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_B_SWC 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-B-SWC'
  properties: {
    description: 'AIWorks-API-OAI-B swc backend'
    url: 'https://uniperaidevswc01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_B_UKS 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-B-UKS'
  properties: {
    description: 'AIWorks-API-OAI-B weu backend'
    url: 'https://uniperaidevweu01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_C_EUW 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-C-EUW'
  properties: {
    description: 'AIWorks-API-OAI-C ger backend'
    url: 'https://uniperaidevger01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_C_SWC 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-C-SWC'
  properties: {
    description: 'AIWorks-API-OAI-C swc backend'
    url: 'https://uniperaidevswc01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_C_UKS 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-C-UKS'
  properties: {
    description: 'AIWorks-API-OAI-C weu backend'
    url: 'https://uniperaidevweu01.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_D_SWC2 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-D-SWC2'
  properties: {
    description: 'AIWorks-API-OAI-D SWC2 backend'
    url: 'https://aiservices-swc-dev03.services.ai.azure.com'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'breakThrottlingAnd429and500Errors'
          failureCondition: {
            count: 1
            interval: 'PT3M'
            statusCodeRanges: [
              {
                min: 429
                max: 429
              }
              {
                min: 408
                max: 408
              }
              {
                min: 500
                max: 504
              }
            ]
          }
          tripDuration: 'PT3M'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_aiworks_simulator 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiworks-simulator'
  properties: {
    description: 'AIWorks-simulator endpoint'
    url: 'https://gateway-dev.apis.uniper.energy/aiworks-cbsim-1'
    protocol: 'http'
    credentials: {
      header: {
        Authorization: [
          '{{aiworks-simulator-apikey}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_aiworks_timegen 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiworks-timegen'
  properties: {
    description: 'AIWorks-timegen model endpoint'
    url: 'https://aiworks-timegen.swedencentral.models.ai.azure.com'
    protocol: 'http'
    credentials: {
      header: {
        Authorization: [
          '{{aiworks-timegen-apikey}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_ascmavgfreq_dev_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascmavgfreq-dev-001'
  properties: {
    description: 'ascmavgfreq-dev-001'
    url: 'https://ascmavgfreq-dev-001.uniperapps.com/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/ascmweb-dev-rgp-001/providers/Microsoft.Web/sites/ascmavgfreq-dev-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{ascmavgfreq-dev-001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_ascmloadfreq_int_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascmloadfreq-int-001'
  properties: {
    description: 'ascmloadfreq-int-001'
    url: 'https://ascmloadfreq-int-001.uniperapps.com/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/ascmweb-int-rgp-001/providers/Microsoft.Web/sites/ascmloadfreq-int-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{ascmloadfreq-int-001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_crmues_functionapp_main_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-functionapp-main-backend'
  properties: {
    type: 'Single'
    url: 'https://crmues-es-functionapp-dev.azurewebsites.net/api'
    protocol: 'http'
    credentials: {
      query: {}
      header: {
        'x-functions-key': [
          '{{crmues-functionapp-main-backend-key}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_datahub_dr_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'datahub-dr-backend'
  properties: {
    description: 'datahub-dr-backend'
    url: 'https://datahub-dr.uniperapps.com/api'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_deltaxe_cis_ws_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'deltaxe-cis-ws-url'
  properties: {
    description: 'deltaxe-cis-ws-url'
    url: 'https://deltaxeuat.azure.uniper.energy:7004/UNPR_WebServices/ContractImportService'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Demo_OpenAI_Backend_Four 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Demo-OpenAI-Backend-Four'
  properties: {
    description: 'Demo Open AI Backend Four'
    url: 'https://cog-openai-rnd-eastus-001.openai.azure.com/openai'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'OpenAIBreakerRule'
          failureCondition: {
            count: 1
            interval: 'PT1H'
            statusCodeRanges: [
              {
                min: 400
                max: 499
              }
            ]
            errorReasons: [
              '\'Server errors'
            ]
          }
          tripDuration: 'PT15S'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_Demo_OpenAI_Backend_One 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Demo-OpenAI-Backend-One'
  properties: {
    description: 'Demo Open AI Backend One'
    url: 'https://cog-openai-rnd-weurope-001.openai.azure.com/openai'
    protocol: 'http'
    credentials: {
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'OpenAIBreakerRule'
          failureCondition: {
            count: 1
            interval: 'PT1H'
            statusCodeRanges: [
              {
                min: 400
                max: 499
              }
            ]
            errorReasons: [
              '\'Server errors'
            ]
          }
          tripDuration: 'PT15S'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_Demo_OpenAI_Backend_Three 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Demo-OpenAI-Backend-Three'
  properties: {
    description: 'Demo Open AI Backend Three'
    url: 'https://cog-openai-rnd-weurope-002.openai.azure.com/openai'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'OpenAIBreakerRule'
          failureCondition: {
            count: 1
            interval: 'PT1H'
            statusCodeRanges: [
              {
                min: 400
                max: 499
              }
            ]
            errorReasons: [
              '\'Server errors'
            ]
          }
          tripDuration: 'PT15S'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_Demo_OpenAI_Backend_Two 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Demo-OpenAI-Backend-Two'
  properties: {
    description: 'Demo Open AI Backend Two'
    url: 'https://cog-openai-rnd-scentral-001.openai.azure.com/openai'
    protocol: 'http'
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
    circuitBreaker: {
      rules: [
        {
          name: 'OpenAIBreakerRule'
          failureCondition: {
            count: 1
            interval: 'PT1H'
            statusCodeRanges: [
              {
                min: 400
                max: 499
              }
            ]
            errorReasons: [
              '\'Server errors'
            ]
          }
          tripDuration: 'PT30S'
          acceptRetryAfter: true
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_digicision_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-backend'
  properties: {
    description: 'digicision-backend'
    url: 'https://digicision-dev.azure.uniper.energy/v1/api/'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Enegen_G4CVN_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enegen-G4CVN-backend'
  properties: {
    description: 'Enegen-G4CVN-backend'
    url: 'https://uni-app-int.enegen.co.uk/Genstar4/CVN_API'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource Microsoft_ApiManagement_service_backends_service_uniperapis_dev_name_fmp_fa_cosmosdb 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-fa-cosmosdb'
  properties: {
    description: 'fmp-fa-cosmosdb'
    url: 'https://fmp-fa-cosmosdb.uniperapps.com/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/ftrmp-paas-dev-rgp-001/providers/Microsoft.Web/sites/fmp-fa-cosmosdb'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fmp-fa-cosmosdb-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fmp_fa_rm_dev 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-fa-rm-dev'
  properties: {
    url: 'https://fmp-fa-rm-dev.uniperapps.com'
    protocol: 'http'
    credentials: {
      query: {}
      header: {
        'x-functions-key': [
          '{{fmp-fa-rm-dev-key}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_forwardreportig 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'forwardreportig'
  properties: {
    description: 'ForwardReportig'
    url: 'https://forwardreportig.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/dlake-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/ForwardReportig'
    credentials: {
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsesb_ca_cameteologicapush_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-cameteologicapush-001'
  properties: {
    description: 'fsesb-ca-cameteologicapush-001'
    url: 'https://fsesb-ca-cameteologicapush-dev-001.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/fsesb-ca-cameteologicapush-dev-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fsesb-ca-cameteologicapush-001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fsesb_ca_getvolume_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-getvolume-001'
  properties: {
    description: 'fsesb-ca-getvolume-001'
    url: 'https://getvolumebydate.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/fsesb-ca-getvolume-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fsesb-ca-getvolume-001-key}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsesb_ca_manage_servicebus_queue 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-manage-servicebus-queue'
  properties: {
    description: 'fsesb-ca-manage-servicebus-queue-status-aiolos.azurewebsites.net'
    url: 'https://fsesb-ca-manage-servicebus-queue-status-aiolos.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/ennea-paas-dev-rgp-001/providers/Microsoft.Web/sites/fsesb-ca-manage-servicebus-queue-status-aiolos'
    credentials: {
      query: {}
      header: {
        'x-functions-key': [
          '{{fsebcemanage-key}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsesb_ca_postvolumedata_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-postvolumedata-001'
  properties: {
    description: 'fsesb-ca-postvolumedata-001'
    url: 'https://fsesb-ca-postvolumedata-001.azurewebsites.net'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/fsesb-ca-postvolumedata-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fsesb-ca-postvolumedata-001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fsesb_ca_volumeimport 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-volumeimport'
  properties: {
    description: 'fsesb-ca-volumeimport'
    url: 'https://fsesbcavolumeimportfuncapp001.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/fsesbcavolumeimportfuncapp001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fsesb-ca-volumeimport-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fsesbcavolumeimportfuncapp001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesbcavolumeimportfuncapp001'
  properties: {
    description: 'fsesbcavolumeimportfuncapp001'
    url: 'https://fsesbcavolumeimportfuncapp001.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/fsesbcavolumeimportfuncapp001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{fsesbcavolumeimportfuncapp001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fsmidd2_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsmidd2-url'
  properties: {
    description: 'fsmidd2-url'
    url: 'https://fsmidd-test.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsmidd_esb_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsmidd-esb-url'
  properties: {
    description: 'fsmidd-esb-url'
    url: 'https://fsmidd-test.azure.uniper.energy/esb'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsmidd_kafka_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsmidd-kafka-url'
  properties: {
    description: 'fsmidd-kafka-url'
    url: 'https://fsmidd-test.azure.uniper.energy/kafkamessagereprocess/trades/topic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsmidd_topic_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsmidd-topic-url'
  properties: {
    description: 'fsmidd-topic-url'
    url: 'https://fsmidd-dev.azure.uniper.energy/kafkamessagereprocess/trades/topic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fsmidd_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsmidd-url'
  properties: {
    description: 'fsmidd-url'
    url: 'https://fsmidd-dev.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_func_sbx_weu_automation_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'func-sbx-weu-automation-001'
  properties: {
    description: 'func-SBX-weu-automation-001'
    url: 'https://func-sbx-weu-automation-001.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/4ffa1f60-2302-4d6b-af00-5e40cec735ef/resourceGroups/rg-functionapp-001/providers/Microsoft.Web/sites/func-SBX-weu-automation-001'
    credentials: {
      header: {
        'x-functions-key': [
          '{{func-sbx-weu-automation-001-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_fuse_eai_esb_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-eai-esb-url'
  properties: {
    description: 'fuse-eai-esb-url'
    url: 'https://eai-int.azure.uniper.energy/esb'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Fuse_pegasus_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Fuse-pegasus-url'
  properties: {
    description: 'Fuse-pegasus-url'
    url: 'https://eai-int.azure.uniper.energy/cxf/pegasus/sendDeals'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fuse_sharp_nip_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sharp-nip-backend'
  properties: {
    description: 'fuse-sharp-nip-backend'
    url: 'https://fsmidd-test.azure.uniper.energy/nordic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fuse_sharp_nip_nbrbackend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sharp-nip-nbrbackend'
  properties: {
    description: 'fuse-sharp-nip-nbrbackend'
    url: 'https://fsmidd-test.azure.uniper.energy/nordic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_fuse_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-url'
  properties: {
    description: 'fuse-url'
    url: 'https://eai-int.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_GetSnowflakeData 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'GetSnowflakeData'
  properties: {
    description: 'Backend for tempo-atom API'
    url: 'https://getsnowflakedata-dev.uniperapps.com/api'
    protocol: 'http'
    credentials: {
      query: {}
      header: {
        'x-functions-key': [
          '{{GetSnowflakeData-Key}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_identiy_doorman_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'identiy-doorman-backend'
  properties: {
    description: 'identiy-doorman-backend'
    url: 'https://uat-myidentity.uniper.energy/identityiq'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_LogicApp_apim_demo_logic_app_MALAP_PaaS_dev_r_5f68b028cdec83c811ae938921208afd 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_apim-demo-logic-app_MALAP-PaaS-dev-r_5f68b028cdec83c811ae938921208afd'
  properties: {
    description: 'apim-demo-logic-app'
    url: 'https://prod-07.westeurope.logic.azure.com/workflows/d8dc447620064ee2b07e29b672666654/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/MALAP-PaaS-dev-rgp-001/providers/Microsoft.Logic/workflows/apim-demo-logic-app'
  }
}

resource service_uniperapis_dev_name_LogicApp_azurepipeline2_APIM_XaaS_HUB_rgp_002_3f63aec63eb841a58343803ff18e9fb7 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_azurepipeline2_APIM-XaaS-HUB-rgp-002_3f63aec63eb841a58343803ff18e9fb7'
  properties: {
    description: 'azure_pipeline_2'
    url: 'https://prod-152.westeurope.logic.azure.com/workflows/1e75bfc861734814b4a85cda6650f4f2/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/3f63aec6-3eb8-41a5-8343-803ff18e9fb7/resourceGroups/APIM-XaaS-HUB-rgp-002/providers/Microsoft.Logic/workflows/azure_pipeline_2'
  }
}

resource service_uniperapis_dev_name_LogicApp_deletionProcessDev_APIM_XaaS_HUB_rgp_7800315eef1ea08356159283c7587800 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_deletionProcessDev_APIM-XaaS-HUB-rgp_7800315eef1ea08356159283c7587800'
  properties: {
    description: 'deletionProcessDev'
    url: 'https://prod-171.westeurope.logic.azure.com/workflows/eecb5a384e0a4d7d80987d46471a6578/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/3f63aec6-3eb8-41a5-8343-803ff18e9fb7/resourceGroups/APIM-XaaS-HUB-rgp-002/providers/Microsoft.Logic/workflows/deletionProcessDev'
  }
}

resource service_uniperapis_dev_name_LogicApp_demo_logicapp_intune_MALAP_PaaS_dev_25f7a0947eb0c48a16f13ea1b40f0858 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_demo-logicapp-intune_MALAP-PaaS-dev-_25f7a0947eb0c48a16f13ea1b40f0858'
  properties: {
    description: 'demo-logicapp-intune'
    url: 'https://prod-72.westeurope.logic.azure.com/workflows/fd44b7c7ec064ff6bc4aa11ba1d630a6/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/MALAP-PaaS-dev-rgp-001/providers/Microsoft.Logic/workflows/demo-logicapp-intune'
  }
}

resource service_uniperapis_dev_name_LogicApp_demo_security_flow_demo_test_4ffa1f6023024d6baf005e40cec735ef 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_demo-security-flow_demo-test_4ffa1f6023024d6baf005e40cec735ef'
  properties: {
    description: 'demo-security-flow'
    url: 'https://prod-04.westeurope.logic.azure.com/workflows/cd156aecdf35434597adc6f41ffbac30/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/4ffa1f60-2302-4d6b-af00-5e40cec735ef/resourceGroups/demo-test/providers/Microsoft.Logic/workflows/demo-security-flow'
  }
}

resource service_uniperapis_dev_name_LogicApp_recon_fsesb_PaaS_dev_rgp_001_084971f5dda54b5790622e9289a1962e 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_recon_fsesb-PaaS-dev-rgp-001_084971f5dda54b5790622e9289a1962e'
  properties: {
    description: 'recon'
    url: 'https://prod-30.westeurope.logic.azure.com/workflows/c29a39162da64699af7345e78ca589dc/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Logic/workflows/recon'
  }
}

resource service_uniperapis_dev_name_LogicApp_reconNeon_fsesb_PaaS_dev_rgp_001_084971f5dda54b5790622e9289a1962e 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_reconNeon_fsesb-PaaS-dev-rgp-001_084971f5dda54b5790622e9289a1962e'
  properties: {
    description: 'reconNeon'
    url: 'https://prod-106.westeurope.logic.azure.com/workflows/67f37375e3af45f19cc636e69cc673e9/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsesb-PaaS-dev-rgp-001/providers/Microsoft.Logic/workflows/reconNeon'
  }
}

resource service_uniperapis_dev_name_LogicApp_SAPAMSDevOpsDispatcher_MALAP_PaaS_pr_10117d8d954c12b71a8e922f1a0998e1 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_SAPAMSDevOpsDispatcher_MALAP-PaaS-pr_10117d8d954c12b71a8e922f1a0998e1'
  properties: {
    description: 'SAPAMSDevOpsDispatcher'
    url: 'https://prod-165.westeurope.logic.azure.com/workflows/21352ec7bc8648ecb3eb1378c807ea32/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/75310040-ed56-4e53-83e0-80f23ef48cd6/resourceGroups/MALAP-PaaS-prd-rgp-001/providers/Microsoft.Logic/workflows/SAPAMSDevOpsDispatcher'
  }
}

resource service_uniperapis_dev_name_LogicApp_Text_Analytics_PROD_talts_PaaS_prd_r_05cd7baddeccea4d66f90bc266fc5b43 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_Text-Analytics-PROD_talts-PaaS-prd-r_05cd7baddeccea4d66f90bc266fc5b43'
  properties: {
    description: 'Text-Analytics-PROD'
    url: 'https://prod-22.westeurope.logic.azure.com/workflows/96e5c175c9b04b20bc9fb14948d53cb8/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/75310040-ed56-4e53-83e0-80f23ef48cd6/resourceGroups/talts-PaaS-prd-rgp-001/providers/Microsoft.Logic/workflows/Text-Analytics-PROD'
  }
}

resource service_uniperapis_dev_name_LogicApp_TrayportItemsScheduler_fsmidd_paas_d_7cd0ae4fe8c20f367aa07ad56644bd35 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LogicApp_TrayportItemsScheduler_fsmidd-paas-d_7cd0ae4fe8c20f367aa07ad56644bd35'
  properties: {
    description: 'TrayportItemsScheduler'
    url: 'https://prod-118.westeurope.logic.azure.com/workflows/04f261cc9da945bcbda7566b37572911/triggers'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsmidd-paas-dev-rgp-004/providers/Microsoft.Logic/workflows/TrayportItemsScheduler'
  }
}

resource service_uniperapis_dev_name_ma_grid_api_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ma-grid-api-backend'
  properties: {
    description: 'ma-grid-api-backend'
    url: 'https://magridapi-developer.asev2-uni-npd-001.appserviceenvironment.net/api/Home/'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_mdm_bakend_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdm-bakend-url'
  properties: {
    description: 'mdm-bakend-url'
    url: 'https://mdm-uat.azure.uniper.energy/MDMServices/MasterDataHub.asmx'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_mdm_service_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdm-service-backend'
  properties: {
    description: 'mdm-service-backend'
    url: 'https://fsmidd-test.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_myidentity 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'myidentity'
  properties: {
    description: 'Sailpoint My Identity Rest Objects'
    url: 'https://myidentity.uniper.energy/locations-rest/REST/objects'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
      authorization: {
        scheme: 'Basic'
        parameter: 'U0FQQXJpYmFMb2NhdGlvblNlcnZpY2VBY2NvdW50Onhkcj0/YnZieGlvaSQkMjAyMyo='
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_ngeniuspulse_001 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ngeniuspulse-001'
  properties: {
    url: 'https://monitoring.intranet.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {
        'ngp-authorization': [
          '{{ngp-authorizationtoken}}'
        ]
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_pegasus_power_price_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-power-price-backend'
  properties: {
    description: 'pegasus-power-price-backend'
    url: 'https://pegasuspower-development.uniper-digital.de'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_phobos_edt_eex 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-edt-eex'
  properties: {
    description: 'backend for edt eex'
    url: 'https://phobos-dev.azure.uniper.energy/cxf/esb/exchange-service/EOI_eex_message'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Phobos_esb_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Phobos-esb-url'
  properties: {
    description: 'Phobos-esb-url'
    url: 'https://phobos-dev.azure.uniper.energy/esb'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Phobos_imos_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Phobos-imos-url'
  properties: {
    description: 'Phobos-imos-url'
    url: 'https://phobos-dev.azure.uniper.energy/imos'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Phobos_pegasus_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Phobos-pegasus-url'
  properties: {
    description: 'Phobos-pegasus-url'
    url: 'https://phobos-dev.azure.uniper.energy/cxf/pegasus/sendDeals'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_phobos_sharp_nip_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-sharp-nip-backend'
  properties: {
    description: 'phobos-sharp-nip-backend'
    url: 'https://phobos-dev.azure.uniper.energy/nordic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_phobos_sra_response 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-sra-response'
  properties: {
    description: 'phobos-sra-response'
    url: 'https://phobos-dev.azure.uniper.energy/cxf/sra/invoice/response'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_phobos_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-url'
  properties: {
    description: 'phobos-url'
    url: 'https://Phobos-dev.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_phobos_url_esb 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-url-esb'
  properties: {
    description: 'phobos-url-esb'
    url: 'https://phobos-dev.azure.uniper.energy/esb'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_rest_proxy_celonis_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-proxy-celonis-backend'
  properties: {
    description: 'rest-proxy-celonis-backend'
    url: 'https://usip-kafka-uat.azure.uniper.energy/rest-proxy-celonis'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_riskcube_api_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'riskcube-api-url'
  properties: {
    description: 'riskcube-api-url'
    url: 'https://riskcubelogicapi-dev.uniperapps.com/cubelogic'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_starcb_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'starcb-backend'
  properties: {
    description: 'starcb-backend'
    url: 'https://api.starcb.com'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_Tufin 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin'
  properties: {
    description: 'Backend For Tufin'
    url: 'https://tufin.intranet.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {
        secret_backend: [
          '{{Tufin-TestUser-user-pw}}'
        ]
      }
      authorization: {
        scheme: 'Basic '
        parameter: 'secret_backend'
      }
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_uni_dev_163805_missingmapping_functionapp 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uni-dev-163805-missingmapping-functionapp'
  properties: {
    description: 'uni-dev-163805-missingmapping-functionapp'
    url: 'https://uni-dev-163805-missingmapping-functionapp.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/084971f5-dda5-4b57-9062-2e9289a1962e/resourceGroups/fsmidd-paas-dev-rgp-004/providers/Microsoft.Web/sites/uni-dev-163805-missingmapping-functionapp'
    credentials: {
      header: {
        'x-functions-key': [
          '{{uni-dev-163805-missingmapping-functionapp-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_usip_aiolos_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-aiolos-url'
  properties: {
    description: 'usip-aiolos-url'
    url: 'https://usip-uat2.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_usip_utility_url 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-utility-url'
  properties: {
    description: 'usip-utility-url'
    url: 'https://usip-utility-uat.azure.uniper.energy'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_usp_streaming_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usp-streaming-backend'
  properties: {
    description: 'usp-streaming-backend'
    url: 'https://usip-uat2.azure.uniper.energy/usip-uat/rp'
    protocol: 'http'
    credentials: {
      query: {}
      header: {}
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_xceptor_api_fsts 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xceptor-api-fsts'
  properties: {
    description: 'xceptor-api-fsts'
    url: 'https://xceptor-api-fsts.azurewebsites.net/api'
    protocol: 'http'
    resourceId: 'https://management.azure.com/subscriptions/6402d0db-ce67-42f4-8620-7a1fc57849b6/resourceGroups/Xcept-PaaS-dev-rgp-001/providers/Microsoft.Web/sites/xceptor-api-fsts'
    credentials: {
      header: {
        'x-functions-key': [
          '{{xceptor-api-fsts-key}}'
        ]
      }
    }
  }
}

resource service_uniperapis_dev_name_apim 'Microsoft.ApiManagement/service/certificates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim'
  properties: {}
}

resource service_uniperapis_dev_name_ennea_cer 'Microsoft.ApiManagement/service/certificates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-cer'
  properties: {
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/ennea-api-external-cer-ESG'
    }
  }
}

resource service_uniperapis_dev_name_ennea_test_cer 'Microsoft.ApiManagement/service/certificates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-test-cer'
  properties: {
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/enneaesg'
    }
  }
}

resource service_uniperapis_dev_name_intesi 'Microsoft.ApiManagement/service/certificates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'intesi'
  properties: {
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/intesi'
    }
  }
}

resource service_uniperapis_dev_name_tis_payments 'Microsoft.ApiManagement/service/certificates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tis-payments'
  properties: {
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/tis-payments/3fced63328324d42a534ef88f81351f8'
    }
  }
}

resource service_uniperapis_dev_name_5f45e25d875834a9a6fbb9df 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f45e25d875834a9a6fbb9df'
  properties: {
    displayName: 'AZ-F_OI5-C3-PKFG APIM Limited Contributor'
    description: 'Limited Contributor Access to PKFG APIs hosted in Azure API Management Service'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/18341a37-ae85-49b9-9d8a-b6bf5443b2bb'
  }
}

resource service_uniperapis_dev_name_5f45e28b0c291c71128bb250 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f45e28b0c291c71128bb250'
  properties: {
    displayName: 'AZ-F_OI5-C3-PKFG APIM Limited Reader'
    description: 'Reader access to PKFG APIs'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/9b40efc4-b5df-4d52-bdeb-7332ca85ab7f'
  }
}

resource service_uniperapis_dev_name_5f45e2a65fd0a74182bee233 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f45e2a65fd0a74182bee233'
  properties: {
    displayName: 'AZ-F_OI5-B4-Fuse APIM Limited Contributor'
    description: 'Read and Write access to Fuse related APIs. To be used only for APIM, not Virtual machines'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/c71e7d70-42f9-4350-95b8-0b988d5e9e5d'
  }
}

resource service_uniperapis_dev_name_5f58598a578203b9377e8de6 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f58598a578203b9377e8de6'
  properties: {
    displayName: 'AZ-F_OI5-C3-Pegasus APIM Limited Contributor'
    description: 'Azure API Management Limited Contributor for Pegasus'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/45fd2f59-1bca-4715-abf3-7f9e2b1bf266'
  }
}

resource service_uniperapis_dev_name_5f76c97203300dbc5b93a594 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f76c97203300dbc5b93a594'
  properties: {
    displayName: 'AZ-F_OI2-C2-ForwardReporting'
    description: 'API Mangement service maintained by CMC'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/a7cf33e5-0b7f-4187-af3b-27f6a37ef809'
  }
}

resource service_uniperapis_dev_name_5f926e48af732b455e522c49 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f926e48af732b455e522c49'
  properties: {
    displayName: 'AZ-F_OI2-C2-Coode APIM Limited Contributor'
    description: 'API management project'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/ebe85288-dafc-4132-ae58-23625d067eea'
  }
}

resource service_uniperapis_dev_name_5fa0adc707d28da4bc7fbf01 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fa0adc707d28da4bc7fbf01'
  properties: {
    displayName: 'AZ-F_OI6-A1-SAP Fiori APIM Limited Contributor'
    description: 'FIORI Portal & Resource Group Access '
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/a762763d-3553-4688-9c1d-4ee9b91ffc0e'
  }
}

resource service_uniperapis_dev_name_5fa52d9ff341170d567ad3ca 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fa52d9ff341170d567ad3ca'
  properties: {
    displayName: 'AZ-F_OI5-B1-DeltaXE-PREPROD-APIM Limited Contributor'
    description: 'APIM for the DeltaXE project'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/12b7d114-edc2-440f-afb8-46477e0a66df'
  }
}

resource service_uniperapis_dev_name_5fa531a74e6ee2fbb75d63c5 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fa531a74e6ee2fbb75d63c5'
  properties: {
    displayName: 'AZ-F_OI5-C3-Uniper-Direkt APIM Limited Contributor'
    description: 'Access to Azure API Management portal for APIM-Product Uniper-Direkt-OfferManagement'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/c8253132-6a3b-4ece-b1da-1220ac46e624'
  }
}

resource service_uniperapis_dev_name_5fb3425d52a05abf47d413db 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fb3425d52a05abf47d413db'
  properties: {
    displayName: 'AZ-F_OI2-C2-CDS APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/d188ff20-ac93-448e-aa74-7b3245ce3c92'
  }
}

resource service_uniperapis_dev_name_5fc4b356fd94a9e68fa5446f 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fc4b356fd94a9e68fa5446f'
  properties: {
    displayName: 'AZ-F_OI5-C3-Digital APIM Limited Contributor'
    description: 'Limited Contributor API Management of CMC/HaCT'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/0dd3f661-0723-4e14-a29a-b9eb5b6de0a2'
  }
}

resource service_uniperapis_dev_name_5fc4bc255493cbfa5e11f17f 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fc4bc255493cbfa5e11f17f'
  properties: {
    displayName: 'AZ-F_OI2-C2-FTRMP-PAAS-DEV-PORTAL'
    description: 'Granting access for Future Modeling Platform PaaS Dev portal'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/2d997a68-b84b-4d33-ab66-8c031feddb97'
  }
}

resource service_uniperapis_dev_name_5fcde77b9d90a7557f024929 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fcde77b9d90a7557f024929'
  properties: {
    displayName: 'AZ-F_OI6-C2-SOSB-APIM-Contributor'
    description: 'Access to the SOS Berlin Management API'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/30c1f331-01b8-4a06-ae08-854a9cd05a93'
  }
}

resource service_uniperapis_dev_name_5fcde78e4eb8cc44cee09d54 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fcde78e4eb8cc44cee09d54'
  properties: {
    displayName: 'AZ-F_OI6-C2-SOSB-Reporting-APIM-Contributor'
    description: 'Access to the SOS Berlin JobScheuler Reporting APIs'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/9d0df725-11dc-42e4-a465-8c2ec40dde2f'
  }
}

resource service_uniperapis_dev_name_60017b1d031604b57e74a6f6 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60017b1d031604b57e74a6f6'
  properties: {
    displayName: 'AZ-F_OI5-C3-UES Email Service APIM Limited Contributor'
    description: 'UES Email Service APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/9ce090c8-546c-4d66-84b4-fb6368447710'
  }
}

resource service_uniperapis_dev_name_600a52f51818aa381b782965 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '600a52f51818aa381b782965'
  properties: {
    displayName: 'AZ-F_OI5-C3-UES User Management APIM Limited Contributor'
    description: 'UES User Management APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/59bb56c9-5ae1-4f1a-a9d3-15a92e724649'
  }
}

resource service_uniperapis_dev_name_6011033491a3588284f3d232 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6011033491a3588284f3d232'
  properties: {
    displayName: 'AZ-F_OI4-D2-Infobasis-APIM-API-Managers'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/36713273-271f-4e4b-8e8b-9ee9a4915ccd'
  }
}

resource service_uniperapis_dev_name_60112cc3819700f9ff6d3eb0 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60112cc3819700f9ff6d3eb0'
  properties: {
    displayName: 'AZ-F_OI6-C2-Rundeck-REM-APIM-Contributor'
    description: 'Read and Write access to the Rundeck API for the REM instance. To be used only for APIM'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/7e8dc0a7-b9e5-46b9-956b-b885173a8328'
  }
}

resource service_uniperapis_dev_name_601b5fbb9e5455452022ba33 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '601b5fbb9e5455452022ba33'
  properties: {
    displayName: 'AZ-F_OI5-C3-Sales Trading Portal Enmacc Integration APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/9e75414a-82e7-414d-8563-d95aec9d1879'
  }
}

resource service_uniperapis_dev_name_601b5fd98454a8190598993b 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '601b5fd98454a8190598993b'
  properties: {
    displayName: 'AZ-F_OI5-C3-Enmacc Trading Platform APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/258e5693-3163-4cea-92b8-ab493b21f462'
  }
}

resource service_uniperapis_dev_name_601d45a3a90a83e68d805d39 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '601d45a3a90a83e68d805d39'
  properties: {
    displayName: 'AZ-F_OI5-D1-SAP Seeburger APIM Limited Contributor'
    description: 'Group to have access to SAP-Seeburger APIs in H&CT APIM Service'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/f539bd0b-35bd-4ddb-9a91-22d6720815c4'
  }
}

resource service_uniperapis_dev_name_60230cc066daf2c7a7dddd71 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60230cc066daf2c7a7dddd71'
  properties: {
    displayName: 'AZ-F_OI5-D1-CapMan APIM Limited Contributor'
    description: 'Granting access to Capacity Management Application to APIM non-prod environment'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/515db549-baa8-49d9-918a-463724b572bd'
  }
}

resource service_uniperapis_dev_name_602cf21bca45b8788396ea60 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '602cf21bca45b8788396ea60'
  properties: {
    displayName: 'AZ-F_OI6-C2-SampleProduct APIM Limited Contributor'
    description: 'Group to manage Sample product to test Terraform to manage APIM APIs'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/a83f37fb-7b86-4b72-85da-ba28ef90d241'
  }
}

resource service_uniperapis_dev_name_603cb022b277fd1e8aa8e3b4 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '603cb022b277fd1e8aa8e3b4'
  properties: {
    displayName: 'AZ-DS-All Primary KIDs'
    description: 'Dynamic group containing all primary KIDs'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/0bc02db6-f3a0-4214-96e7-be90348fdcbe'
  }
}

resource service_uniperapis_dev_name_603f8541bcaab2cf0653c1d8 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '603f8541bcaab2cf0653c1d8'
  properties: {
    displayName: 'AZ-F_OI5-C3-CRMUES APIM Limited Contributor'
    description: 'Group to have access to CRMUES APIs in H&CT APIM Service'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/af214a0c-2f3b-4e98-a6e2-7f29466f0b6e'
  }
}

resource service_uniperapis_dev_name_607ed1ec19ce46d4b65972eb 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '607ed1ec19ce46d4b65972eb'
  properties: {
    displayName: 'AZ-C_MA1-MDAP APIM Limited Contributor'
    description: 'security group for managing access to API Management resources'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/ca509f08-643d-465c-a18f-297c24591f2b'
  }
}

resource service_uniperapis_dev_name_608fd207be0a2545e00c6983 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '608fd207be0a2545e00c6983'
  properties: {
    displayName: 'AZ-F_OI2-C2-TEMPO APIM Limited Contributor'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/b84685dc-e51f-4048-9189-38caffd29f86'
  }
}

resource service_uniperapis_dev_name_67aa08835b047792ab2bd728 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67aa08835b047792ab2bd728'
  properties: {
    displayName: 'Az-AIWorks-Preview-Users'
    description: '[CreatedBy:BSN0001252][CreatedFor:bsn0003601] Granting access for Preview-Users.'
    type: 'external'
    externalId: 'aad://uniper.onmicrosoft.com/groups/ca13ed3b-b7cb-4664-a318-c0a89cc7b8fb'
  }
}

resource service_uniperapis_dev_name_administrators 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'administrators'
  properties: {
    displayName: 'Administrators'
    description: 'Administrators is a built-in group containing the admin email account provided at the time of service creation. Its membership is managed by the system.'
    type: 'system'
  }
}

resource service_uniperapis_dev_name_apim_grp_atom_temp 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-atom-temp'
  properties: {
    displayName: 'apim_grp_ATOM_TEMP'
    description: 'Temp group for ATOM'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_crmues 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-crmues'
  properties: {
    displayName: 'apim_grp_CRMUES'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_crmues_uat 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-crmues-uat'
  properties: {
    displayName: 'apim_grp_CRMUES-UAT'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_fuse_dataservicesvpc_pricerequest 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-fuse-dataservicesvpc-pricerequest'
  properties: {
    displayName: 'apim_grp_Fuse_DataservicesVPC-Pricerequest'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_fuse_dataservicesvpc_pricerequest_npd 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-fuse-dataservicesvpc-pricerequest-npd'
  properties: {
    displayName: 'apim_grp_Fuse_DataservicesVPC-Pricerequest-NPD'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_fuseesb_common 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-fuseesb-common'
  properties: {
    displayName: 'apim_grp_FuseESB_common'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_pegasusoffermanagement 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-pegasusoffermanagement'
  properties: {
    displayName: 'apim_grp_PegasusOfferManagement'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_grp_sslng 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-grp-sslng'
  properties: {
    displayName: 'apim-grp-sslng'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_apim_service_administrators 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-service-administrators'
  properties: {
    displayName: 'APIM Service Administrators'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC.'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_developers 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'developers'
  properties: {
    displayName: 'Developers'
    description: 'Developers is a built-in group. Its membership is managed by the system. Signed-in users fall into this group.'
    type: 'system'
  }
}

resource service_uniperapis_dev_name_guests 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'guests'
  properties: {
    displayName: 'Guests'
    description: 'Guests is a built-in group. Its membership is managed by the system. Unauthenticated users visiting the developer portal fall into this group.'
    type: 'system'
  }
}

resource service_uniperapis_dev_name_sap_is_u_p63_forecast_prod 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p63-forecast-prod'
  properties: {
    displayName: 'SAP IS-U-P63-Forecast-Prod'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_sap_is_u_p63_idoc_prod 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p63-idoc-prod'
  properties: {
    displayName: 'SAP IS-U P63-IDOC-PROD'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_workspaces_test_user 'Microsoft.ApiManagement/service/groups@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'workspaces-test-user'
  properties: {
    displayName: 'workspaces-test-user'
    type: 'custom'
  }
}

resource service_uniperapis_dev_name_aad 'Microsoft.ApiManagement/service/identityProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aad'
  properties: {
    clientId: 'eed3991c-faf7-4c19-8836-1fbd1db4baa3'
    type: 'aad'
    authority: 'login.microsoftonline.com'
    signinTenant: 'uniper.onmicrosoft.com'
    allowedTenants: [
      'uniper.onmicrosoft.com'
    ]
    clientLibrary: 'MSAL-2'
    clientSecret: identityProviders_aad_clientSecret
  }
}

resource service_uniperapis_dev_name_appi_weu_dev_aidev_01 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'appi-weu-dev-aidev-01'
  properties: {
    loggerType: 'applicationInsights'
    description: 'Aiworks api monitoring'
    credentials: {
      instrumentationKey: '{{Logger-Credentials--686d2dc967ce420d2461c002}}'
    }
    isBuffered: true
    resourceId: components_appi_weu_dev_aidev_01_externalid
  }
}

resource service_uniperapis_dev_name_appi_weu_dev_aidev_03 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'appi-weu-dev-aidev-03'
  properties: {
    loggerType: 'applicationInsights'
    credentials: {
      instrumentationKey: '{{Logger-Credentials--66fd58f4fb426811a87add87}}'
    }
    isBuffered: true
    resourceId: components_appi_weu_dev_aidev_03_externalid
  }
}

resource service_uniperapis_dev_name_azuremonitor 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azuremonitor'
  properties: {
    loggerType: 'azureMonitor'
    isBuffered: true
  }
}

resource service_uniperapis_dev_name_crmues_appinsights_dev_001 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-appinsights-dev-001'
  properties: {
    loggerType: 'applicationInsights'
    description: 'Application Insights of CRM UES DEV'
    credentials: {
      instrumentationKey: '{{Logger-Credentials--6317613d8bddbf11089b61d8}}'
    }
    isBuffered: true
    resourceId: components_crmues_appinsights_dev_001_externalid
  }
}

resource service_uniperapis_dev_name_demo_eh_logger 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-eh-logger'
  properties: {
    loggerType: 'azureEventHub'
    description: 'This is a test event hub logger connection'
    credentials: {
      name: 'demo'
      connectionString: '{{Logger-Credentials--65afcb458bddbf1068c99d44}}'
    }
    isBuffered: true
  }
}

resource service_uniperapis_dev_name_eam_api_uat 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eam-api-uat'
  properties: {
    loggerType: 'applicationInsights'
    credentials: {
      instrumentationKey: '{{Logger-Credentials--68f63d06be4114083098f572}}'
    }
    isBuffered: true
    resourceId: components_EAM_API_UAT_externalid
  }
}

resource service_uniperapis_dev_name_event_apim_logger 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'event-apim-logger'
  properties: {
    loggerType: 'azureEventHub'
    description: 'This is a event hub logger connection for apim'
    credentials: {
      name: 'test123'
      connectionString: '{{Logger-Credentials--620a541a8bddbf09e00cf9ad}}'
    }
    isBuffered: true
  }
}

resource service_uniperapis_dev_name_service_uniperapis_dev_name_app_insights_001 'Microsoft.ApiManagement/service/loggers@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '${service_uniperapis_dev_name}-app-insights-001'
  properties: {
    loggerType: 'applicationInsights'
    credentials: {
      instrumentationKey: '{{Logger-Credentials-5f44cadb8bddbf0e8038d4d0}}'
    }
    isBuffered: true
    resourceId: components_uniperapis_dev_app_insights_001_externalid
  }
}

resource service_uniperapis_dev_name_1_DO_NOT_USE_NAMED_VALUES 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1-DO-NOT-USE-NAMED-VALUES'
  properties: {
    displayName: '1-DO-NOT-USE-NAMED-VALUES'
    value: 'Named values are not a secure way to store secrets. Please use a KeyVault.'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_5f44cadb8bddbf0e8038d4d0 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f44cadb8bddbf0e8038d4d0'
  properties: {
    displayName: 'Logger-Credentials-5f44cadb8bddbf0e8038d4d0'
    secret: true
  }
}

resource service_uniperapis_dev_name_60a393b3d495b3e2b744ca55 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60a393b3d495b3e2b744ca55'
  properties: {
    displayName: 'fuse-recon-v10_manual-invoke_60a393b3d495b3e2b744ca55'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_60a39719655019dea91584a2 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60a39719655019dea91584a2'
  properties: {
    displayName: 'fuse-recon-v10_manual-invoke-1_60a39719655019dea91584a2'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_60a65d977b56edd673da334c 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60a65d977b56edd673da334c'
  properties: {
    displayName: 'fuse-recon-v10_manual-invoke-2_60a65d977b56edd673da334c'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_620a541a8bddbf09e00cf9ac 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '620a541a8bddbf09e00cf9ac'
  properties: {
    displayName: 'Logger-Credentials--620a541a8bddbf09e00cf9ad'
    secret: true
  }
}

resource service_uniperapis_dev_name_623b21e486307d04681f596b 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '623b21e486307d04681f596b'
  properties: {
    displayName: 'eai-usip-v10_manual-invoke_623b21e486307d04681f596b'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_6317613d8bddbf11089b61d7 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6317613d8bddbf11089b61d7'
  properties: {
    displayName: 'Logger-Credentials--6317613d8bddbf11089b61d8'
    secret: true
  }
}

resource service_uniperapis_dev_name_6363a8952eef0146cb816dfd 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6363a8952eef0146cb816dfd'
  properties: {
    displayName: 'sap-cpi650_logicapp_cr_status-v10_manual-invoke_6363a8952eef0146cb816dfd'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_65afcb458bddbf1068c99d43 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65afcb458bddbf1068c99d43'
  properties: {
    displayName: 'Logger-Credentials--65afcb458bddbf1068c99d44'
    secret: true
  }
}

resource service_uniperapis_dev_name_66729f1261a523f0e304c6b3 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66729f1261a523f0e304c6b3'
  properties: {
    displayName: 'a-text-analytics-prod_manual-invoke_66729f1261a523f0e304c6b3'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_66fd58f4fb426811a87add86 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fd58f4fb426811a87add86'
  properties: {
    displayName: 'Logger-Credentials--66fd58f4fb426811a87add87'
    secret: true
  }
}

resource service_uniperapis_dev_name_681a055105fe5e1372a96c8a 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '681a055105fe5e1372a96c8a'
  properties: {
    displayName: 'demo-security-flow_When_a_HTTP_request_is_received-invoke_681a055105fe5e1372a96c8a'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_686d2dc967ce420d2461c001 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '686d2dc967ce420d2461c001'
  properties: {
    displayName: 'Logger-Credentials--686d2dc967ce420d2461c002'
    secret: true
  }
}

resource service_uniperapis_dev_name_68f63d06be4114083098f571 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68f63d06be4114083098f571'
  properties: {
    displayName: 'Logger-Credentials--68f63d06be4114083098f572'
    secret: true
  }
}

resource service_uniperapis_dev_name_Aiolos_Service_x63Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Aiolos-Service-x63Backend-Url'
  properties: {
    displayName: 'Aiolos-Service-x63Backend-Url'
    value: 'https://q63s4.apps.uniper.energy/sap/bc'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_aiolos_service_x63password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiolos-service-x63password'
  properties: {
    displayName: 'Aiolos-Service-x63password'
    keyVault: {
      secretIdentifier: 'https://isu63-apim-kv-dev.vault.azure.net/secrets/Aiolos-Service-x63Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_aiolos_service_x63username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiolos-service-x63username'
  properties: {
    displayName: 'Aiolos-Service-x63username'
    keyVault: {
      secretIdentifier: 'https://isu63-apim-kv-dev.vault.azure.net/secrets/Aiolos-Service-x63Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_aiworks_exclude_ratelimit 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiworks-exclude-ratelimit'
  properties: {
    displayName: 'aiworks-exclude-ratelimit'
    tags: [
      'models'
      'aiworks'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_aiworks_simulator_apikey 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiworks-simulator-apikey'
  properties: {
    displayName: 'aiworks-simulator-apikey'
    tags: [
      'models'
      'aiworks'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_aiworks_timegen_apikey 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiworks-timegen-apikey'
  properties: {
    displayName: 'aiworks-timegen-apikey'
    tags: [
      'models'
      'aiworks'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_api_coe_cors 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'api-coe-cors'
  properties: {
    displayName: 'api-coe-cors'
    value: 'https://portal-dev.apis.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_api_coe_environment 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'api-coe-environment'
  properties: {
    displayName: 'api-coe-environment'
    value: 'dev'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_api_coe_keyvault_environment_name 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'api-coe-keyvault-environment-name'
  properties: {
    displayName: 'api-coe-keyvault-environment-name'
    value: 'uniperapis-dev-kv-001'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_api_gateway_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'api-gateway-url'
  properties: {
    displayName: 'api-gateway-url'
    value: 'https://gateway-dev.apis.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ascmavgfreq_dev_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascmavgfreq-dev-001-key'
  properties: {
    displayName: 'ascmavgfreq-dev-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_ascmloadfreq_int_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascmloadfreq-int-001-key'
  properties: {
    displayName: 'ascmloadfreq-int-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_azuremaps_subscriptionkey 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azuremaps-subscriptionkey'
  properties: {
    displayName: 'AzureMaps-SubscriptionKey'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/AzureMaps'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_azuretranslator_subscriptionkey 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azuretranslator-subscriptionkey'
  properties: {
    displayName: 'azuretranslator-subscriptionkey'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/AzureTranslator'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Biomethane_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Biomethane-Backend-Url'
  properties: {
    displayName: 'Biomethane-Backend-Url'
    value: 'https://biomethane-development.uniper-digital.de\n'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_biomethane_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'biomethane-password'
  properties: {
    displayName: 'Biomethane-Password'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Biomethane-Service-Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_biomethane_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'biomethane-username'
  properties: {
    displayName: 'Biomethane-Username'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Biomethane-Service-Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Business_Partner_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Business-Partner-Service-Backend-Url'
  properties: {
    displayName: 'Business-Partner-Service-Backend-Url'
    value: 'https://businesspartner-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_capman_webapp_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capman-webapp-url'
  properties: {
    displayName: 'capman-webapp-url'
    value: 'https://capmanprisma.azurewebsites.net/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_cogService_Text_Analytics_apikey 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cogService-Text-Analytics-apikey'
  properties: {
    displayName: 'cogService-Text-Analytics-apikey'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/AzureTextAnalytics'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Credit_Risk_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Credit-Risk-Service-Backend-Url'
  properties: {
    displayName: 'Credit-Risk-Service-Backend-Url'
    value: 'https://creditrisk-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_CREFO_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'CREFO-Backend-Url'
  properties: {
    displayName: 'CREFO-Backend-Url'
    value: 'https://3.ktu.crefosystem.de/iff'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_crm_ues_environment_api_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crm-ues-environment-api-url'
  properties: {
    displayName: 'crm-ues-environment-api-url'
    value: 'https://uesdevnew.crm4.dynamics.com/api/data/v9.1/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_crm_ues_environment_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crm-ues-environment-url'
  properties: {
    displayName: 'crm-ues-environment-url'
    value: 'https://uesdevnew.crm4.dynamics.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_crmues_functionapp_main_backend_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-functionapp-main-backend-key'
  properties: {
    displayName: 'crmues-functionapp-main-backend-key'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_crm_ues_keyvault_environment_name 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crm-ues-keyvault-environment-name'
  properties: {
    displayName: 'crm-ues-keyvault-environment-name'
    value: 'dev'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_da_forecast_backend_service_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'da-forecast-backend-service-url'
  properties: {
    displayName: 'da-forecast-backend-service-url'
    value: 'https://bidhelper-dayahead-forecast-import-gybjfnhcfgabftas.westeurope-01.azurewebsites.net/api'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_demo_openapi_v10_days_birthday 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-openapi-v10-days-birthday'
  properties: {
    displayName: 'demo-openapi-v10-days-birthday'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/demo-openapi-v10-days-birthday-Key'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_digicision_admin_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-admin-backend-url'
  properties: {
    displayName: 'digicision-admin-backend-url'
    value: 'https://digicision-dev.azure.uniper.energy/v1/api/admin'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_cors_path 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-cors-path'
  properties: {
    displayName: 'digicision-cors-path'
    value: 'https://digicision-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_cors_path_1 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-cors-path-1'
  properties: {
    displayName: 'digicision-cors-path-1'
    value: 'https://digicision-dev.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_cors_path_2 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-cors-path-2'
  properties: {
    displayName: 'digicision-cors-path-2'
    value: 'https://digicision-dev-ex.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_documents_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-documents-backend-url'
  properties: {
    displayName: 'digicision-documents-backend-url'
    value: 'https://digicision-dev.azure.uniper.energy/v1/api/documents'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_notification_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-notification-backend-url'
  properties: {
    displayName: 'digicision-notification-backend-url'
    value: 'https://digicision-dev.azure.uniper.energy/v1/api/notification'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_digicision_project_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-project-backend-url'
  properties: {
    displayName: 'digicision-project-backend-url'
    value: 'https://digicision-dev.azure.uniper.energy/v1/api/projects'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ds_api_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ds-api-backend-url'
  properties: {
    displayName: 'ds-api-backend-url'
    value: 'https://dsapi-int.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_endur_claim_value_001 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-claim-value-001'
  properties: {
    displayName: 'endur-claim-value-001'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_endur_claim_value_002 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-claim-value-002'
  properties: {
    displayName: 'endur-claim-value-002'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_endur_eai_common 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eai-common'
  properties: {
    displayName: 'endur-eai-common'
    value: 'https://eai-int.azure.uniper.energy/esb/commons/endur'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_endurnotify_backend_url_001 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endurnotify-backend-url-001'
  properties: {
    displayName: 'endurnotify-backend-url-001'
    value: 'https://endurappgateway.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_endurnotify_backend_url_002 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endurnotify-backend-url-002'
  properties: {
    displayName: 'endurnotify-backend-url-002'
    value: '/connex/JBrokerClusterRR'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Enmacc_Api_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enmacc-Api-Url'
  properties: {
    displayName: 'Enmacc-Api-Url'
    value: 'https://connect-sandbox.enmacc.de/v1.0'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Enmacc_Api_v21_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enmacc-Api-v21-Url'
  properties: {
    displayName: 'Enmacc-Api-v21-Url'
    value: 'https://connect-sandbox.enmacc.com/v2.1'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Enmacc_Api_v22_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enmacc-Api-v22-Url'
  properties: {
    displayName: 'Enmacc-Api-v22-Url'
    value: 'https://connect-sandbox.enmacc.com/v2.2'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Enmacc_Api_v2_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enmacc-Api-v2-Url'
  properties: {
    displayName: 'Enmacc-Api-v2-Url'
    value: 'https://connect-sandbox.enmacc.com/v2.0'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Enmacc_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Enmacc-Service-Backend-Url'
  properties: {
    displayName: 'Enmacc-Service-Backend-Url'
    value: 'https://enmacc-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ennea_certificate_thumbprint 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-certificate-thumbprint'
  properties: {
    displayName: 'ennea-certificate-thumbprint'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_environment 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'environment'
  properties: {
    displayName: 'environment'
    value: 'dev'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Epon_Kiosk_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Epon-Kiosk-Url'
  properties: {
    displayName: 'Epon-Kiosk-Url'
    value: 'https://kiosk-qa.energiepreisonline.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_estar_backend_service_base_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'estar-backend-service-base-url'
  properties: {
    displayName: 'estar-backend-service-base-url'
    value: 'https://prod.auth.e-star.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Fenix_USIP_Utilities_BackendUrl 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Fenix-USIP-Utilities-BackendUrl'
  properties: {
    displayName: 'Fenix-USIP-Utilities-BackendUrl'
    value: 'https://usip-kafka-uat.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_fmp_api_new_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-api-new-key'
  properties: {
    displayName: 'fmp-api-new-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fmp_fa_cosmosdb_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-fa-cosmosdb-key'
  properties: {
    displayName: 'fmp-fa-cosmosdb-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fmp_fa_rm_dev_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fmp-fa-rm-dev-key'
  properties: {
    displayName: 'fmp-fa-rm-dev-key'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_forwardreportig_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'forwardreportig-key'
  properties: {
    displayName: 'forwardreportig-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_Frame_Contracts_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Frame-Contracts-Backend-Url'
  properties: {
    displayName: 'Frame-Contracts-Backend-Url'
    value: 'https://frame-contracts-development.uniper-digital.de/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_frame_contracts_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'frame-contracts-password'
  properties: {
    displayName: 'Frame-Contracts-Password'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Frame-Contracts-Service-Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_frame_contracts_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'frame-contracts-username'
  properties: {
    displayName: 'Frame-Contracts-Username'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Frame-Contracts-Service-Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_fsebcemanage_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsebcemanage-key'
  properties: {
    displayName: 'fsebcemanage-key'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_fsesb_ca_cameteologicapush_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-cameteologicapush-001-key'
  properties: {
    displayName: 'fsesb-ca-cameteologicapush-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fsesb_ca_getvolume_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-getvolume-001-key'
  properties: {
    displayName: 'fsesb-ca-getvolume-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fsesb_ca_postvolumedata_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-postvolumedata-001-key'
  properties: {
    displayName: 'fsesb-ca-postvolumedata-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fsesbcavolumeimportfuncapp001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesbcavolumeimportfuncapp001-key'
  properties: {
    displayName: 'fsesbcavolumeimportfuncapp001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fsesb_ca_volumeimport_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fsesb-ca-volumeimport-key'
  properties: {
    displayName: 'fsesb-ca-volumeimport-key'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_func_sbx_weu_automation_001_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'func-sbx-weu-automation-001-key'
  properties: {
    displayName: 'func-sbx-weu-automation-001-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_fuse_dwh_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-dwh-url'
  properties: {
    displayName: 'fuse-dwh-url'
    value: 'https://gateway-dwh-test.azure.uniper.energy:8601/centraleurope'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_fuse_edge_archive_export 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-edge-archive-export'
  properties: {
    displayName: 'fuse-edge-archive-export'
    value: 'https://phobos-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_fuse_esb 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-esb'
  properties: {
    displayName: 'fuse-esb'
    value: 'https://eai-int.azure.uniper.energy/esb'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_fuse_intranet 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-intranet'
  properties: {
    displayName: 'fuse-intranet'
    value: 'https://fuse-uat.intranet.uniper.energy/centraleurope'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Gas_To_Power_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Gas-To-Power-Backend-Url'
  properties: {
    displayName: 'Gas-To-Power-Backend-Url'
    value: 'https://gas-to-power-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Gas_To_Power_Password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Gas-To-Power-Password'
  properties: {
    displayName: 'Gas-To-Power-Password'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Gas-To-Power-Service-Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Gas_To_Power_User 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Gas-To-Power-User'
  properties: {
    displayName: 'Gas-To-Power-User'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Gas-To-Power-Service-Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_gas_to_power_webservice_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'gas-to-power-webservice-password'
  properties: {
    displayName: 'gas-to-power-webservice-password'
    value: 'https://ues-pegasus-aks-dev.vault.azure.net/secrets/gas-to-power-webservice-password'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_gas_webservice_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'gas-webservice-username'
  properties: {
    displayName: 'gas-webservice-username'
    value: 'https://ues-pegasus-aks-dev.vault.azure.net/secrets/gas-webservice-username'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_getcapmanapidata_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'getcapmanapidata-key'
  properties: {
    displayName: 'getcapmanapidata-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_getprismaapidata_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'getprismaapidata-key'
  properties: {
    displayName: 'getprismaapidata-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_GetSnowflakeData_Key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'GetSnowflakeData-Key'
  properties: {
    displayName: 'GetSnowflakeData-Key'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Guarantees_of_Origin_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Guarantees-of-Origin-Backend-Url'
  properties: {
    displayName: 'Guarantees-of-Origin-Backend-Url'
    value: 'https://goo-development.uniper-digital.de/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_guarantees_of_origin_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'guarantees-of-origin-password'
  properties: {
    displayName: 'Guarantees-of-Origin-Password'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Guarantees-of-Origin-Service-Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_guarantees_of_origin_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'guarantees-of-origin-username'
  properties: {
    displayName: 'Guarantees-of-Origin-Username'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/Guarantees-of-Origin-Service-Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Holiday_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Holiday-Service-Backend-Url'
  properties: {
    displayName: 'Holiday-Service-Backend-Url'
    value: 'https://holidaycalendar-development.uniper-digital.de/v1'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Idoc_Service_x63Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Idoc-Service-x63Backend-Url'
  properties: {
    displayName: 'Idoc-Service-x63Backend-Url'
    value: 'https://q63s4.apps.uniper.energy/sap/bc'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_idoc_service_x63password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'idoc-service-x63password'
  properties: {
    displayName: 'idoc-service-x63password'
    keyVault: {
      secretIdentifier: 'https://isu63-apim-kv-dev.vault.azure.net/secrets/Idoc-Service-x63password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_idoc_service_x63username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'idoc-service-x63username'
  properties: {
    displayName: 'idoc-service-x63username'
    keyVault: {
      secretIdentifier: 'https://isu63-apim-kv-dev.vault.azure.net/secrets/Idoc-Service-x63username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_iiot_core_service_identity 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'iiot-core-service-identity'
  properties: {
    displayName: 'iiot-core-service-identity'
    value: 'api://8b88e4b4-5ad4-4eae-b68c-17092fbf04ff'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ISD_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ISD-Backend-Url'
  properties: {
    displayName: 'ISD-Backend-Url'
    value: 'https://isd-development.uniper-digital.de/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_isd_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'isd-password'
  properties: {
    displayName: 'ISD-Password'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/ISD-Service-Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_isd_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'isd-username'
  properties: {
    displayName: 'ISD-Username'
    keyVault: {
      secretIdentifier: 'https://ues-apim-kv-dev.vault.azure.net/secrets/ISD-Service-Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_laser3_api_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-api-backend-url'
  properties: {
    displayName: 'laser3-api-backend-url'
    value: 'https://laser3-test.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_laser3_api_cors_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-api-cors-backend-url'
  properties: {
    displayName: 'laser3-api-cors-backend-url'
    value: 'https://laser3-test.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_laser3_mock_api_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-mock-api-backend-url'
  properties: {
    displayName: 'laser3-mock-api-backend-url'
    value: 'https://laser3-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_laser3_mock_api_cors_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-mock-api-cors-backend-url'
  properties: {
    displayName: 'laser3-mock-api-cors-backend-url'
    value: 'https://laser3-dev.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_LHGas_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'LHGas-Service-Backend-Url'
  properties: {
    displayName: 'LHGas-Service-Backend-Url'
    value: 'https://lhgas-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_marie_ui_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'marie-ui-url'
  properties: {
    displayName: 'marie-ui-url'
    value: 'https://mariedevui.uniperapps.com/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_montel_backend_service_base_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'montel-backend-service-base-url'
  properties: {
    displayName: 'montel-backend-service-base-url'
    value: 'https://api.montelnews.com/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_neon_seeburger_as4_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'neon-seeburger-as4-backend'
  properties: {
    displayName: 'neon-seeburger-as4-backend'
    value: 'https://rest.makgw-tst.seeburger.cloud/msg/fp'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_neon_seeburger_as4_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'neon-seeburger-as4-password'
  properties: {
    displayName: 'neon-seeburger-as4-password'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_neon_seeburger_as4_userid 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'neon-seeburger-as4-userid'
  properties: {
    displayName: 'neon-seeburger-as4-userid'
    value: 'fp_uniper'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ngp_authorizationtoken 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ngp-authorizationtoken'
  properties: {
    displayName: 'ngp-authorization'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/nGeniusPulse-Authorization/0e7f60a124524a189ab314467287f623'
    }
    secret: true
  }
}

resource service_uniperapis_dev_name_PegasusGas_Service_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PegasusGas-Service-Backend-Url'
  properties: {
    displayName: 'PegasusGas-Service-Backend-Url'
    value: 'https://pegasusgas-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_PegasusPower_Service_Backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PegasusPower-Service-Backend'
  properties: {
    displayName: 'PegasusPower-Service-Backend'
    value: 'https://pegasuspower-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Phobos_fuse_esb 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Phobos-fuse-esb'
  properties: {
    displayName: 'Phobos-fuse-esb'
    value: 'https://phobos-dev.azure.uniper.energy/esb'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_phobos_fuse_imos 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-fuse-imos'
  properties: {
    displayName: 'phobos-fuse-imos'
    value: 'https://phobos-dev.azure.uniper.energy/imos'
    tags: []
    secret: false
  }
}

resource Microsoft_ApiManagement_service_namedValues_service_uniperapis_dev_name_phobos_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-url'
  properties: {
    displayName: 'phobos-url'
    value: 'https://phobos-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_phobos_url_pre_dr 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-url-pre-dr'
  properties: {
    displayName: 'phobos-url-pre-dr'
    value: 'https://phobos-pre-dr.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_pkfg_backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pkfg-backend-url'
  properties: {
    displayName: 'Pkfg-Backend-Url'
    value: 'https://pkfg3-dev.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_prism_oauth_sp_appid 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prism-oauth-sp-appid'
  properties: {
    displayName: 'prism-oauth-sp-appid'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_prism_UI_origin 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prism-UI-origin'
  properties: {
    displayName: 'prism-UI-origin'
    value: 'https://prismdevui.uniperapps.com/'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_prism_ui_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prism-ui-url'
  properties: {
    displayName: 'prism-ui-url'
    value: 'https://prism-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sailpoint_clientid 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sailpoint-clientid'
  properties: {
    displayName: 'sailpoint-clientid'
    value: '7WTAFWe4dIMEdsFbvNR5YHKgpOVskdC2'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sailpoint_clientsecret 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sailpoint-clientsecret'
  properties: {
    displayName: 'sailpoint-clientsecret'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_sailpoint_tokenendpoint 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sailpoint-tokenendpoint'
  properties: {
    displayName: 'sailpoint-tokenendpoint'
    value: 'https://uat-myidentity.uniper.energy/identityiq/oauth2/token'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sap_iss_ack_fenix_topic 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-iss-ack-fenix-topic'
  properties: {
    displayName: 'sap-iss-ack-fenix-topic'
    value: '2933-dev-sap-iss-ack-fenix-trades'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sap_iss_ack_go_topic 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-iss-ack-go-topic'
  properties: {
    displayName: 'sap-iss-ack-go-topic'
    value: '2933-dev-sap-iss-ack-go-trades'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_seeburgeras4_neon_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburgeras4-neon-backend'
  properties: {
    displayName: 'seeburgeras4-neon-backend'
    value: 'https://neonas4responsereceiver.azurewebsites.net/api/seeburger'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sharepoint_automation_logicapp_04_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sharepoint-automation-logicapp-04-backend'
  properties: {
    displayName: 'sharepoint-automation-logicapp-04-backend'
    value: 'https://la-weu-dev-sharedsp-04.azurewebsites.net:443/api/HttpTriggerManualStart/triggers'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sharepoint_automation_logicapp_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sharepoint-automation-logicapp-backend'
  properties: {
    displayName: 'sharepoint-automation-logicapp-backend'
    value: 'https://la-weu-dev-sharedsp-03.azurewebsites.net:443/api/HttpTriggerManualStart/triggers\n'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_snake_oauth_sp_appid 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snake-oauth-sp-appid'
  properties: {
    displayName: 'snake-oauth-sp-appid'
    value: '5801844a-aad5-4ce1-b1cb-e60caf0aac05'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_snake_UI_origin 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snake-UI-origin'
  properties: {
    displayName: 'snake-UI-origin'
    value: 'https://snakedevweb.uniperapps.com'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_snake_ui_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snake-ui-url'
  properties: {
    displayName: 'snake-ui-url'
    value: 'https://snake-dev.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_SNOWAPIMPassword 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'SNOWAPIMPassword'
  properties: {
    displayName: 'SNOWAPIMPassword'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/SNOWAPIMPassword'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_SNOWAPIMUser 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'SNOWAPIMUser'
  properties: {
    displayName: 'SNOWAPIMUser'
    keyVault: {
      secretIdentifier: 'https://uniperapis-dev-kv-001.vault.azure.net/secrets/SNOWAPIMUser'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_STP_Backend_Url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'STP-Backend-Url'
  properties: {
    displayName: 'STP-Backend-Url'
    value: 'https://salestrading-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_sva_ennea_metered_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sva-ennea-metered-url'
  properties: {
    displayName: 'sva-ennea-metered-url'
    value: 'https://svatoennea-afccdvdqapf2arfh.westeurope-01.azurewebsites.net/api'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_tipware_service_x68backend_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tipware-service-x68backend-url'
  properties: {
    displayName: 'tipware-service-x68backend-url'
    value: 'https://q68s4.apps.uniper.energy/sap'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_tipware_service_x68password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tipware-service-x68password'
  properties: {
    displayName: 'tipware-service-x68password'
    keyVault: {
      secretIdentifier: 'https://isu68-apim-kv-uat.vault.azure.net/secrets/Tipware-Service-x68Password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_tipware_service_x68username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tipware-service-x68username'
  properties: {
    displayName: 'tipware-service-x68username'
    keyVault: {
      secretIdentifier: 'https://isu68-apim-kv-uat.vault.azure.net/secrets/Tipware-Service-x68Username'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_tpm_api_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tpm-api-backend'
  properties: {
    displayName: 'tpm-api-backend'
    value: 'https://transferpricingmanager-int.asev2-uni-npd-001.appserviceenvironment.net'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_Tufin_SecureChange_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin-SecureChange-password'
  properties: {
    displayName: 'Tufin-SecureChange-password'
    keyVault: {
      secretIdentifier: 'https://sectvm-dev-vulnrep-kv.vault.azure.net/secrets/Tufin-SecureChange-password'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Tufin_SecureChange_User 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin-SecureChange-User'
  properties: {
    displayName: 'Tufin-SecureChange-User'
    keyVault: {
      secretIdentifier: 'https://sectvm-dev-vulnrep-kv.vault.azure.net/secrets/Tufin-SecureChange-User'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Tufin_TestUser_pw 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin-TestUser-pw'
  properties: {
    displayName: 'Tufin-TestUser-pw'
    keyVault: {
      secretIdentifier: 'https://sectvm-dev-vulnrep-kv.vault.azure.net/secrets/Tufin-TestUser-pw'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Tufin_TestUser_user 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin-TestUser-user'
  properties: {
    displayName: 'Tufin-TestUser-user'
    keyVault: {
      secretIdentifier: 'https://sectvm-dev-vulnrep-kv.vault.azure.net/secrets/Tufin-TestUser-user'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_Tufin_TestUser_user_pw 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Tufin-TestUser-user-pw'
  properties: {
    displayName: 'Tufin-TestUser-user-pw'
    keyVault: {
      secretIdentifier: 'https://sectvm-dev-vulnrep-kv.vault.azure.net/secrets/Tufin-TestUser-user-pw'
    }
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_UESConstraintControlServiceURL 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'UESConstraintControlServiceURL'
  properties: {
    displayName: 'UESConstraintControlServiceURL'
    value: 'https://constraintcontrol-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_ues_gas_price_service_url 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-gas-price-service-url'
  properties: {
    displayName: 'ues-gas-price-service-url'
    value: 'https://gas-price-development.uniper-digital.de'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_uni_dev_163805_missingmapping_functionapp_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uni-dev-163805-missingmapping-functionapp-key'
  properties: {
    displayName: 'uni-dev-163805-missingmapping-functionapp-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_usip_conf_kafka_fenix_restproxy_backendurl 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-conf-kafka-fenix-restproxy-backendurl'
  properties: {
    displayName: 'usip-conf-kafka-fenix-restproxy-backendurl'
    value: 'https://usip-confluent-dev-platfrom.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_usip_confluent_backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-confluent-backend'
  properties: {
    displayName: 'usip-confluent-backend'
    value: 'https://usip-confluent-dev-platfrom.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_usip_confluent_backend_003 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-confluent-backend-003'
  properties: {
    displayName: 'usip-confluent-backend-003'
    value: 'https://usip-confluent-dev-platfrom.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_usip_confluent_backend_pre_dr 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-confluent-backend-pre-dr'
  properties: {
    displayName: 'usip-confluent-backend-pre-dr'
    value: 'https://usip-conf-pre-dr-platform.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_USIP_KAFKA_Backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'USIP-KAFKA-Backend'
  properties: {
    displayName: 'USIP-KAFKA-Backend'
    value: 'https://usip-kafka-uat.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_usip_utilities_password 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-utilities-password'
  properties: {
    displayName: 'usip-utilities-password'
    tags: []
    secret: true
  }
}

resource service_uniperapis_dev_name_usip_utilities_username 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-utilities-username'
  properties: {
    displayName: 'usip-utilities-username'
    value: 'restproxyuser'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_USIP_UTILITY_Backend 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'USIP-UTILITY-Backend'
  properties: {
    displayName: 'USIP-UTILITY-Backend'
    value: 'https://usip-utility-uat.azure.uniper.energy'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_veslink_imos_lng 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'veslink-imos-lng'
  properties: {
    displayName: 'veslink-imos-lng'
    value: 'https://eai-uat.azure.uniper.energy/lng/imos'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_veslink_vesselimport 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'veslink-vesselimport'
  properties: {
    displayName: 'veslink-vesselimport'
    value: 'https://eai-uat.azure.uniper.energy/imos'
    tags: []
    secret: false
  }
}

resource service_uniperapis_dev_name_xceptor_api_fsts_key 'Microsoft.ApiManagement/service/namedValues@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xceptor-api-fsts-key'
  properties: {
    displayName: 'xceptor-api-fsts-key'
    tags: [
      'key'
      'function'
      'auto'
    ]
    secret: true
  }
}

resource service_uniperapis_dev_name_AccountClosedPublisher 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AccountClosedPublisher'
}

resource service_uniperapis_dev_name_BCC 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'BCC'
}

resource service_uniperapis_dev_name_NewApplicationNotificationMessage 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'NewApplicationNotificationMessage'
}

resource service_uniperapis_dev_name_NewIssuePublisherNotificationMessage 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'NewIssuePublisherNotificationMessage'
}

resource service_uniperapis_dev_name_PurchasePublisherNotificationMessage 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PurchasePublisherNotificationMessage'
}

resource service_uniperapis_dev_name_QuotaLimitApproachingPublisherNotificationMessage 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'QuotaLimitApproachingPublisherNotificationMessage'
}

resource service_uniperapis_dev_name_RequestPublisherNotificationMessage 'Microsoft.ApiManagement/service/notifications@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'RequestPublisherNotificationMessage'
}

resource service_uniperapis_dev_name_capmanopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capmanopenid'
  properties: {
    displayName: 'CapmanOpenID'
    metadataEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/v2.0/.well-known/openid-configuration'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: '73c595ac-3326-4a26-bef6-43d08f929105'
  }
}

resource service_uniperapis_dev_name_coodemasterdatafeedopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coodemasterdatafeedopenid'
  properties: {
    displayName: 'CoodeMasterDataFeedOpenID'
    metadataEndpoint: 'https://app-coode-master-data-feed-api-dev.azurewebsites.net'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'client_credentials_flow_client'
  }
}

resource service_uniperapis_dev_name_coodemasterdataopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coodemasterdataopenid'
  properties: {
    displayName: 'CoodeMasterDataOpenID'
    metadataEndpoint: 'https://app-coode-master-data-api-dev.azurewebsites.net'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'client_credentials_flow_client'
  }
}

resource service_uniperapis_dev_name_coodemetadatafeedopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coodemetadatafeedopenid'
  properties: {
    displayName: 'CoodeMetaDataFeedOpenID'
    metadataEndpoint: 'https://app-coode-meta-data-feed-api-dev.azurewebsites.net'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'client_credentials_flow_client'
  }
}

resource service_uniperapis_dev_name_coodemetadataopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coodemetadataopenid'
  properties: {
    displayName: 'CoodeMetaDataOpenID'
    metadataEndpoint: 'https://app-coode-identity-api-dev.azurewebsites.net/.well-known/openid-configuration'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'ff0e019d-d685-44d7-a027-0686d5ac1576'
  }
}

resource service_uniperapis_dev_name_coodeuamopenid 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coodeuamopenid'
  properties: {
    displayName: 'CoodeUAMOpenID'
    metadataEndpoint: 'https://app-coode-user-access-management-api-dev.azurewebsites.net'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'client_credentials_flow_client'
  }
}

resource Microsoft_ApiManagement_service_openidConnectProviders_service_uniperapis_dev_name_demo 'Microsoft.ApiManagement/service/openidConnectProviders@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo'
  properties: {
    displayName: 'Demo'
    metadataEndpoint: 'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/v2.0/.well-known/openid-configuration'
    useInTestConsole: true
    useInApiDocumentation: false
    clientId: 'd5551451-2a77-4d3e-a21f-bd36dba38282'
  }
}

resource service_uniperapis_dev_name_policy 'Microsoft.ApiManagement/service/policies@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'policy'
  properties: {
    value: '<!--\r\n    IMPORTANT:\r\n    - Policy elements can appear only within the <inbound>, <outbound>, <backend> section elements.\r\n    - Only the <forward-request> policy element can appear within the <backend> section element.\r\n    - To apply a policy to the incoming request (before it is forwarded to the backend service), place a corresponding policy element within the <inbound> section element.\r\n    - To apply a policy to the outgoing response (before it is sent back to the caller), place a corresponding policy element within the <outbound> section element.\r\n    - To add a policy position the cursor at the desired insertion point and click on the round button associated with the policy.\r\n    - To remove a policy, delete the corresponding policy statement from the policy document.\r\n    - Policies are applied in the order of their appearance, from the top down.\r\n-->\r\n<policies>\r\n  <inbound>\r\n    <!-- ** if service need isolating set the following response ** -->\r\n    <!--mock-response status-code="503" content-type="Service Unavailable" /-->\r\n    <!-- **************** -->\r\n    <cors allow-credentials="true">\r\n      <allowed-origins>\r\n        <origin>{{api-coe-cors}}</origin>\r\n        <origin>https://emea.flow.microsoft.com/</origin>\r\n        <origin>https://flow.microsoft.com/</origin>\r\n        <origin>https://portal-dev.apis.uniper.energy</origin>\r\n        <origin>https://uniper.sharepoint.com</origin>\r\n        <origin>https://uniper.sharepoint.com.mcas.ms</origin>\r\n      </allowed-origins>\r\n      <allowed-methods preflight-result-max-age="300">\r\n        <method>*</method>\r\n      </allowed-methods>\r\n      <allowed-headers>\r\n        <header>*</header>\r\n      </allowed-headers>\r\n      <expose-headers>\r\n        <header>*</header>\r\n      </expose-headers>\r\n    </cors>\r\n    <set-variable name="environment" value="{{api-coe-environment}}" />\r\n    <!--choose>\r\n            <when condition="@((string)context.Variables["environment"] == "dev")">\r\n                <rate-limit-by-key calls="30" renewal-period="60" counter-key="@(context.Request.IpAddress)" remaining-calls-variable-name="remainingCallsPerIP" />\r\n            </when>\r\n        </choose-->\r\n  </inbound>\r\n  <backend>\r\n    <forward-request timeout="240" />\r\n  </backend>\r\n  <outbound>\r\n    <!-- add security header to the return message -->\r\n    <include-fragment fragment-id="SecurityHeaders" />\r\n  </outbound>\r\n  <on-error />\r\n</policies>'
    format: 'xml'
  }
}

resource service_uniperapis_dev_name_AIWorks_Backend_Selection 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Backend-Selection'
  properties: {
    description: 'AIWorks Defines the complete Backend-Selection configuration'
    value: '<!--\r\nFragment: AIWorks-Backend-Selection\r\nVersion: 1.7\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nSelects appropriate backend service, API version, and routing configuration based on\r\nAPI type, model requirements, and capacity needs. Handles special routing for responses,\r\nconversations, and assistants APIs. Uses ONLY existing model-config structure.\r\n\r\nFEATURES:\r\n- Dynamic backend selection from api-types[api-type].backend and models[model].backend\r\n- API version selection from api-types[api-type].api-version and models[model].api-version\r\n- Timeout configuration from api-types[api-type].timeout (with streaming multipliers)\r\n- Special handling for embeddings requests\r\n- Request body extraction for model detection\r\n- Backend priority selection based on backend-priorities configuration\r\n- Streaming response configuration with existing timeout values\r\n- Model capacity-based routing\r\n- Clear error messages when configuration is missing\r\n\r\nVARIABLES CONSUMED:\r\n- api-type: Type of API (openai, responses, conversations, assistants, etc.)\r\n- original-path: Original request path\r\n- model-id: Model identifier\r\n- is-embeddings-request: Whether request is for embeddings\r\n- config-parsed: Parsed configuration object\r\n- rt-ot: Route operation type (from Route-Analysis)\r\n- has-json-body: Whether request has JSON body\r\n- parsed-request-body: Parsed JSON request body\r\n- model-config: Raw configuration string\r\n\r\nVARIABLES PRODUCED:\r\n- selected-backend: Selected backend URL\r\n- selected-api-version: API version for backend\r\n- selected-model: Selected model configuration\r\n- selected-timeout: Request timeout in seconds\r\n- buffer-response: Whether to buffer response\r\n- rt-ready: Route analysis readiness flag\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Route-Analysis: Provides rt-ot variable and routing context\r\n- AIWorks-Config-Cache: Provides config-parsed and model configuration\r\n- AIWorks-Request-Analysis: Provides body parsing and JSON extraction\r\n- AIWorks-Security-Unified: Handles ownership validation for responses/conversations\r\n\r\nRECENT CHANGES:\r\n- 2025-09-13 v1.7: Reverted to use ONLY existing api-types/models config structure, removed all defaults dependencies\r\n- 2025-09-07 v1.4: Fixed variable reference from "operation" to "rt-ot"\r\n\r\nARCHITECTURE NOTES:\r\n- Configuration values MUST be present in existing api-types or models sections\r\n- Ownership validation for responses/conversations APIs is handled by AIWorks-Security-Unified\r\n- This fragment focuses purely on backend selection and routing configuration using existing config\r\n-->\r\n<fragment fragment-id="AIWorks-Backend-Selection">\r\n\t<!-- Check route analysis ready -->\r\n\t<set-variable name="rt-ready" value="@{&#xD;&#xA;&#x9;&#x9;var a = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var o = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (a != &amp;quot;&amp;quot; &amp;amp;&amp;amp; o != &amp;quot;&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Main backend selection logic -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ready&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- MODEL EXTRACTION -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;) == &amp;quot;unknown&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="model-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var p = context.Request.Url.Path.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var at = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var m = context.Request.Method.ToUpper();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var ie = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var mid = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cf = JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Assistants API special handling&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;assistants&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (m == &amp;quot;DELETE&amp;quot; || (m == &amp;quot;GET&amp;quot; &amp;amp;&amp;amp; (p.IndexOf(&amp;quot;/assistants/&amp;quot;) &amp;gt;= 0 || p.IndexOf(&amp;quot;/threads/&amp;quot;) &amp;gt;= 0)) || (m == &amp;quot;POST&amp;quot; &amp;amp;&amp;amp; p.IndexOf(&amp;quot;/threads/&amp;quot;) &amp;gt;= 0)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;assistants-no-model-required&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Embeddings model detection&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (ie) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;models&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var mp in cf[&amp;quot;models&amp;quot;].Children&amp;lt;JProperty&amp;gt;()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (mp.Value[&amp;quot;capacity&amp;quot;] != null &amp;amp;&amp;amp; mp.Value[&amp;quot;capacity&amp;quot;].ToString() == &amp;quot;embeddings&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;mid = mp.Name;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;break;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(mid)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return mid;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract model from request body&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-json-body&amp;quot;) == &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var bo = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;parsed-request-body&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (bo != null &amp;amp;&amp;amp; bo[&amp;quot;model&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;mid = bo[&amp;quot;model&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract model from path - Inference API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(mid) &amp;amp;&amp;amp; at == &amp;quot;inference&amp;quot; &amp;amp;&amp;amp; p.IndexOf(&amp;quot;/models/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var pts = p.Split(new[]{&amp;quot;/models/&amp;quot;}, StringSplitOptions.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (pts.Length &amp;gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var mp = pts[1];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var si = mp.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;mid = (si &amp;gt;= 0) ? mp.Substring(0, si) : mp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract model from path - OpenAI API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(mid) &amp;amp;&amp;amp; at == &amp;quot;openai&amp;quot; &amp;amp;&amp;amp; p.IndexOf(&amp;quot;/deployments/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var pts = p.Split(new[]{&amp;quot;/deployments/&amp;quot;}, StringSplitOptions.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (pts.Length &amp;gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var mp = pts[1];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var si = mp.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;mid = (si &amp;gt;= 0) ? mp.Substring(0, si) : mp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Final check for model requirement&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(mid)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;openai&amp;quot; || at == &amp;quot;inference&amp;quot; || (at == &amp;quot;assistants&amp;quot; &amp;amp;&amp;amp; m == &amp;quot;POST&amp;quot; &amp;amp;&amp;amp; p.IndexOf(&amp;quot;/assistants&amp;quot;) &amp;gt;= 0) || (at == &amp;quot;responses&amp;quot; &amp;amp;&amp;amp; m == &amp;quot;POST&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-not-found&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;no-model-required&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;openai&amp;quot; || at == &amp;quot;inference&amp;quot; || (at == &amp;quot;assistants&amp;quot; &amp;amp;&amp;amp; m == &amp;quot;POST&amp;quot;) || (at == &amp;quot;responses&amp;quot; &amp;amp;&amp;amp; m == &amp;quot;POST&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-not-found&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;no-model-required&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return mid;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Handle model-not-found error with enhanced messages -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;) == &amp;quot;model-not-found&amp;quot;)">\r\n\t\t\t\t\t<trace source="Model-Config-Error" severity="error">\r\n\t\t\t\t\t\t<message>@(&amp;quot;Model selection error for API type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Error: No valid model found in configuration&amp;quot;)</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\tvar at = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);\r\n\t\t\t\t\t\t\tvar rid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString());\r\n\t\t\t\t\t\t\tvar path = context.Request.Url.Path;\r\n\t\t\t\t\t\t\tvar method = context.Request.Method.ToUpper();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (at == &amp;quot;assistants&amp;quot;) {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;No valid model specified. Please provide a valid model name in the request body or check the available models in the gateway configuration.\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;invalid_request_error\\&amp;quot;,\\&amp;quot;param\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;code\\&amp;quot;:null}}&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (at == &amp;quot;responses&amp;quot; || at == &amp;quot;conversations&amp;quot;) {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;InvalidRequest\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;No valid model specified. Please provide a valid model name in the request body. Check the gateway configuration for available models.\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;details\\&amp;quot;:{\\&amp;quot;path\\&amp;quot;:\\&amp;quot;&amp;quot; + path + &amp;quot;\\&amp;quot;,\\&amp;quot;method\\&amp;quot;:\\&amp;quot;&amp;quot; + method + &amp;quot;\\&amp;quot;,\\&amp;quot;help\\&amp;quot;:\\&amp;quot;Model must be specified in request body as \'model\' field\\&amp;quot;},\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + rid + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (at == &amp;quot;inference&amp;quot;) {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;400\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;No valid model specified. For Inference API, the model must be specified in the URL path (e.g., /models/{model-name}/...) or check the gateway configuration for available models.\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;details\\&amp;quot;:{\\&amp;quot;path\\&amp;quot;:\\&amp;quot;&amp;quot; + path + &amp;quot;\\&amp;quot;,\\&amp;quot;method\\&amp;quot;:\\&amp;quot;&amp;quot; + method + &amp;quot;\\&amp;quot;,\\&amp;quot;help\\&amp;quot;:\\&amp;quot;Model must be in URL path or request body\\&amp;quot;},\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + rid + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;400\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;No valid model specified. For OpenAI API, the model must be specified in the URL path (e.g., /deployments/{model-name}/...) or in the request body. Check the gateway configuration for available models.\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;details\\&amp;quot;:{\\&amp;quot;path\\&amp;quot;:\\&amp;quot;&amp;quot; + path + &amp;quot;\\&amp;quot;,\\&amp;quot;method\\&amp;quot;:\\&amp;quot;&amp;quot; + method + &amp;quot;\\&amp;quot;,\\&amp;quot;help\\&amp;quot;:\\&amp;quot;Model must be in URL path or request body\\&amp;quot;},\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + rid + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Dynamic backend routing for Projects API -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;) == &amp;quot;projects&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="selected-backend" value="dynamic-projects" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- BACKEND SELECTION -->\r\n\t\t\t\t\t<set-variable name="sel-backend" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var at = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var mid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cf = JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for custom backend priorities first&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;backend-priorities&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;backend-priorities&amp;quot;][at] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Iterate directly over the JSON values for this api-type&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var priorityToken in cf[&amp;quot;backend-priorities&amp;quot;][at]) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var p = priorityToken.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (p == &amp;quot;model-specific&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (mid != &amp;quot;no-model-required&amp;quot; &amp;amp;&amp;amp; mid != &amp;quot;assistants-no-model-required&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid][&amp;quot;backend&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;models&amp;quot;][mid][&amp;quot;backend&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else if (p == &amp;quot;api-type&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;api-types&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;backend&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;backend&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Use default priority order: model-specific first, then api-type&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check model-specific backend first&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (mid != &amp;quot;no-model-required&amp;quot; &amp;amp;&amp;amp; mid != &amp;quot;assistants-no-model-required&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid][&amp;quot;backend&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;models&amp;quot;][mid][&amp;quot;backend&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Then check api-type backend&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;api-types&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;backend&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;backend&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;backend-not-configured&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;backend-config-error&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="selected-backend" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-backend&amp;quot;))" />\r\n\t\t\t\t\t<!-- Handle backend configuration errors -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var backend = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-backend&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return (backend == &amp;quot;backend-not-configured&amp;quot; || backend == &amp;quot;backend-config-error&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t\t\t<trace source="Backend-Config-Error" severity="error">\r\n\t\t\t\t\t\t\t\t<message>@(&amp;quot;Backend configuration error for API type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Error: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-backend&amp;quot;))</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="500" reason="Internal Server Error" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;500\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Backend configuration error for API type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot;. Please contact support.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString()) + &amp;quot;\\&amp;quot;}}&amp;quot;)</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t\t<!-- API VERSION SELECTION -->\r\n\t\t\t<set-variable name="sel-api-ver" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var v1 = (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;) == &amp;quot;true&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var ov = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-api-version&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var at = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var mid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cf = JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// v1 API handling - use provided version or \'preview\' fallback&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (v1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(ov)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return ov;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;preview&amp;quot;;  // Standard v1 fallback&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Model-specific API versions (highest priority)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (mid != &amp;quot;no-model-required&amp;quot; &amp;amp;&amp;amp; mid != &amp;quot;assistants-no-model-required&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;inference&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid][&amp;quot;inference-api-version&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;models&amp;quot;][mid][&amp;quot;inference-api-version&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;openai&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid][&amp;quot;api-version&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;models&amp;quot;][mid][&amp;quot;api-version&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// API type specific versions (second priority)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;api-types&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;api-version&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;api-version&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// No configuration found - fail with clear error&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;api-version-not-configured-for-&amp;quot; + at;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch (Exception ex) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;api-version-config-error: &amp;quot; + ex.Message;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="selected-api-version" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-api-ver&amp;quot;))" />\r\n\t\t\t<!-- Error handling for API version configuration failures -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var apiVer = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return apiVer.StartsWith(&amp;quot;api-version-not-configured-for-&amp;quot;) || apiVer.StartsWith(&amp;quot;api-version-config-error&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t<trace source="API-Version-Config-Error" severity="error">\r\n\t\t\t\t\t\t<message>@(&amp;quot;API version configuration missing for API type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Error: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="500" reason="Internal Server Error" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;500\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Gateway configuration error: API version not configured in api-types[&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot;].api-version. Please configure the api-version in the model-config.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString()) + &amp;quot;\\&amp;quot;}}&amp;quot;)</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- CLIENT TIMEOUT OVERRIDE - Extract X-AIWorks-Timeout header -->\r\n\t\t\t<set-variable name="client-requested-timeout" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var header = context.Request.Headers.GetValueOrDefault(&amp;quot;X-AIWorks-Timeout&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(header)) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;int requestedTimeout;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!int.TryParse(header, out requestedTimeout)) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Validate against configured limits&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (cf == null) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var allowOverride = cf[&amp;quot;timeout-config&amp;quot;]?[&amp;quot;allow-client-override&amp;quot;]?.Value&amp;lt;bool&amp;gt;() ?? false;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!allowOverride) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var maxTimeout = cf[&amp;quot;timeout-config&amp;quot;]?[&amp;quot;max-client-timeout&amp;quot;]?.Value&amp;lt;int&amp;gt;() ?? 1800;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var minTimeout = cf[&amp;quot;timeout-config&amp;quot;]?[&amp;quot;min-client-timeout&amp;quot;]?.Value&amp;lt;int&amp;gt;() ?? 60;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Clamp to configured limits&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (requestedTimeout &gt; maxTimeout) { return maxTimeout.ToString(); }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (requestedTimeout &lt; minTimeout) { return minTimeout.ToString(); }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return requestedTimeout.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- NEW: Reasoning Effort Detection from Request Body -->\r\n\t\t\t<set-variable name="reasoning-effort-detected" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var pb = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;parsed-request-body&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (pb == null) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for reasoning.effort pattern (OpenAI format)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var reasoning = pb[&amp;quot;reasoning&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (reasoning != null &amp;amp;&amp;amp; reasoning[&amp;quot;effort&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var effort = reasoning[&amp;quot;effort&amp;quot;].ToString().ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (effort == &amp;quot;low&amp;quot; || effort == &amp;quot;medium&amp;quot; || effort == &amp;quot;high&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return effort;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Track if extended timeout was requested (for circuit breaker exclusion) -->\r\n\t\t\t<set-variable name="extended-timeout-requested" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var clientTimeout = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-requested-timeout&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(clientTimeout)) { return &amp;quot;true&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var reasoningEffort = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;reasoning-effort-detected&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(reasoningEffort)) { return &amp;quot;true&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- TIMEOUT SELECTION - Enhanced with client override and template support -->\r\n\t\t\t<set-variable name="sel-timeout" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var mid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;no-model-required&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var at = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var isStreaming = (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cf = JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// PRIORITY 1: Client header override (X-AIWorks-Timeout)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var clientTimeout = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-requested-timeout&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(clientTimeout)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return clientTimeout;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// PRIORITY 2: Reasoning effort detection from request body&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var reasoningEffort = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;reasoning-effort-detected&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(reasoningEffort) &amp;amp;&amp;amp; cf[&amp;quot;timeout-config&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;timeout-config&amp;quot;][&amp;quot;reasoning-effort-timeouts&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;timeout-config&amp;quot;][&amp;quot;reasoning-effort-timeouts&amp;quot;][reasoningEffort] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var effortTimeouts = cf[&amp;quot;timeout-config&amp;quot;][&amp;quot;reasoning-effort-timeouts&amp;quot;][reasoningEffort];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isStreaming &amp;amp;&amp;amp; effortTimeouts[&amp;quot;streaming&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return effortTimeouts[&amp;quot;streaming&amp;quot;].Value&amp;lt;int&amp;gt;().ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (effortTimeouts[&amp;quot;base&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return effortTimeouts[&amp;quot;base&amp;quot;].Value&amp;lt;int&amp;gt;().ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// PRIORITY 3: Model-specific timeout (with template inheritance)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (mid != &amp;quot;no-model-required&amp;quot; &amp;amp;&amp;amp; mid != &amp;quot;assistants-no-model-required&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelConfig = cf[&amp;quot;models&amp;quot;][mid] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;JObject effectiveConfig = modelConfig;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if model uses a template and merge&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelConfig != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templateName = modelConfig[&amp;quot;template&amp;quot;] != null ? modelConfig[&amp;quot;template&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(templateName) &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;][templateName] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var template = cf[&amp;quot;model-templates&amp;quot;][templateName] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (template != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;effectiveConfig = new JObject(template);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in modelConfig.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;effectiveConfig[prop.Name] = prop.Value;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (effectiveConfig != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for explicit streaming-timeout&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isStreaming &amp;amp;&amp;amp; effectiveConfig[&amp;quot;streaming-timeout&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return effectiveConfig[&amp;quot;streaming-timeout&amp;quot;].Value&amp;lt;int&amp;gt;().ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for base model timeout&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (effectiveConfig[&amp;quot;timeout&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var baseTimeout = effectiveConfig[&amp;quot;timeout&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isStreaming) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return ((int)(baseTimeout * 2.0)).ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return baseTimeout.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch { }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// PRIORITY 4: Capability-based timeout&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (mid != &amp;quot;no-model-required&amp;quot; &amp;amp;&amp;amp; mid != &amp;quot;assistants-no-model-required&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null &amp;amp;&amp;amp; cf[&amp;quot;timeout-config&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;timeout-config&amp;quot;][&amp;quot;capability-timeouts&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelConfig = cf[&amp;quot;models&amp;quot;][mid] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;JObject effectiveConfig = modelConfig;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Merge with template if present&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelConfig != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templateName = modelConfig[&amp;quot;template&amp;quot;] != null ? modelConfig[&amp;quot;template&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(templateName) &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;][templateName] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var template = cf[&amp;quot;model-templates&amp;quot;][templateName] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (template != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;effectiveConfig = new JObject(template);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in modelConfig.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;effectiveConfig[prop.Name] = prop.Value;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (effectiveConfig != null &amp;amp;&amp;amp; effectiveConfig[&amp;quot;capabilities&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var capArray = effectiveConfig[&amp;quot;capabilities&amp;quot;] as JArray;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (capArray != null &amp;amp;&amp;amp; capArray.Count &amp;gt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var capTimeouts = cf[&amp;quot;timeout-config&amp;quot;][&amp;quot;capability-timeouts&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;int maxTimeout = 0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var capToken in capArray) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cap = capToken.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (capTimeouts[cap] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;int capTimeout = 0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isStreaming &amp;amp;&amp;amp; capTimeouts[cap][&amp;quot;streaming&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;capTimeout = capTimeouts[cap][&amp;quot;streaming&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else if (capTimeouts[cap][&amp;quot;base&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;capTimeout = capTimeouts[cap][&amp;quot;base&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (capTimeout &amp;gt; maxTimeout) { maxTimeout = capTimeout; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (maxTimeout &amp;gt; 0) { return maxTimeout.ToString(); }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch { }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// PRIORITY 5: API-type timeout (existing behavior - unchanged)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;api-types&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at] != null &amp;amp;&amp;amp; cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;timeout&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var apiTimeout = cf[&amp;quot;api-types&amp;quot;][at][&amp;quot;timeout&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Handle streaming timeouts - apply multiplier for streaming requests&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isStreaming) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var streamingMultiplier = 1.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (at == &amp;quot;responses&amp;quot; &amp;amp;&amp;amp; cf[&amp;quot;responses-streaming-multiplier&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;streamingMultiplier = cf[&amp;quot;responses-streaming-multiplier&amp;quot;].Value&amp;lt;double&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else if (cf[&amp;quot;streaming-rate-limit-multiplier&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;streamingMultiplier = cf[&amp;quot;streaming-rate-limit-multiplier&amp;quot;].Value&amp;lt;double&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;streamingMultiplier = 2.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return ((int)(apiTimeout * streamingMultiplier)).ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return apiTimeout.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// No timeout configuration found - fail with clear error&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;timeout-not-configured-for-&amp;quot; + at;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch (Exception ex) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;timeout-config-error: &amp;quot; + ex.Message;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="selected-timeout" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-timeout&amp;quot;))" />\r\n\t\t\t<!-- Track timeout source for monitoring -->\r\n\t\t\t<set-variable name="timeout-source" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check client override first (Priority 1)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var clientTimeout = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-requested-timeout&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(clientTimeout)) { return &amp;quot;client-header&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check reasoning effort detection (Priority 2)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var reasoningEffort = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;reasoning-effort-detected&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(reasoningEffort)) { return &amp;quot;reasoning-effort&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var mid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;no-model-required&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (cf == null || mid == &amp;quot;no-model-required&amp;quot; || mid == &amp;quot;assistants-no-model-required&amp;quot;) { return &amp;quot;api-type&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check model-specific (including template) - Priority 3-4&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelConfig = cf[&amp;quot;models&amp;quot;][mid];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelConfig[&amp;quot;timeout&amp;quot;] != null || modelConfig[&amp;quot;streaming-timeout&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-specific&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelConfig[&amp;quot;template&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-template&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelConfig[&amp;quot;capabilities&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;capability-based&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;api-type&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Error handling for timeout configuration failures -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var timeout = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-timeout&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return timeout.StartsWith(&amp;quot;timeout-not-configured-for-&amp;quot;) || timeout.StartsWith(&amp;quot;timeout-config-error&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t<trace source="Timeout-Config-Error" severity="error">\r\n\t\t\t\t\t\t<message>@(&amp;quot;Timeout configuration missing for API type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Error: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-timeout&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="500" reason="Internal Server Error" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;500\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Gateway configuration error: Timeout not configured in api-types[&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot;].timeout. Please configure the timeout in the model-config.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString()) + &amp;quot;\\&amp;quot;}}&amp;quot;)</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Set compatibility variables -->\r\n\t\t\t<set-variable name="deploymentID" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))" />\r\n\t\t\t<set-variable name="target-backend" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-backend&amp;quot;))" />\r\n\t\t\t<set-variable name="backend-timeout" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-timeout&amp;quot;))" />\r\n\t\t\t<set-variable name="backend-service-name" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;sel-backend&amp;quot;))" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- ROUTE ANALYSIS NOT READY - FAIL FAST -->\r\n\t\t\t<trace source="Route-Analysis-Dependency-Error" severity="error">\r\n\t\t\t\t<message>@(&amp;quot;Route analysis not ready - missing required variables | api-type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;missing&amp;quot;) + &amp;quot; | original-path: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;, &amp;quot;missing&amp;quot;))</message>\r\n\t\t\t</trace>\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="500" reason="Internal Server Error" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;500\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Gateway dependency error: Route analysis not ready. Missing api-type or original-path variables. This indicates a configuration issue with the AIWorks-Route-Analysis fragment.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString()) + &amp;quot;\\&amp;quot;}}&amp;quot;)</set-body>\r\n\t\t\t</return-response>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- DEBUG HEADERS -->\r\n\t<set-header name="X-Debug-API-Type" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Selected-Backend" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Selected-API-Version" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Model-ID" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- STREAMING SETTINGS -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<set-variable name="is-streaming-response" value="true" />\r\n\t\t\t<set-variable name="buffer-response" value="false" />\r\n\t\t\t<set-header name="X-AIWorks-Streaming-Mode" exists-action="override">\r\n\t\t\t\t<value>true</value>\r\n\t\t\t</set-header>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<set-variable name="buffer-response" value="true" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- BACKEND SELECTION TRACING -->\r\n\t<trace source="Backend-Selection" severity="information">\r\n\t\t<message>@(&amp;quot;Backend Selection | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;) + &amp;quot; | Model: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;) + &amp;quot; | Backend: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;) + &amp;quot; | Version: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;) + &amp;quot; | Timeout: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-timeout&amp;quot;))</message>\r\n\t</trace>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Circuit_Breaker 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Circuit-Breaker'
  properties: {
    description: 'AIWorks Defines the circuit breaker configuration'
    value: '<!--\r\nFragment: AIWorks-Circuit-Breaker\r\nVersion: 2.3 (Rolled back from 2.4)\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nProvides circuit breaker protection through API type detection and exclusion logic.\r\nEnsures Responses and Assistants APIs can NEVER trigger circuit breaker.\r\nUses multiple detection methods to ensure 100% reliable exclusion.\r\nConverts timeout errors to 503 for circuit breaker visibility (backend CB monitors 5xx).\r\n\r\nFEATURES:\r\n- ULTRA-SIMPLIFIED: All JSON on single lines to prevent unterminated string literals\r\n- NO multi-line string concatenation - everything on one line\r\n- Simple hardcoded JSON templates for reliability\r\n- Strictest APIM V2 compatibility\r\n- Handles 500, 501, 502, 503 and timeout responses for circuit breaker protection\r\n- Backend CB directly monitors: 429, 500, 503, 504 (no conversion needed)\r\n- Static Retry-After delays (30-60 seconds)\r\n\r\nVARIABLES CONSUMED:\r\n- api-type: API type from routing\r\n- routing-api-type: Routing determined API type\r\n- is-responses-api, is-assistants-api, is-inference-api: API type flags\r\n- original-path: Original request path\r\n- context.Response.StatusCode: HTTP response status\r\n\r\nVARIABLES PRODUCED:\r\n- cb-api-type: Circuit breaker API type detection\r\n- cb-excluded-api: Whether API is excluded from circuit breaker\r\n- has-timeout-error: Whether request has timeout error\r\n- has-timeout-response: Whether response is a timeout\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Route-Analysis: Provides API type detection\r\n- AIWorks-Backend-Selection: Provides selected-backend variable\r\n\r\nCHANGELOG:\r\n- 2025-11-04: ROLLED BACK progressive backoff v2.4 - Feature didn\'t solve intended problem and delayed recovery unnecessarily. Reverted to static 30-60s delays.\r\n- 2025-11-03: Added cache-based progressive backoff (5103060min) with feature flag for 500/501/502/503 errors [REMOVED]\r\n- 2025-10-29: Removed 404/500503 conversions - Backend CB directly monitors 429/500/503/504. Fragment now only handles timeouts and exclusion logic. 404s/500s are routing/config issues, not backend health signals.\r\n- 2025-10-27: Added 500 response handling (BackendConnectionFailure) to trigger circuit breaker for non-excluded APIs\r\n- 2025-10-26: Added 404 response handling to trigger circuit breaker for non-excluded APIs\r\n-->\r\n<fragment fragment-id="AIWorks-Circuit-Breaker">\r\n\t<!-- STEP 1: BULLETPROOF API TYPE DETECTION -->\r\n\t<set-variable name="cb-api-type" value="@{var detectedType = &amp;quot;openai&amp;quot;; try { var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;); if (!string.IsNullOrEmpty(apiType)) { detectedType = apiType;}&#xD;&#xA;        var routingType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        if (!string.IsNullOrEmpty(routingType)) {&#xD;&#xA;            detectedType = routingType;&#xD;&#xA;        }&#xD;&#xA;        var isResponses = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-responses-api&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;        var isAssistants = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-assistants-api&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;        var isInference = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-inference-api&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;        if (isResponses == &amp;quot;true&amp;quot;) {&#xD;&#xA;            detectedType = &amp;quot;responses&amp;quot;;&#xD;&#xA;        } else if (isAssistants == &amp;quot;true&amp;quot;) {&#xD;&#xA;            detectedType = &amp;quot;assistants&amp;quot;;&#xD;&#xA;        } else if (isInference == &amp;quot;true&amp;quot;) {&#xD;&#xA;            detectedType = &amp;quot;inference&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;        var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;, context.Request.Url.Path).ToLower();&#xD;&#xA;        var currentPath = context.Request.Url.Path.ToLower();&#xD;&#xA;        var allPaths = originalPath + &amp;quot; &amp;quot; + currentPath;&#xD;&#xA;        if (allPaths.IndexOf(&amp;quot;/responses&amp;quot;) &gt;= 0) {&#xD;&#xA;            detectedType = &amp;quot;responses&amp;quot;;&#xD;&#xA;        } else if (allPaths.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 || allPaths.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;            detectedType = &amp;quot;assistants&amp;quot;;&#xD;&#xA;        } else if (allPaths.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0) {&#xD;&#xA;            detectedType = &amp;quot;inference&amp;quot;;&#xD;&#xA;        } else if (allPaths.IndexOf(&amp;quot;/chat&amp;quot;) &gt;= 0 || allPaths.IndexOf(&amp;quot;/completions&amp;quot;) &gt;= 0 || allPaths.IndexOf(&amp;quot;/deployments&amp;quot;) &gt;= 0) {&#xD;&#xA;            detectedType = &amp;quot;openai&amp;quot;;&#xD;&#xA;        } else {&#xD;&#xA;            // Default case - keep existing detectedType&#xD;&#xA;        }&#xD;&#xA;    } catch {&#xD;&#xA;        detectedType = &amp;quot;openai&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    return detectedType;}" />\r\n\t<!-- STEP 2: BULLETPROOF EXCLUSION DETERMINATION - Enhanced with reasoning model and client override support -->\r\n\t<set-variable name="cb-excluded-api" value="@{&#xD;&#xA;    var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // EXISTING: API type exclusions (preserve)&#xD;&#xA;    if (apiType == &amp;quot;responses&amp;quot;) { return &amp;quot;true&amp;quot;; }&#xD;&#xA;    if (apiType == &amp;quot;assistants&amp;quot;) { return &amp;quot;true&amp;quot;; }&#xD;&#xA;&#xD;&#xA;    // NEW: Client requested extended timeout - exclude from circuit breaker&#xD;&#xA;    var extendedRequested = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;extended-timeout-requested&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;    if (extendedRequested == &amp;quot;true&amp;quot;) { return &amp;quot;true&amp;quot;; }&#xD;&#xA;&#xD;&#xA;    // NEW: Model-based exclusions via template or capability&#xD;&#xA;    try {&#xD;&#xA;        var mid = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        if (!string.IsNullOrEmpty(mid) &amp;amp;&amp;amp; mid != &amp;quot;no-model-required&amp;quot;) {&#xD;&#xA;            var cf = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;            if (cf != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;models&amp;quot;][mid] != null) {&#xD;&#xA;                var modelConfig = cf[&amp;quot;models&amp;quot;][mid];&#xD;&#xA;&#xD;&#xA;                // Check direct circuit-breaker-excluded flag on model&#xD;&#xA;                if (modelConfig[&amp;quot;circuit-breaker-excluded&amp;quot;]?.Value&amp;lt;bool&amp;gt;() == true) {&#xD;&#xA;                    return &amp;quot;true&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;&#xD;&#xA;                // Check template for circuit-breaker-excluded&#xD;&#xA;                var templateName = modelConfig[&amp;quot;template&amp;quot;]?.ToString();&#xD;&#xA;                if (!string.IsNullOrEmpty(templateName) &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;] != null &amp;amp;&amp;amp; cf[&amp;quot;model-templates&amp;quot;][templateName] != null) {&#xD;&#xA;                    if (cf[&amp;quot;model-templates&amp;quot;][templateName][&amp;quot;circuit-breaker-excluded&amp;quot;]?.Value&amp;lt;bool&amp;gt;() == true) {&#xD;&#xA;                        return &amp;quot;true&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;&#xD;&#xA;                // Check if model has \'reasoning\' capability&#xD;&#xA;                var capabilities = modelConfig[&amp;quot;capabilities&amp;quot;]?.ToObject&amp;lt;string[]&amp;gt;();&#xD;&#xA;                if (capabilities != null &amp;amp;&amp;amp; capabilities.Contains(&amp;quot;reasoning&amp;quot;)) {&#xD;&#xA;                    return &amp;quot;true&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;    } catch { }&#xD;&#xA;&#xD;&#xA;    // EXISTING: Path-based fallback (preserve)&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;, context.Request.Url.Path).ToLower();&#xD;&#xA;    var currentPath = context.Request.Url.Path.ToLower();&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/responses&amp;quot;) &amp;gt;= 0 || currentPath.IndexOf(&amp;quot;/responses&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;        return &amp;quot;true&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/assistants&amp;quot;) &amp;gt;= 0 || currentPath.IndexOf(&amp;quot;/assistants&amp;quot;) &amp;gt;= 0 || originalPath.IndexOf(&amp;quot;/threads&amp;quot;) &amp;gt;= 0 || currentPath.IndexOf(&amp;quot;/threads&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;        return &amp;quot;true&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;false&amp;quot;;&#xD;&#xA;}" />\r\n\t<!-- Track exclusion reason for monitoring -->\r\n\t<set-variable name="cb-exclusion-reason" value="@{&#xD;&#xA;    var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (apiType == &amp;quot;responses&amp;quot;) { return &amp;quot;api-type-responses&amp;quot;; }&#xD;&#xA;    if (apiType == &amp;quot;assistants&amp;quot;) { return &amp;quot;api-type-assistants&amp;quot;; }&#xD;&#xA;&#xD;&#xA;    // Check reasoning effort detection first (more specific)&#xD;&#xA;    var reasoningEffort = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;reasoning-effort-detected&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    if (!string.IsNullOrEmpty(reasoningEffort)) { return &amp;quot;reasoning-effort-&amp;quot; + reasoningEffort; }&#xD;&#xA;&#xD;&#xA;    // Check client header extended timeout&#xD;&#xA;    var clientTimeout = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-requested-timeout&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    if (!string.IsNullOrEmpty(clientTimeout)) { return &amp;quot;client-extended-timeout&amp;quot;; }&#xD;&#xA;&#xD;&#xA;    var isExcluded = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    if (isExcluded) { return &amp;quot;model-reasoning-capability&amp;quot;; }&#xD;&#xA;&#xD;&#xA;    return &amp;quot;not-excluded&amp;quot;;&#xD;&#xA;}" />\r\n\t<!-- STEP 3: DEBUG LOGGING -->\r\n\t<trace source="Circuit-Breaker-Detection" severity="information">\r\n\t\t<message>@(&amp;quot;API Detection | Type: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Excluded: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;, &amp;quot;false&amp;quot;) + &amp;quot; | Backend: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;unknown&amp;quot;))</message>\r\n\t</trace>\r\n\t<!-- STEP 4: HANDLE 5xx RESPONSES WITH BULLETPROOF EXCLUSION -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response != null &amp;amp;&amp;amp; (context.Response.StatusCode == 500 || context.Response.StatusCode == 501 || context.Response.StatusCode == 502 || context.Response.StatusCode == 503))">\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<!-- EXCLUDED APIs: Static retry-after WITHOUT circuit breaking -->\r\n\t\t\t\t\t<trace source="Circuit-Breaker-EXCLUDED" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;5xx EXCLUDED from circuit breaker | Status: &amp;quot; + context.Response.StatusCode.ToString() + &amp;quot; | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | CIRCUIT BREAKER WILL NOT TRIP&amp;quot;)</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<!-- Set headers for excluded APIs -->\r\n\t\t\t\t\t<set-header name="Retry-After" exists-action="override">\r\n\t\t\t\t\t\t<value>@{var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;); if (apiType == &amp;quot;responses&amp;quot;) { return &amp;quot;60&amp;quot;;} else if (apiType == &amp;quot;assistants&amp;quot;) { return &amp;quot;45&amp;quot;;} return &amp;quot;30&amp;quot;;}</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Circuit-Breaker-Status" exists-action="override">\r\n\t\t\t\t\t\t<value>excluded</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-API-Protection-Mode" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;) + &amp;quot;-excluded&amp;quot;)</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<!-- ULTRA-SIMPLE JSON - Single line only -->\r\n\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;ServiceUnavailable\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Service temporarily at capacity\\&amp;quot;,\\&amp;quot;guidance\\&amp;quot;:\\&amp;quot;Circuit breaker protection disabled - subsequent requests will work normally\\&amp;quot;,\\&amp;quot;retry_after\\&amp;quot;:&amp;quot; + (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;) == &amp;quot;responses&amp;quot; ? &amp;quot;60&amp;quot; : (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;) == &amp;quot;assistants&amp;quot; ? &amp;quot;45&amp;quot; : &amp;quot;30&amp;quot;)) + &amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;capacity_limit\\&amp;quot;,\\&amp;quot;api_type\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;responses&amp;quot;) + &amp;quot;\\&amp;quot;,\\&amp;quot;circuit_breaker_excluded\\&amp;quot;:true}}&amp;quot;)</set-body>\r\n\t\t\t\t\t<return-response />\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- NON-EXCLUDED APIs: Standard circuit breaker behavior -->\r\n\t\t\t\t\t<trace source="Circuit-Breaker-STANDARD" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;5xx triggering circuit breaker | Status: &amp;quot; + context.Response.StatusCode.ToString() + &amp;quot; | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;) + &amp;quot; | CIRCUIT BREAKER WILL TRIP&amp;quot;)</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<set-header name="X-Circuit-Breaker-Triggered" exists-action="override">\r\n\t\t\t\t\t\t<value>5xx-response</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Circuit-Breaker-Status" exists-action="override">\r\n\t\t\t\t\t\t<value>active</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-API-Protection-Mode" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;) + &amp;quot;-standard&amp;quot;)</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- ERROR PROCESSING SECTION -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;processing-section&amp;quot;) == &amp;quot;error&amp;quot;)">\r\n\t\t\t<set-variable name="has-timeout-error" value="@{var result = &amp;quot;no&amp;quot;; try { if (context.LastError != null) { if (context.LastError.Message != null) { var msg = context.LastError.Message.ToLower(); if (msg.IndexOf(&amp;quot;timeout&amp;quot;) &amp;gt;= 0) { result = &amp;quot;yes&amp;quot;;}&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            catch {&#xD;&#xA;                result = &amp;quot;no&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return result;}" />\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-timeout-error&amp;quot;) == &amp;quot;yes&amp;quot;)">\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t\t\t<trace source="Circuit-Breaker-Timeout-EXCLUDED" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@(&amp;quot;Timeout EXCLUDED from circuit breaker | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;responses&amp;quot;) + &amp;quot; | NO circuit breaker conversion&amp;quot;)</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="408" reason="Request Timeout" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-Circuit-Breaker-Status" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>excluded</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-API-Protection-Mode" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;) + &amp;quot;-timeout-excluded&amp;quot;)</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;RequestTimeout\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Request timed out\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;timeout\\&amp;quot;,\\&amp;quot;api_type\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;responses&amp;quot;) + &amp;quot;\\&amp;quot;,\\&amp;quot;circuit_breaker_excluded\\&amp;quot;:true}}&amp;quot;)</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<trace source="Circuit-Breaker-Timeout-STANDARD" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@(&amp;quot;Converting timeout to 503 for circuit breaker | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;))</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="503" reason="Service Unavailable" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="Retry-After" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>30</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-Circuit-Breaker-Triggered" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>timeout-converted</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>{"error":{"code":"503","message":"Service temporarily unavailable due to timeout","type":"service_unavailable"}}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- OUTBOUND PROCESSING SECTION -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;processing-section&amp;quot;) == &amp;quot;outbound&amp;quot;)">\r\n\t\t\t<set-variable name="has-timeout-response" value="@{var result = &amp;quot;no&amp;quot;; try { if (context.Response != null) { var code = context.Response.StatusCode; if (code == 408 || code == 504) { result = &amp;quot;yes&amp;quot;;}&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            catch {&#xD;&#xA;                result = &amp;quot;no&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return result;}"></set-variable>\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-timeout-response&amp;quot;) == &amp;quot;yes&amp;quot;)">\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;) == &amp;quot;false&amp;quot;)">\r\n\t\t\t\t\t\t\t<trace source="Circuit-Breaker-Response-STANDARD" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@(&amp;quot;Converting timeout response to 503 for circuit breaker | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;openai&amp;quot;))</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<set-status code="503" reason="Service Unavailable" />\r\n\t\t\t\t\t\t\t<set-header name="X-Circuit-Breaker-Triggered" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>response-timeout-converted</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t<set-body>{"error":{"code":"503","message":"Service temporarily unavailable","type":"service_unavailable"}}</set-body>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<trace source="Circuit-Breaker-Response-EXCLUDED" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@(&amp;quot;Timeout response EXCLUDED from conversion | API: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;responses&amp;quot;) + &amp;quot; | Circuit breaker EXCLUDED&amp;quot;)</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<set-header name="X-Circuit-Breaker-Status" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>excluded</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<set-header name="X-Circuit-Breaker-Protected" exists-action="override">\r\n\t\t\t\t<value>@{var excluded = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-excluded-api&amp;quot;, &amp;quot;false&amp;quot;); var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cb-api-type&amp;quot;, &amp;quot;unknown&amp;quot;); return excluded == &amp;quot;true&amp;quot; ? apiType + &amp;quot;-excluded&amp;quot; : apiType + &amp;quot;-active&amp;quot;;}</value>\r\n\t\t\t</set-header>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Config_Cache 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Config-Cache'
  properties: {
    description: 'AIWorks Config Cache Fragment'
    value: '<!--\r\nFragment: AIWorks-Config-Cache\r\nVersion: 2.2\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nCentralized configuration caching with cross-request support to eliminate redundant\r\nJSON parsing across all requests. Parses the model-config once and caches it in\r\nAPIM memory for configurable durations, with version-based invalidation support.\r\n\r\nFEATURES:\r\n- Cross-request caching in APIM memory (configurable TTL)\r\n- Version-based cache invalidation\r\n- Emergency cache bypass mechanism\r\n- Single parse per cache duration instead of per request\r\n- Extracts commonly used sections for direct access\r\n- Tracks parse time and cache performance metrics\r\n- Provides consistent parsed object across all fragments and requests\r\n\r\nVARIABLES CONSUMED:\r\n- model-config: Raw JSON string configuration\r\n\r\nVARIABLES PRODUCED:\r\n- config-parsed: Full parsed JObject configuration\r\n- config-models: Models section as JObject\r\n- config-rate-limits: Rate limits section as JObject\r\n- config-api-types: API types section as JObject\r\n- config-agent-mappings: Agent mappings section as JObject\r\n- config-security: Security section as JObject\r\n- config-cache-settings: Cache settings section as JObject\r\n- config-jwt-std-auth: JWT standard authentication configuration as JObject\r\n- config-security-config: Security configuration settings as JObject\r\n- config-azure-ai-auth: Azure AI authentication configuration as JObject\r\n- config-endpoint-rate-limits: Endpoint-specific rate limits as JObject\r\n- config-product-prefixes: Product prefix configuration as JObject\r\n- config-ip-logging: IP logging configuration as JObject\r\n- config-product-access: Product access configuration as JObject\r\n- config-streaming-multiplier: Streaming rate limit multiplier (double, default 3.0)\r\n- config-responses-streaming-multiplier: Responses API streaming multiplier (double, default 5.0)\r\n- config-embeddings-multiplier: Embeddings rate limit multiplier (double, default 3.0)\r\n- config-default-model-capacity: Default model capacity (string, default \'standard\')\r\n- config-model-specific-trace: Model-specific trace configuration as JObject\r\n- config-rate-limit-exclusions: Rate limit exclusion list as string\r\n- config-parse-time: Time taken to parse configuration (ms)\r\n- config-cache-hit: Whether config was served from APIM cache (true/false)\r\n- config-cache-age-ms: Age of cached config in milliseconds\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Must be loaded before this fragment\r\n\r\nPERFORMANCE BENEFITS:\r\n- Eliminates parsing entirely for cache hits (99.9%+ requests)\r\n- Reduces memory allocation by 50KB per request\r\n- Near-zero CPU usage after initial parse\r\n- Enables handling 40%+ more traffic\r\n- Caches frequently-accessed multipliers and defaults for v1 API support\r\n-->\r\n<fragment fragment-id="AIWorks-Config-Cache">\r\n\t<!-- First, check if model-config exists before trying to parse it -->\r\n\t<choose>\r\n\t\t<when condition="@(!context.Variables.ContainsKey(&amp;quot;model-config&amp;quot;))">\r\n\t\t\t<!-- Model config not loaded yet, set defaults and skip caching -->\r\n\t\t\t<set-variable name="cache-config-temp" value="@(&amp;quot;{\\&amp;quot;version\\&amp;quot;:\\&amp;quot;1.0.0\\&amp;quot;,\\&amp;quot;enabled\\&amp;quot;:false,\\&amp;quot;ttl\\&amp;quot;:3600}&amp;quot;)" />\r\n\t\t\t<set-variable name="config-cache-skip" value="true" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Model config exists, extract cache settings -->\r\n\t\t\t<set-variable name="cache-config-temp" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(configStr) || configStr == &amp;quot;{}&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Empty config, return defaults&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;{\\&amp;quot;version\\&amp;quot;:\\&amp;quot;1.0.0\\&amp;quot;,\\&amp;quot;enabled\\&amp;quot;:false,\\&amp;quot;ttl\\&amp;quot;:3600}&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var tempConfig = JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var cacheSettings = tempConfig[&amp;quot;cache-settings&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract cache configuration with defaults&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var result = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result[&amp;quot;version&amp;quot;] = cacheSettings?[&amp;quot;config-version&amp;quot;]?.ToString() ?? &amp;quot;1.0.0&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result[&amp;quot;enabled&amp;quot;] = cacheSettings?[&amp;quot;feature-flags&amp;quot;]?[&amp;quot;enable-cross-request-cache&amp;quot;]?.Value&amp;lt;bool&amp;gt;() ?? false;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result[&amp;quot;bypass-header&amp;quot;] = cacheSettings?[&amp;quot;feature-flags&amp;quot;]?[&amp;quot;cache-bypass-header&amp;quot;]?.ToString() ?? &amp;quot;X-Config-Cache-Bypass&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Get TTL directly as a single value&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result[&amp;quot;ttl&amp;quot;] = cacheSettings?[&amp;quot;ttl-seconds&amp;quot;]?.Value&amp;lt;int&amp;gt;() ?? 3600; // 1 hour default&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return result.ToString(Newtonsoft.Json.Formatting.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Fallback if parsing fails&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;{\\&amp;quot;version\\&amp;quot;:\\&amp;quot;1.0.0\\&amp;quot;,\\&amp;quot;enabled\\&amp;quot;:false,\\&amp;quot;ttl\\&amp;quot;:3600}&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="config-cache-skip" value="false" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Parse cache configuration -->\r\n\t<set-variable name="cache-settings-parsed" value="@{&#xD;&#xA;&#x9;&#x9;return JObject.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cache-config-temp&amp;quot;, &amp;quot;{}&amp;quot;));&#xD;&#xA;&#x9;}" />\r\n\t<!-- Check if cache bypass is requested -->\r\n\t<set-variable name="cache-bypass-requested" value="@{&#xD;&#xA;&#x9;&#x9;var settings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;var bypassHeader = settings?[&amp;quot;bypass-header&amp;quot;]?.ToString() ?? &amp;quot;X-Config-Cache-Bypass&amp;quot;;&#xD;&#xA;&#x9;&#x9;return context.Request.Headers.GetValueOrDefault(bypassHeader, &amp;quot;&amp;quot;).ToLower() == &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Check if we should skip caching entirely (model-config not available) -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;config-cache-skip&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- Model config not available, skip all caching logic -->\r\n\t\t\t<set-variable name="config-cache-hit" value="false" />\r\n\t\t\t<set-variable name="config-cache-age-ms" value="@(0.0)" />\r\n\t\t\t<set-variable name="config-parse-time" value="@(0.0)" />\r\n\t\t\t<set-variable name="config-cache-initialized" value="false" />\r\n\t\t</when>\r\n\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;var settings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;var enabled = settings?[&amp;quot;enabled&amp;quot;]?.Value&amp;lt;bool&amp;gt;() ?? false;&#xD;&#xA;&#x9;&#x9;&#x9;var bypass = context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;cache-bypass-requested&amp;quot;, false);&#xD;&#xA;&#x9;&#x9;&#x9;return enabled &amp;amp;&amp;amp; !bypass;&#xD;&#xA;&#x9;&#x9;}">\r\n\t\t\t<!-- Cross-request caching is enabled - check APIM cache -->\r\n\t\t\t<set-variable name="cache-key" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var settings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var version = settings?[&amp;quot;version&amp;quot;]?.ToString() ?? &amp;quot;1.0.0&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-config-parsed-v&amp;quot; + version;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Track cache lookup time -->\r\n\t\t\t<set-variable name="cache-lookup-start" value="@(DateTime.UtcNow)" />\r\n\t\t\t<!-- Try to get from APIM cache -->\r\n\t\t\t<cache-lookup-value key="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cache-key&amp;quot;))" variable-name="cached-config-data" />\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.ContainsKey(&amp;quot;cached-config-data&amp;quot;))">\r\n\t\t\t\t\t<!-- CACHE HIT - Use cached configuration -->\r\n\t\t\t\t\t<set-variable name="config-cache-hit" value="true" />\r\n\t\t\t\t\t<set-variable name="cache-lookup-time" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return (double)((DateTime.UtcNow - context.Variables.GetValueOrDefault&amp;lt;DateTime&amp;gt;(&amp;quot;cache-lookup-start&amp;quot;)).TotalMilliseconds);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Extract cached data structure -->\r\n\t\t\t\t\t<set-variable name="cached-structure" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return JObject.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cached-config-data&amp;quot;));&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Calculate cache age -->\r\n\t\t\t\t\t<set-variable name="config-cache-age-ms" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cachedTime = cached?[&amp;quot;timestamp&amp;quot;]?.Value&amp;lt;long&amp;gt;() ?? DateTime.UtcNow.Ticks;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return (double)((DateTime.UtcNow.Ticks - cachedTime) / 10000); // milliseconds as double&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Restore all cached variables -->\r\n\t\t\t\t\t<set-variable name="config-parsed" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-parsed&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-templates" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-model-templates&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-models" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-models&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-api-types" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-api-types&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-agent-mappings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-agent-mappings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-security&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-backend-priorities" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-backend-priorities&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-trace-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-trace-settings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-aliases" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-model-aliases&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-cache-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-cache-settings&amp;quot;] as JObject ?? context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW: Extract additional configuration sections -->\r\n\t\t\t\t\t<set-variable name="config-jwt-std-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-jwt-std-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security-config" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-security-config&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-azure-ai-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-azure-ai-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-endpoint-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-endpoint-rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-prefixes" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-product-prefixes&amp;quot;] as JArray ?? new JArray();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-ip-logging" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-ip-logging&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-access" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-product-access&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW v2.1: Extract rate limit multipliers and defaults from cache -->\r\n\t\t\t\t\t<set-variable name="config-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-streaming-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-responses-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-responses-streaming-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 5.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-embeddings-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-embeddings-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-default-model-capacity" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-default-model-capacity&amp;quot;]?.ToString() ?? &amp;quot;standard&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-specific-trace" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-model-specific-trace&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limit-exclusions" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cached = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cached-structure&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return cached[&amp;quot;config-rate-limit-exclusions&amp;quot;]?.ToString() ?? &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Set parse time to 0 for cache hits -->\r\n\t\t\t\t\t<set-variable name="config-parse-time" value="@(0.0)" />\r\n\t\t\t\t\t<!-- Log cache hit -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;global-trace-enabled&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot; || &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;               context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;always-trace-sources&amp;quot;, &amp;quot;||&amp;quot;).IndexOf(&amp;quot;|CONFIG-CACHE|&amp;quot;) &gt;= 0)">\r\n\t\t\t\t\t\t\t<trace source="CONFIG-CACHE-HIT" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\t\t\tvar cacheAge = Convert.ToDouble(context.Variables.GetValueOrDefault(&amp;quot;config-cache-age-ms&amp;quot;, 0.0));\r\n\t\t\t\t\t\t\t\t\tvar lookupTime = Convert.ToDouble(context.Variables.GetValueOrDefault(&amp;quot;cache-lookup-time&amp;quot;, 0.0));\r\n\t\t\t\t\t\t\t\t\tvar settings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);\r\n\t\t\t\t\t\t\t\t\tvar version = settings?[&amp;quot;version&amp;quot;]?.ToString() ?? &amp;quot;unknown&amp;quot;;\r\n\t\t\t\t\t\t\t\t\treturn &amp;quot;APIM cache hit | Version: &amp;quot; + version + &amp;quot; | Age: &amp;quot; + (cacheAge/1000).ToString(&amp;quot;F1&amp;quot;) + &amp;quot;s | LookupTime: &amp;quot; + lookupTime.ToString(&amp;quot;F1&amp;quot;) + &amp;quot;ms | RequestId: &amp;quot; + context.RequestId;\r\n\t\t\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- CACHE MISS - Parse and store in cache -->\r\n\t\t\t\t\t<set-variable name="config-cache-hit" value="false" />\r\n\t\t\t\t\t<set-variable name="cache-parse-start" value="@(DateTime.UtcNow.Ticks)" />\r\n\t\t\t\t\t<!-- Parse configuration -->\r\n\t\t\t\t\t<set-variable name="config-parsed" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Calculate parse time -->\r\n\t\t\t\t\t<set-variable name="config-parse-time" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var start = context.Variables.GetValueOrDefault&amp;lt;long&amp;gt;(&amp;quot;cache-parse-start&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return (double)((DateTime.UtcNow.Ticks - start) / 10000); // milliseconds as double&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Extract all sections -->\r\n\t\t\t\t\t<!-- Extract model templates first (for template resolution) -->\r\n\t\t\t\t\t<set-variable name="config-model-templates" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;model-templates&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Extract and resolve models with template inheritance -->\r\n\t\t\t\t\t<set-variable name="config-models" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var models = config[&amp;quot;models&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templates = config[&amp;quot;model-templates&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// If no templates defined, return models as-is (backward compatible)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (templates.Count == 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return models;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Resolve templates for each model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var resolved = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var model in models.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelDef = model.Value as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelDef == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;continue;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templateName = modelDef[&amp;quot;template&amp;quot;]?.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(templateName) &amp;amp;&amp;amp; templates[templateName] is JObject template) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Start with template values&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var expandedModel = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in template.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;expandedModel[prop.Name] = prop.Value.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Override with model-specific values (except \'template\' key)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in modelDef.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (prop.Name != &amp;quot;template&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;expandedModel[prop.Name] = prop.Value.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;resolved[model.Name] = expandedModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// No template or template not found, use as-is&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;resolved[model.Name] = modelDef.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return resolved;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-api-types" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;api-types&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-agent-mappings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;agent-mappings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;security&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-backend-priorities" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;backend-priorities&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-trace-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;trace-settings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-aliases" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;model-aliases&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-cache-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;cache-settings&amp;quot;] as JObject ?? context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW: Extract additional configuration sections -->\r\n\t\t\t\t\t<set-variable name="config-jwt-std-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;jwt-std-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security-config" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;security-config&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-azure-ai-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;azure-ai-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-endpoint-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;endpoint-rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-prefixes" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;product-prefixes&amp;quot;] as JArray ?? new JArray();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-ip-logging" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;ip-logging&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-access" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;product-access&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW v2.1: Extract rate limit multipliers and defaults -->\r\n\t\t\t\t\t<set-variable name="config-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;streaming-rate-limit-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-responses-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;responses-streaming-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 5.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-embeddings-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;embeddings-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-default-model-capacity" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;default-model-capacity&amp;quot;]?.ToString() ?? &amp;quot;standard&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-specific-trace" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var traceSettings = config[&amp;quot;trace-settings&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return traceSettings?[&amp;quot;model-specific-trace&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limit-exclusions" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;rate-limit-exclusions&amp;quot;]?.ToString() ?? &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Build cache structure -->\r\n\t\t\t\t\t<set-variable name="cache-structure" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var structure = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;timestamp&amp;quot;] = DateTime.UtcNow.Ticks;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-parsed&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-model-templates&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-model-templates&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-models&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-models&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-rate-limits&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-rate-limits&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-api-types&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-api-types&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-agent-mappings&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-agent-mappings&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-security&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-security&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-backend-priorities&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-backend-priorities&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-trace-settings&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-trace-settings&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-model-aliases&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-model-aliases&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-cache-settings&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-cache-settings&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// NEW: Add additional configuration sections to cache structure&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-jwt-std-auth&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-jwt-std-auth&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-security-config&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-security-config&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-azure-ai-auth&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-azure-ai-auth&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-endpoint-rate-limits&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-endpoint-rate-limits&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-product-prefixes&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JArray&amp;gt;(&amp;quot;config-product-prefixes&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-ip-logging&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-ip-logging&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-product-access&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-product-access&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// NEW v2.1: Add rate limit multipliers and defaults to cache structure&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-streaming-multiplier&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;double&amp;gt;(&amp;quot;config-streaming-multiplier&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-responses-streaming-multiplier&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;double&amp;gt;(&amp;quot;config-responses-streaming-multiplier&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-embeddings-multiplier&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;double&amp;gt;(&amp;quot;config-embeddings-multiplier&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-default-model-capacity&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;config-default-model-capacity&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-model-specific-trace&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-model-specific-trace&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;structure[&amp;quot;config-rate-limit-exclusions&amp;quot;] = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;config-rate-limit-exclusions&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return structure.ToString(Newtonsoft.Json.Formatting.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Store in APIM cache -->\r\n\t\t\t\t\t<cache-store-value key="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cache-key&amp;quot;))" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cache-structure&amp;quot;))" duration="@(context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;)?[&amp;quot;ttl&amp;quot;]?.Value&amp;lt;int&amp;gt;() ?? 300)" />\r\n\t\t\t\t\t<!-- Log cache miss and store -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;global-trace-enabled&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot; || &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;               context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;always-trace-sources&amp;quot;, &amp;quot;||&amp;quot;).IndexOf(&amp;quot;|CONFIG-CACHE|&amp;quot;) &gt;= 0)">\r\n\t\t\t\t\t\t\t<trace source="CONFIG-CACHE-MISS" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\t\t\tvar parseTime = Convert.ToDouble(context.Variables.GetValueOrDefault(&amp;quot;config-parse-time&amp;quot;, 0.0));\r\n\t\t\t\t\t\t\t\t\tvar settings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;cache-settings-parsed&amp;quot;);\r\n\t\t\t\t\t\t\t\t\tvar version = settings?[&amp;quot;version&amp;quot;]?.ToString() ?? &amp;quot;unknown&amp;quot;;\r\n\t\t\t\t\t\t\t\t\tvar ttl = settings?[&amp;quot;ttl&amp;quot;]?.Value&amp;lt;int&amp;gt;() ?? 300;\r\n\t\t\t\t\t\t\t\t\tvar configSize = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;&amp;quot;).Length;\r\n\t\t\t\t\t\t\t\t\treturn &amp;quot;APIM cache miss - parsed and stored | Version: &amp;quot; + version + &amp;quot; | TTL: &amp;quot; + ttl + &amp;quot;s | ParseTime: &amp;quot; + parseTime + &amp;quot;ms | ConfigSize: &amp;quot; + configSize + &amp;quot; bytes | RequestId: &amp;quot; + context.RequestId;\r\n\t\t\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Cross-request caching is disabled or bypassed - use original request-level caching -->\r\n\t\t\t<set-variable name="config-cache-hit" value="false" />\r\n\t\t\t<set-variable name="config-cache-age-ms" value="@(0.0)" />\r\n\t\t\t<!-- Check if already parsed this request -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(!context.Variables.ContainsKey(&amp;quot;config-parsed&amp;quot;))">\r\n\t\t\t\t\t<!-- Track parse time for monitoring -->\r\n\t\t\t\t\t<set-variable name="config-parse-start" value="@(DateTime.UtcNow.Ticks)" />\r\n\t\t\t\t\t<!-- Parse configuration once per request -->\r\n\t\t\t\t\t<set-variable name="config-parsed" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Calculate parse time -->\r\n\t\t\t\t\t<set-variable name="config-parse-time" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var start = context.Variables.GetValueOrDefault&amp;lt;long&amp;gt;(&amp;quot;config-parse-start&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return (double)((DateTime.UtcNow.Ticks - start) / 10000); // milliseconds as double&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Extract commonly used sections for faster access -->\r\n\t\t\t\t\t<!-- Extract model templates first (for template resolution) -->\r\n\t\t\t\t\t<set-variable name="config-model-templates" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;model-templates&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Extract and resolve models with template inheritance -->\r\n\t\t\t\t\t<set-variable name="config-models" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var models = config[&amp;quot;models&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templates = config[&amp;quot;model-templates&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// If no templates defined, return models as-is (backward compatible)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (templates.Count == 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return models;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Resolve templates for each model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var resolved = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var model in models.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelDef = model.Value as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelDef == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;continue;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var templateName = modelDef[&amp;quot;template&amp;quot;]?.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(templateName) &amp;amp;&amp;amp; templates[templateName] is JObject template) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Start with template values&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var expandedModel = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in template.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;expandedModel[prop.Name] = prop.Value.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Override with model-specific values (except \'template\' key)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var prop in modelDef.Properties()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (prop.Name != &amp;quot;template&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;expandedModel[prop.Name] = prop.Value.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;resolved[model.Name] = expandedModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// No template or template not found, use as-is&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;resolved[model.Name] = modelDef.DeepClone();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return resolved;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-api-types" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;api-types&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-agent-mappings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;agent-mappings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;security&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-backend-priorities" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;backend-priorities&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-trace-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;trace-settings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-aliases" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;model-aliases&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-cache-settings" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;cache-settings&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW: Extract additional configuration sections for fallback path -->\r\n\t\t\t\t\t<set-variable name="config-jwt-std-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;jwt-std-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-security-config" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;security-config&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-azure-ai-auth" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;azure-ai-auth&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-endpoint-rate-limits" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;endpoint-rate-limits&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-prefixes" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;product-prefixes&amp;quot;] as JArray ?? new JArray();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-ip-logging" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;ip-logging&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-product-access" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;product-access&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- NEW v2.1: Extract rate limit multipliers and defaults for fallback path -->\r\n\t\t\t\t\t<set-variable name="config-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;streaming-rate-limit-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-responses-streaming-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;responses-streaming-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 5.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-embeddings-multiplier" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;embeddings-multiplier&amp;quot;]?.Value&amp;lt;double&amp;gt;() ?? 3.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-default-model-capacity" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;default-model-capacity&amp;quot;]?.ToString() ?? &amp;quot;standard&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-model-specific-trace" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var traceSettings = config[&amp;quot;trace-settings&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return traceSettings?[&amp;quot;model-specific-trace&amp;quot;] as JObject ?? new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="config-rate-limit-exclusions" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;rate-limit-exclusions&amp;quot;]?.ToString() ?? &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Log if bypass was used -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;cache-bypass-requested&amp;quot;, false) &amp;amp;&amp;amp; &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;               (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;global-trace-enabled&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot; || &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;                context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;always-trace-sources&amp;quot;, &amp;quot;||&amp;quot;).IndexOf(&amp;quot;|CONFIG-CACHE|&amp;quot;) &gt;= 0))">\r\n\t\t\t\t\t\t\t<trace source="CONFIG-CACHE-BYPASS" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\t\t\tvar parseTime = Convert.ToDouble(context.Variables.GetValueOrDefault(&amp;quot;config-parse-time&amp;quot;, 0.0));\r\n\t\t\t\t\t\t\t\t\tvar reason = context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;cache-bypass-requested&amp;quot;, false) ? &amp;quot;Header bypass requested&amp;quot; : &amp;quot;Cross-request caching disabled&amp;quot;;\r\n\t\t\t\t\t\t\t\t\treturn &amp;quot;Request-level parsing | Reason: &amp;quot; + reason + &amp;quot; | ParseTime: &amp;quot; + parseTime + &amp;quot;ms | RequestId: &amp;quot; + context.RequestId;\r\n\t\t\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Set cache initialization flag -->\r\n\t<set-variable name="config-cache-initialized" value="true" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_ErrorResponse 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-ErrorResponse'
  properties: {
    description: 'AIWorks Defines the Error Response configuration'
    value: '<!--\r\nFragment: AIWorks-ErrorResponse\r\nVersion: 3.2\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nCentral error handling component providing standardized error responses across different API types\r\nwhile maintaining compatibility with each API\'s expected error format. Handles all error scenarios\r\nincluding streaming closures, circuit breaker states, deleted resources, and ownership validation errors.\r\n\r\nFEATURES:\r\n- API-specific error formatting (OpenAI, Assistants, Responses, Conversations, Default)\r\n- Streaming connection closure handling (normal behavior detection)\r\n- Circuit breaker open state management with 503 responses\r\n- Deleted resource handling with 410 Gone responses\r\n- 404 to 410 conversion for Responses API consistency\r\n- Content filter violation error handling\r\n- Model not found error responses\r\n- Request duration tracking and performance metrics\r\n- Comprehensive error logging with context data\r\n- V1 API error format support for new API types\r\n- Ownership validation error support for responses/conversations APIs\r\n\r\nVARIABLES CONSUMED:\r\n- start-time: Request start time for duration calculation\r\n- api-type: Detected API type from route analysis\r\n- is-assistants-api: Flag for Assistants API requests\r\n- is-responses-api: Flag for Responses API requests\r\n- is-streaming: Flag for streaming requests\r\n- is-v1-api: Flag for v1 API format compliance\r\n- model-id/deploymentID: Model identifier\r\n- request-id: Unique request identifier\r\n- client-ip: Client IP address for logging\r\n- assistant-id, thread-id, run-id: Assistants API context\r\n- response-id: Responses API identifier\r\n- is-recently-deleted: Flag for deleted resources\r\n- resource-type, resource-id: Resource information\r\n- target-backend: Backend service name\r\n\r\nVARIABLES PRODUCED:\r\n- rd: Request duration in milliseconds\r\n- eat: Error API type for formatting\r\n- ecd: Error context data JSON string\r\n- eh: Error handled flag (boolean)\r\n- ebt: Error body template JSON string\r\n- erb: Error response body for specific scenarios\r\n- circuit-breaker-action: Circuit breaker action (suppress/transform)\r\n- circuit-breaker-status: Circuit breaker state flag\r\n- circuit-breaker-status-code: Modified status code\r\n- streaming-closure-handled: Streaming closure handling flag\r\n- deleted-resource-handled: Deleted resource handling flag\r\n- error-response-code: HTTP status code to return\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Route-Analysis: For API type detection\r\n- AIWorks-Backend-Selection: For model and backend information\r\n- AIWorks-Circuit-Breaker: For circuit breaker coordination\r\n- All other fragments: Handles errors from any fragment\r\n-->\r\n<fragment fragment-id="AIWorks-ErrorResponse">\r\n\t<set-variable name="rd" value="@{try{var st=context.Variables.GetValueOrDefault&lt;DateTime&gt;(&amp;quot;start-time&amp;quot;,DateTime.UtcNow);return Math.Round((DateTime.UtcNow-st).TotalMilliseconds).ToString();}catch{return &amp;quot;0&amp;quot;;}}" />\r\n\t<trace source="Policy-Error" severity="error">\r\n\t\t<message>@{var sc=context.Response!=null?context.Response.StatusCode.ToString():&amp;quot;unknown&amp;quot;;var m=context.Request.Method;var p=context.Request.Url.Path;var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var mid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var cip=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;client-ip&amp;quot;,&amp;quot;Unknown&amp;quot;);var es=context.LastError!=null?context.LastError.Source:&amp;quot;unknown&amp;quot;;var em=context.LastError!=null?context.LastError.Message:&amp;quot;unknown&amp;quot;;return &amp;quot;Error: &amp;quot;+sc+&amp;quot; &amp;quot;+m+&amp;quot; &amp;quot;+p+&amp;quot; (&amp;quot;+at+&amp;quot;, model: &amp;quot;+mid+&amp;quot;), client-ip: &amp;quot;+cip+&amp;quot;, source: &amp;quot;+es+&amp;quot;, message: &amp;quot;+em;}</message>\r\n\t</trace>\r\n\t<set-variable name="eat" value="@{var at=&amp;quot;inference&amp;quot;;if(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-assistants-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;){at=&amp;quot;assistants&amp;quot;;}else if(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-responses-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;){at=&amp;quot;responses&amp;quot;;}else if(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-type&amp;quot;)==&amp;quot;openai&amp;quot;){at=&amp;quot;openai&amp;quot;;}return at;}" />\r\n\t<set-variable name="ecd" value="@{try{var cd=new JObject(new JProperty(&amp;quot;requestId&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,&amp;quot;none&amp;quot;)),new JProperty(&amp;quot;clientIp&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;client-ip&amp;quot;,&amp;quot;Unknown&amp;quot;)),new JProperty(&amp;quot;modelId&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;deploymentID&amp;quot;,&amp;quot;unknown&amp;quot;)),new JProperty(&amp;quot;backend&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;target-backend&amp;quot;,&amp;quot;unknown&amp;quot;)),new JProperty(&amp;quot;apiType&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;eat&amp;quot;,&amp;quot;unknown&amp;quot;)),new JProperty(&amp;quot;duration&amp;quot;,context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;rd&amp;quot;,&amp;quot;0&amp;quot;)),new JProperty(&amp;quot;statusCode&amp;quot;,context.Response!=null?context.Response.StatusCode.ToString():&amp;quot;unknown&amp;quot;),new JProperty(&amp;quot;url&amp;quot;,context.Request.OriginalUrl.ToString()),new JProperty(&amp;quot;method&amp;quot;,context.Request.Method));if(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-assistants-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;){var ac=new JObject();var aid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;assistant-id&amp;quot;,null);var tid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;thread-id&amp;quot;,null);var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;run-id&amp;quot;,null);if(!string.IsNullOrEmpty(aid)){ac.Add(&amp;quot;assistantId&amp;quot;,aid);}if(!string.IsNullOrEmpty(tid)){ac.Add(&amp;quot;threadId&amp;quot;,tid);}if(!string.IsNullOrEmpty(rid)){ac.Add(&amp;quot;runId&amp;quot;,rid);}cd.Add(&amp;quot;assistantsContext&amp;quot;,ac);}else if(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-responses-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;){var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;response-id&amp;quot;,null);if(!string.IsNullOrEmpty(rid)){cd.Add(&amp;quot;responseId&amp;quot;,rid);}}return cd.ToString();}catch{return &amp;quot;{\\&amp;quot;error\\&amp;quot;:\\&amp;quot;Error creating context data\\&amp;quot;}&amp;quot;;}}" />\r\n\t<trace source="AI-Error" severity="error">\r\n\t\t<message>@{var es=context.LastError?.Source??&amp;quot;Unknown&amp;quot;;var er=context.LastError?.Reason??&amp;quot;Unknown&amp;quot;;var em=context.LastError?.Message??&amp;quot;Unknown&amp;quot;;var cd=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;ecd&amp;quot;,&amp;quot;{}&amp;quot;);var sc=context.Response!=null?context.Response.StatusCode.ToString():&amp;quot;unknown&amp;quot;;var ej=&amp;quot;\\&amp;quot;type\\&amp;quot;:\\&amp;quot;error-log\\&amp;quot;,\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;source\\&amp;quot;:\\&amp;quot;&amp;quot;+es+&amp;quot;\\&amp;quot;,\\&amp;quot;reason\\&amp;quot;:\\&amp;quot;&amp;quot;+er+&amp;quot;\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+em+&amp;quot;\\&amp;quot;,\\&amp;quot;statusCode\\&amp;quot;:\\&amp;quot;&amp;quot;+sc+&amp;quot;\\&amp;quot;},\\&amp;quot;context\\&amp;quot;:&amp;quot;+cd;return &amp;quot;{&amp;quot;+ej+&amp;quot;}&amp;quot;;}</message>\r\n\t</trace>\r\n\t<set-variable name="eh" value="false" />\r\n\t<!-- Streaming closure handling -->\r\n\t<choose>\r\n\t\t<when condition="@(context.LastError!=null&amp;&amp;context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-streaming&amp;quot;)==&amp;quot;true&amp;quot;&amp;&amp;(context.LastError.Source==&amp;quot;response-payload-handler&amp;quot;||context.LastError.Source==&amp;quot;forward-request&amp;quot;)&amp;&amp;(context.LastError.Message.IndexOf(&amp;quot;forcibly closed&amp;quot;)&gt;=0||context.LastError.Message.IndexOf(&amp;quot;Connection was closed&amp;quot;)&gt;=0||context.LastError.Message.IndexOf(&amp;quot;Unable to read data from the transport connection&amp;quot;)&gt;=0))">\r\n\t\t\t<trace source="Streaming-Connection" severity="information">\r\n\t\t\t\t<message>@{var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var m=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var s=context.LastError.Source;var msg=context.LastError.Message;return &amp;quot;Handled normal streaming closure for &amp;quot;+at+&amp;quot; API, model: &amp;quot;+m+&amp;quot;, source: &amp;quot;+s+&amp;quot;, error: &amp;quot;+msg.Substring(0,Math.Min(msg.Length,100));}</message>\r\n\t\t\t</trace>\r\n\t\t\t<set-variable name="eh" value="true" />\r\n\t\t\t<set-variable name="circuit-breaker-action" value="suppress" />\r\n\t\t\t<set-variable name="streaming-closure-handled" value="true" />\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="200" reason="OK" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var mi=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var co=new JObject();if(at==&amp;quot;responses&amp;quot;){var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;response-id&amp;quot;,&amp;quot;resp_&amp;quot;+Guid.NewGuid().ToString(&amp;quot;N&amp;quot;));var reqid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,Guid.NewGuid().ToString());co=new JObject(new JProperty(&amp;quot;id&amp;quot;,rid),new JProperty(&amp;quot;model&amp;quot;,mi),new JProperty(&amp;quot;created&amp;quot;,DateTimeOffset.UtcNow.ToUnixTimeSeconds()),new JProperty(&amp;quot;object&amp;quot;,&amp;quot;response&amp;quot;),new JProperty(&amp;quot;usage&amp;quot;,new JObject(new JProperty(&amp;quot;prompt_tokens&amp;quot;,0),new JProperty(&amp;quot;completion_tokens&amp;quot;,0),new JProperty(&amp;quot;total_tokens&amp;quot;,0))));}else if(at==&amp;quot;assistants&amp;quot;){co=new JObject(new JProperty(&amp;quot;id&amp;quot;,&amp;quot;chatcmpl-&amp;quot;+Guid.NewGuid().ToString(&amp;quot;N&amp;quot;)),new JProperty(&amp;quot;model&amp;quot;,mi),new JProperty(&amp;quot;created&amp;quot;,DateTimeOffset.UtcNow.ToUnixTimeSeconds()),new JProperty(&amp;quot;object&amp;quot;,&amp;quot;chat.completion&amp;quot;),new JProperty(&amp;quot;choices&amp;quot;,new JArray(new JObject(new JProperty(&amp;quot;index&amp;quot;,0),new JProperty(&amp;quot;finish_reason&amp;quot;,&amp;quot;stop&amp;quot;)))));}else{co=new JObject(new JProperty(&amp;quot;id&amp;quot;,&amp;quot;chatcmpl-&amp;quot;+Guid.NewGuid().ToString(&amp;quot;N&amp;quot;)),new JProperty(&amp;quot;object&amp;quot;,&amp;quot;chat.completion&amp;quot;),new JProperty(&amp;quot;created&amp;quot;,DateTimeOffset.UtcNow.ToUnixTimeSeconds()),new JProperty(&amp;quot;model&amp;quot;,mi),new JProperty(&amp;quot;choices&amp;quot;,new JArray(new JObject(new JProperty(&amp;quot;index&amp;quot;,0),new JProperty(&amp;quot;finish_reason&amp;quot;,&amp;quot;stop&amp;quot;),new JProperty(&amp;quot;message&amp;quot;,new JObject(new JProperty(&amp;quot;role&amp;quot;,&amp;quot;assistant&amp;quot;),new JProperty(&amp;quot;content&amp;quot;,&amp;quot;&amp;quot;)))))),new JProperty(&amp;quot;usage&amp;quot;,new JObject(new JProperty(&amp;quot;prompt_tokens&amp;quot;,0),new JProperty(&amp;quot;completion_tokens&amp;quot;,0),new JProperty(&amp;quot;total_tokens&amp;quot;,0))));}return co.ToString();}</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t\t<when condition="@(context.LastError!=null&amp;&amp;context.LastError.Source==&amp;quot;forward-request&amp;quot;&amp;&amp;context.LastError.Reason==&amp;quot;CircuitBreakerIsOpen&amp;quot;)">\r\n\t\t\t<trace source="Circuit-Breaker-Status" severity="error">\r\n\t\t\t\t<message>@{var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var m=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var b=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;target-backend&amp;quot;,&amp;quot;unknown&amp;quot;);return &amp;quot;Circuit breaker open for backend: &amp;quot;+b+&amp;quot;, API: &amp;quot;+at+&amp;quot;, model: &amp;quot;+m+&amp;quot;, error: &amp;quot;+context.LastError.Message;}</message>\r\n\t\t\t</trace>\r\n\t\t\t<set-variable name="eh" value="true" />\r\n\t\t\t<set-variable name="circuit-breaker-status" value="true" />\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="503" reason="Service Unavailable" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-header name="Retry-After" exists-action="override">\r\n\t\t\t\t\t<value>30</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;eat&amp;quot;,&amp;quot;inference&amp;quot;);var m=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,Guid.NewGuid().ToString());var em=&amp;quot;The service is temporarily unavailable due to high load. Please try again after 30 seconds.&amp;quot;;var ej=&amp;quot;&amp;quot;;if(at==&amp;quot;assistants&amp;quot;){ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+em+&amp;quot;\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;server_error\\&amp;quot;,\\&amp;quot;param\\&amp;quot;:null,\\&amp;quot;code\\&amp;quot;:null}}&amp;quot;;}else if(at==&amp;quot;responses&amp;quot;||at==&amp;quot;openai&amp;quot;){ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;ServiceUnavailable\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+em+&amp;quot;\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot;+rid+&amp;quot;\\&amp;quot;}}&amp;quot;;}else{ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;503\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+em+&amp;quot;\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;innerError\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;CircuitBreakerTripped\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot;+rid+&amp;quot;\\&amp;quot;}}}&amp;quot;;}return ej;}</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- 410 for deleted resources -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Request.Method==&amp;quot;GET&amp;quot;&amp;&amp;context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-recently-deleted&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t<trace source="Circuit-Breaker" severity="information">\r\n\t\t\t\t<message>@{var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;resource-id&amp;quot;,&amp;quot;&amp;quot;);var rt=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;resource-type&amp;quot;,&amp;quot;&amp;quot;);return &amp;quot;Intercepted GET to deleted &amp;quot;+rt+&amp;quot;: &amp;quot;+rid;}</message>\r\n\t\t\t</trace>\r\n\t\t\t<set-variable name="eh" value="true" />\r\n\t\t\t<set-variable name="deleted-resource-handled" value="true" />\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="410" reason="Gone" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;resource-id&amp;quot;,&amp;quot;&amp;quot;);var rt=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;resource-type&amp;quot;,&amp;quot;&amp;quot;);var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var msg=&amp;quot;The &amp;quot;+rt+&amp;quot; \'&amp;quot;+rid+&amp;quot;\' has been deleted.&amp;quot;;var resp=&amp;quot;&amp;quot;;if(at==&amp;quot;assistants&amp;quot;){resp=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+msg+&amp;quot;\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;resource_deleted\\&amp;quot;,\\&amp;quot;param\\&amp;quot;:null,\\&amp;quot;code\\&amp;quot;:null}}&amp;quot;;}else{var reqid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,Guid.NewGuid().ToString());resp=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;resource_deleted\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+msg+&amp;quot;\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;&amp;quot;+rt+&amp;quot;\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot;+reqid+&amp;quot;\\&amp;quot;}}&amp;quot;;}return resp;}</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- 404 to 410 for Responses API -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response!=null&amp;&amp;context.Response.StatusCode==404&amp;&amp;context.Request.Method==&amp;quot;GET&amp;quot;&amp;&amp;context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-responses-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;&amp;&amp;!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;response-id&amp;quot;,&amp;quot;&amp;quot;)))">\r\n\t\t\t<trace source="ResponseErrors-404-Fix" severity="information">\r\n\t\t\t\t<message>@{var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;response-id&amp;quot;,&amp;quot;unknown&amp;quot;);return &amp;quot;Transform 404-&gt;410 for Responses API GET: &amp;quot;+rid;}</message>\r\n\t\t\t</trace>\r\n\t\t\t<set-variable name="eh" value="true" />\r\n\t\t\t<set-variable name="error-response-code" value="@(410)" />\r\n\t\t\t<set-variable name="circuit-breaker-action" value="transform" />\r\n\t\t\t<set-variable name="circuit-breaker-status-code" value="@(410)" />\r\n\t\t\t<set-status code="410" reason="Gone" />\r\n\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t<value>application/json</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-variable name="erb" value="@{var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;response-id&amp;quot;,&amp;quot;unknown&amp;quot;);var reqid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,Guid.NewGuid().ToString());var ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;ResourceDeleted\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;The response \'&amp;quot;+rid+&amp;quot;\' has been deleted.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot;+reqid+&amp;quot;\\&amp;quot;,\\&amp;quot;responseId\\&amp;quot;:\\&amp;quot;&amp;quot;+rid+&amp;quot;\\&amp;quot;}}&amp;quot;;return ej;}" />\r\n\t\t\t<set-body>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;erb&amp;quot;))</set-body>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Standard error handling -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;eh&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;false&amp;quot;)">\r\n\t\t\t<set-variable name="ebt" value="@{var es=context.LastError?.Source??&amp;quot;unknown&amp;quot;;var em=context.LastError?.Message??&amp;quot;Unknown error&amp;quot;;var sc=context.Response?.StatusCode??500;var h=context.Response?.StatusCode&gt;=400&amp;&amp;context.Response?.StatusCode&lt;500;var um=h?em:&amp;quot;An unexpected error occurred. Please try again.&amp;quot;;return &amp;quot;{\\&amp;quot;source\\&amp;quot;:\\&amp;quot;&amp;quot;+es+&amp;quot;\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+um+&amp;quot;\\&amp;quot;,\\&amp;quot;statusCode\\&amp;quot;:&amp;quot;+sc+&amp;quot;}&amp;quot;;}" />\r\n\t\t\t<set-status code="@{var sc=context.Response?.StatusCode??500;if(sc&lt;400||sc&gt;599){sc=500;}return sc;}" reason="@{var sc=context.Response?.StatusCode??500;if(sc==400){return &amp;quot;Bad Request&amp;quot;;}else if(sc==401){return &amp;quot;Unauthorized&amp;quot;;}else if(sc==403){return &amp;quot;Forbidden&amp;quot;;}else if(sc==404){return &amp;quot;Not Found&amp;quot;;}else if(sc==429){return &amp;quot;Too Many Requests&amp;quot;;}else if(sc==500){return &amp;quot;Internal Server Error&amp;quot;;}else if(sc==502){return &amp;quot;Bad Gateway&amp;quot;;}else if(sc==503){return &amp;quot;Service Unavailable&amp;quot;;}else if(sc==504){return &amp;quot;Gateway Timeout&amp;quot;;}else{return &amp;quot;Error&amp;quot;;}}" />\r\n\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t<value>application/json</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-body>@{var at=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;eat&amp;quot;,&amp;quot;inference&amp;quot;);var bt=JObject.Parse(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;ebt&amp;quot;,&amp;quot;{}&amp;quot;));var sc=bt[&amp;quot;statusCode&amp;quot;]?.Value&lt;int&gt;()??500;var em=bt[&amp;quot;message&amp;quot;]?.ToString()??&amp;quot;Unknown error&amp;quot;;var es=bt[&amp;quot;source&amp;quot;]?.ToString()??&amp;quot;unknown&amp;quot;;var rid=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;,Guid.NewGuid().ToString());var mi=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);var ej=&amp;quot;&amp;quot;;var isV1Api=context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-v1-api&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;;if(at==&amp;quot;assistants&amp;quot;){var et=sc&gt;=500?&amp;quot;server_error&amp;quot;:(sc==429?&amp;quot;rate_limit_error&amp;quot;:(sc==401||sc==403?&amp;quot;authentication_error&amp;quot;:&amp;quot;invalid_request_error&amp;quot;));ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+em+&amp;quot;\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;&amp;quot;+et+&amp;quot;\\&amp;quot;,\\&amp;quot;param\\&amp;quot;:null,\\&amp;quot;code\\&amp;quot;:null}}&amp;quot;;}else if(isV1Api||at==&amp;quot;files-v1&amp;quot;||at==&amp;quot;vector-stores-v1&amp;quot;||at==&amp;quot;conversations&amp;quot;||at==&amp;quot;models-v1&amp;quot;){/* V1 API compliant error format */var cd=sc==400?&amp;quot;validation_error&amp;quot;:(sc==401?&amp;quot;authentication_error&amp;quot;:(sc==403?&amp;quot;permission_error&amp;quot;:(sc==404?&amp;quot;resource_not_found&amp;quot;:(sc==413?&amp;quot;request_too_large&amp;quot;:(sc==429?&amp;quot;rate_limit_exceeded&amp;quot;:(sc==500?&amp;quot;internal_error&amp;quot;:(sc==503?&amp;quot;service_unavailable&amp;quot;:(sc==504?&amp;quot;timeout&amp;quot;:&amp;quot;error&amp;quot;))))))));var tm=em;var errorType=&amp;quot;error&amp;quot;;if(sc==404){tm=&amp;quot;The requested resource does not exist.&amp;quot;;errorType=&amp;quot;invalid_request_error&amp;quot;;}else if(sc==400){errorType=&amp;quot;invalid_request_error&amp;quot;;}else if(sc==429){errorType=&amp;quot;rate_limit_error&amp;quot;;tm=&amp;quot;Rate limit exceeded. Please try again later.&amp;quot;;}else if(sc&gt;=500){errorType=&amp;quot;server_error&amp;quot;;tm=&amp;quot;An internal server error occurred. Please try again.&amp;quot;;}var eo=new JObject(new JProperty(&amp;quot;code&amp;quot;,cd),new JProperty(&amp;quot;message&amp;quot;,tm),new JProperty(&amp;quot;type&amp;quot;,errorType),new JProperty(&amp;quot;request_id&amp;quot;,rid));ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:&amp;quot;+eo.ToString(Newtonsoft.Json.Formatting.None)+&amp;quot;}&amp;quot;;}else if(at==&amp;quot;responses&amp;quot;||at==&amp;quot;openai&amp;quot;){/* Legacy responses/openai API format */var cd=sc==401?&amp;quot;Unauthorized&amp;quot;:(sc==403?&amp;quot;Forbidden&amp;quot;:(sc==404?&amp;quot;NotFound&amp;quot;:(sc==429?&amp;quot;RateLimitExceeded&amp;quot;:(sc==500?&amp;quot;InternalServerError&amp;quot;:(sc==503?&amp;quot;ServiceUnavailable&amp;quot;:&amp;quot;Error&amp;quot;)))));var tm=em;if(sc==404&amp;&amp;at==&amp;quot;responses&amp;quot;){cd=&amp;quot;NotFound&amp;quot;;tm=&amp;quot;The requested resource was not found.&amp;quot;;}var eo=new JObject(new JProperty(&amp;quot;code&amp;quot;,cd),new JProperty(&amp;quot;message&amp;quot;,tm),new JProperty(&amp;quot;requestId&amp;quot;,rid));if(sc&gt;=500){eo.Add(&amp;quot;innerError&amp;quot;,new JObject(new JProperty(&amp;quot;code&amp;quot;,&amp;quot;backend_error&amp;quot;),new JProperty(&amp;quot;source&amp;quot;,es)));}ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:&amp;quot;+eo.ToString(Newtonsoft.Json.Formatting.None)+&amp;quot;}&amp;quot;;}else{/* Default error format */var cd=sc.ToString();var tm=em;var eo=new JObject(new JProperty(&amp;quot;code&amp;quot;,cd),new JProperty(&amp;quot;message&amp;quot;,tm),new JProperty(&amp;quot;target&amp;quot;,&amp;quot;model&amp;quot;),new JProperty(&amp;quot;requestId&amp;quot;,rid));if(sc&gt;=500){eo.Add(&amp;quot;innerError&amp;quot;,new JObject(new JProperty(&amp;quot;code&amp;quot;,&amp;quot;backend_error&amp;quot;),new JProperty(&amp;quot;source&amp;quot;,es)));}ej=&amp;quot;{\\&amp;quot;error\\&amp;quot;:&amp;quot;+eo.ToString(Newtonsoft.Json.Formatting.None)+&amp;quot;}&amp;quot;;}return ej;}</set-body>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Headers 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Headers'
  properties: {
    description: 'AIWorks Defines the Headers configuration'
    value: '<!--\r\nFragment: AIWorks-Headers\r\nVersion: 4.9\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nManages response headers including API information, rate limiting, security correlation,\r\nand content type headers. Centralizes all header management for consistency.\r\n\r\nFEATURES:\r\n- Rate limiting headers with backend integration\r\n- Model and capacity information headers\r\n- API version and type headers\r\n- Streaming content type management\r\n- Embeddings-specific headers\r\n- Security correlation headers (user ID, JWT IP, IP match)\r\n- Ownership validation headers for responses/conversations APIs\r\n- Request duration calculation\r\n- Backend rate limit header passthrough\r\n- V1 API version type detection\r\n\r\nVARIABLES CONSUMED:\r\n- is-streaming-response: Whether response is streaming\r\n- model-id: Model identifier\r\n- model-capacity: Model capacity tier\r\n- rate-limit: Rate limit value\r\n- remaining-rate-limit-calls: Remaining calls from policy\r\n- selected-model: Selected model configuration\r\n- api-type: API type (openai, assistants, etc.)\r\n- selected-api-version: Selected API version\r\n- is-v1-api: Whether this is a v1 API request\r\n- request-start-time: Request start timestamp\r\n- request-start-ticks: Request start ticks\r\n- auth-type: Authentication type used\r\n- user-id: User identifier from JWT\r\n- jwt-client-ip: IP from JWT claims\r\n- client-ip: Actual client IP\r\n- user-roles: User roles from JWT\r\n- ownership-validated: Whether ownership was validated (responses/conversations APIs)\r\n- resource-owner: Owner of the resource (for responses/conversations)\r\n- selected-timeout: Applied timeout value in seconds\r\n- timeout-source: Source of timeout (client-header, reasoning-effort, model-config, capability, api-type)\r\n- extended-timeout-requested: Whether client requested extended timeout\r\n- reasoning-effort-detected: Detected reasoning effort from request body (low, medium, high)\r\n\r\nVARIABLES PRODUCED:\r\n- request-duration-ms: Calculated request duration in milliseconds\r\n- preview-headers-detected: Detected preview feature headers for v1 APIs\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Backend-Selection: Provides selected-api-version\r\n- AIWorks-Security-*: Provides auth-type and user information\r\n- Response headers from backend for rate limit passthrough\r\n-->\r\n<fragment fragment-id="AIWorks-Headers">\r\n\t<!-- Set streaming content type if needed -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming-response&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t<value>text/event-stream</value>\r\n\t\t\t</set-header>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- ====================================================================== -->\r\n\t<!-- v1 API Preview Feature Headers Support                                -->\r\n\t<!-- ====================================================================== -->\r\n\t<!-- For v1 APIs, detect and log preview feature headers                   -->\r\n\t<!-- These headers control feature-specific preview access without         -->\r\n\t<!-- requiring api-version parameter changes                               -->\r\n\t<!-- ====================================================================== -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<set-variable name="preview-headers-detected" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var headers = context.Request.Headers;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var previewHeaders = new string[10];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;int count = 0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;foreach (var header in headers) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (header.Key.StartsWith(&amp;quot;aoai-&amp;quot;, StringComparison.OrdinalIgnoreCase)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;string headerValue = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (header.Value != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;headerValue = header.Value[0];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch { }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (count &amp;lt; 10) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;previewHeaders[count] = header.Key + &amp;quot;=&amp;quot; + headerValue;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;count++;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (count == 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;none&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var result = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;for (int i = 0; i &amp;lt; count; i++) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (i &amp;gt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;result += &amp;quot;, &amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result += previewHeaders[i];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return result;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Log preview headers for debugging -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;trace-logging-enabled&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<trace source="v1-Preview-Headers" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;v1 API Preview Headers: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;preview-headers-detected&amp;quot;, &amp;quot;none&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Set API info headers -->\r\n\t<set-header name="X-RateLimit-Model" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- Pass through underlying model header from model-router if present -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response.Headers.ContainsKey(&amp;quot;x-ms-aiworks-underlying-model&amp;quot;))">\r\n\t\t\t<set-header name="X-Underlying-Model" exists-action="override">\r\n\t\t\t\t<value>@(context.Response.Headers.GetValueOrDefault(&amp;quot;x-ms-aiworks-underlying-model&amp;quot;, &amp;quot;&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t</when>\r\n\t</choose>\r\n\t<set-header name="X-RateLimit-Capacity" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;, &amp;quot;standard&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-RateLimit-Limit" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;, 5).ToString())</value>\r\n\t</set-header>\r\n\t<set-header name="X-RateLimit-Remaining" exists-action="override">\r\n\t\t<value>@{var remainingFromBackend = context.Response.Headers.GetValueOrDefault(&amp;quot;x-ratelimit-remaining-requests&amp;quot;, &amp;quot;&amp;quot;); var remainingFromPolicy = context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;remaining-rate-limit-calls&amp;quot;, -1); if (remainingFromPolicy &gt;= 0) { return remainingFromPolicy.ToString();}\r\n        else if (!string.IsNullOrEmpty(remainingFromBackend)) {\r\n            return remainingFromBackend;\r\n        }\r\n        return &amp;quot;0&amp;quot;;\r\n    }</value>\r\n\t</set-header>\r\n\t<set-header name="X-RateLimit-Reset" exists-action="override">\r\n\t\t<value>@((DateTimeOffset.UtcNow.AddSeconds(60)).ToUnixTimeSeconds().ToString())</value>\r\n\t</set-header>\r\n\t<set-header name="X-Tokens-Remaining" exists-action="override">\r\n\t\t<value>@(context.Response.Headers.GetValueOrDefault(&amp;quot;x-ratelimit-remaining-tokens&amp;quot;, &amp;quot;&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Request-Duration-Ms" exists-action="override">\r\n\t\t<value>@{var startTime = context.Variables.GetValueOrDefault&amp;lt;DateTime&amp;gt;(&amp;quot;request-start-time&amp;quot;, DateTime.UtcNow); return Math.Round((DateTime.UtcNow - startTime).TotalMilliseconds).ToString();}</value>\r\n\t</set-header>\r\n\t<set-header name="X-API-Type" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- SIMPLIFIED: Reference centralized API version selection -->\r\n\t<set-header name="X-API-Version" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;2024-10-21&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- v1 API: Updated to use clearer values: new-v1 and legacy -->\r\n\t<set-header name="X-API-Version-Type" exists-action="override">\r\n\t\t<value>@{var isV1 = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;, &amp;quot;false&amp;quot;); if (isV1 == &amp;quot;true&amp;quot;) { return &amp;quot;new-v1&amp;quot;;}\r\n        return &amp;quot;legacy&amp;quot;;\r\n    }</value>\r\n\t</set-header>\r\n\t<!-- v1 API: Add original API version header -->\r\n\t<set-header name="X-Original-API-Version" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-api-version&amp;quot;, &amp;quot;none&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Backend-ID" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- v4.9: Timeout configuration headers for extended reasoning support -->\r\n\t<set-header name="X-Timeout-Applied" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-timeout&amp;quot;, &amp;quot;120&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Timeout-Source" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;timeout-source&amp;quot;, &amp;quot;default&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Extended-Timeout" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;extended-timeout-requested&amp;quot;, &amp;quot;false&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Reasoning-Effort" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;reasoning-effort-detected&amp;quot;, &amp;quot;none&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- ADD: Security mode header for external auth visibility -->\r\n\t<set-header name="X-Security-Mode" exists-action="override">\r\n\t\t<value>@{var securityMode = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;security-mode&amp;quot;, &amp;quot;&amp;quot;); if (!string.IsNullOrEmpty(securityMode)) { return securityMode;}\r\n\t\t\t// Check for subscription key auth\r\n\t\t\tvar subscriptionName = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\tif (subscriptionName == &amp;quot;jwt-auth&amp;quot;) {\r\n\t\t\t\treturn &amp;quot;external-jwt-auth-with-role&amp;quot;;\r\n\t\t\t}\r\n\t\t\treturn &amp;quot;api-key&amp;quot;;\r\n\t\t}</value>\r\n\t</set-header>\r\n\t<!-- ADD: User roles header for external auth visibility -->\r\n\t<set-header name="X-User-Roles" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-roles&amp;quot;, &amp;quot;none&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- v4.6: Add security correlation headers for JWT auth -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;) == &amp;quot;jwt&amp;quot; || &#xD;&#xA;&#x9;&#x9;                   context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;) == &amp;quot;jwt-passthrough&amp;quot;)">\r\n\t\t\t<set-header name="X-User-ID" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-JWT-IP" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-ip&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-IP-Match" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ip-match&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-Subscription-Context" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;, &amp;quot;jwt-user&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- v4.5: Enhanced debug headers for v1 APIs -->\r\n\t<set-header name="X-Debug-API-Type" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Selected-Backend" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Selected-API-Version" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<set-header name="X-Debug-Model-ID" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- v1 API: Add header showing if api-version was used -->\r\n\t<set-header name="X-Uses-API-Version" exists-action="override">\r\n\t\t<value>@{\r\n\t\t\tvar isV1 = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;, &amp;quot;false&amp;quot;);\r\n\t\t\treturn isV1 == &amp;quot;true&amp;quot; ? &amp;quot;false&amp;quot; : &amp;quot;true&amp;quot;;\r\n\t\t}</value>\r\n\t</set-header>\r\n\t<!-- v1 API: Show detected preview headers in response -->\r\n\t<set-header name="X-Preview-Headers" exists-action="override">\r\n\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;preview-headers-detected&amp;quot;, &amp;quot;none&amp;quot;))</value>\r\n\t</set-header>\r\n\t<!-- v4.5: Path Construction Debug Traces (conditional) -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;trace-logging-enabled&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<trace source="Path-Construction-Result" severity="information">\r\n\t\t\t\t<message>@{var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;, &amp;quot;unknown&amp;quot;); var finalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;final-path&amp;quot;, &amp;quot;unknown&amp;quot;); var apiVersion = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;); var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;); var backend = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;unknown&amp;quot;); var method = context.Request.Method.ToUpper(); var isV1 = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;, &amp;quot;false&amp;quot;); return &amp;quot;PATH-COMPLETE | API: &amp;quot; + apiType + &amp;quot; | Model: &amp;quot; + modelId + &amp;quot; | Method: &amp;quot; + method + &amp;quot; | Path: &amp;quot; + finalPath + &amp;quot; | Version: &amp;quot; + apiVersion + &amp;quot; | Backend: &amp;quot; + backend + &amp;quot; | Is-v1: &amp;quot; + isV1;}</message>\r\n\t\t\t</trace>\r\n\t\t\t<!-- Additional v1 API specific trace -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<trace source="v1-API-Details" severity="information">\r\n\t\t\t\t\t\t<message>@{var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;); var versionStrategy = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-v1-api&amp;quot;) == &amp;quot;true&amp;quot; ? &amp;quot;new-v1&amp;quot; : &amp;quot;legacy&amp;quot;; var originalVersion = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-api-version&amp;quot;, &amp;quot;none&amp;quot;); var selectedVersion = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;); var operation = (apiType == &amp;quot;openai-v1&amp;quot;) ? context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;v1-inference-operation&amp;quot;, &amp;quot;unknown&amp;quot;) : &amp;quot;&amp;quot;; return &amp;quot;v1-API | Type: &amp;quot; + apiType + &amp;quot; | Version-Strategy: &amp;quot; + versionStrategy + &amp;quot; | Original-Version: &amp;quot; + originalVersion + &amp;quot; | Selected-Version: &amp;quot; + selectedVersion + &amp;quot; | Operation: &amp;quot; + operation;}</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Enhanced headers for embeddings requests -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response.StatusCode == 200 &amp;amp;&amp;amp; context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- Add embeddings-specific headers -->\r\n\t\t\t<set-header name="X-Embeddings-Model" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-Embeddings-Capacity" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;, &amp;quot;embeddings&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-Embeddings-RateLimit" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;, 150).ToString())</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-Embeddings-RateLimit-Remaining" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;remaining-rate-limit-calls&amp;quot;, 0).ToString())</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-Embeddings-Dimensions" exists-action="override">\r\n\t\t\t\t<value>@{var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;("model-id", "unknown"); if (modelId.IndexOf("ada2") &gt;= 0) { return "1536";}\r\n\t\t\t\telse if (modelId.IndexOf("ada3-large") &gt;= 0) {\r\n\t\t\t\t\treturn "3072";\r\n\t\t\t\t}\r\n\t\t\t\telse if (modelId.IndexOf("cohere-embed-v3") &gt;= 0) {\r\n\t\t\t\t\treturn "1024";\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn "unknown";\r\n\t\t\t\t}\r\n\t\t\t}</value>\r\n\t\t\t</set-header>\r\n\t\t\t<!-- STANDARDIZED: Embeddings trace message format -->\r\n\t\t\t<trace source="EMBEDDINGS-SUCCESS" severity="information">\r\n\t\t\t\t<message>@{var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;); var capacity = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;, &amp;quot;embeddings&amp;quot;); var rateLimit = context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;, 150); var remaining = context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;remaining-rate-limit-calls&amp;quot;, 0); var statusCode = context.Response.StatusCode; var finalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;final-path&amp;quot;, &amp;quot;unknown&amp;quot;); var duration = Math.Round((DateTime.UtcNow - context.Variables.GetValueOrDefault&amp;lt;DateTime&amp;gt;(&amp;quot;request-start-time&amp;quot;, DateTime.UtcNow)).TotalMilliseconds); return &amp;quot;EMBEDDINGS-SUCCESS | Model-ID: &amp;quot; + modelId + &amp;quot; | Capacity: &amp;quot; + capacity + &amp;quot; | Rate-Limit: &amp;quot; + rateLimit + &amp;quot; | Remaining: &amp;quot; + remaining + &amp;quot; | Duration-Ms: &amp;quot; + duration + &amp;quot; | Status: &amp;quot; + statusCode + &amp;quot; | Final-Path: &amp;quot; + finalPath;}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Model_Config 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Model-Config'
  properties: {
    description: 'AIWorks Defines the complete model configuration'
    value: '<fragment fragment-id="AIWorks-Model-Config">\r\n\t<!--\r\n\tFragment: AIWorks-Model-Config\r\n\tVersion: 6.0 - Full Inline Models (No Templates)\r\nLast Updated: 2025-11-26 (UTC)\r\n\r\n\tPURPOSE:\r\n\tCentral configuration source providing all gateway settings including model definitions,\r\n\tbackend mappings, API versions, rate limiting, token tracking, security settings, and agent mappings.\r\n\tSingle source of truth for all configuration-driven behavior.\r\n\r\n\tFEATURES:\r\n\t- Model definitions with capacity, backend, and version mappings\r\n\t- API type configurations with path patterns and backends\r\n\t- Rate limiting tiers and configurations\r\n\t- Rate limit exclusions via named value (aiworks-exclude-ratelimit)\r\n\t- Token tracking settings and modes\r\n\t- Security configurations (Defender, OAuth, Azure AI, JWT authentication)\r\n\t- Agent mappings for Projects API dynamic routing\r\n\t- Trace logging controls\r\n\t- Default backend and timeout settings\r\n\t- JWT standard authentication configuration (jwt-std-auth section)\r\n\t- External authentication integration settings\r\n\t- Ownership validation support for responses/conversations APIs\r\n\r\n\tVARIABLES CONSUMED:\r\n\t- None (this is the source configuration fragment).\r\n\r\n\tVARIABLES PRODUCED:\r\n\t- model-config: Main configuration object as JSON string\r\n\t- config-parsed: Parsed JSON configuration object (JObject)\r\n\r\n\tDEPENDENCIES:\r\n\t- None (this fragment is loaded first by all policies)\r\n\r\n\tCONFIGURATION STRUCTURE:\r\n\t- jwt-std-auth: JWT authentication configuration section\r\n\t  - tenant-id: Microsoft Entra ID tenant\r\n\t  - app-registration-id: App registration ID for token validation\r\n\t  - required-scopes: OAuth scopes required for access\r\n\t  - scope-url: Base URL for scope validation\r\n\t  - issuer: Token issuer for validation\r\n\t  - openid-config-url: OpenID Connect configuration endpoint\r\n\t  - required-roles: Required user roles for access\r\n\t- security: Security feature toggles (defender-context-enabled)\r\n\t- models: Model definitions with backend mappings\r\n\t- api-types: API type configurations and backends\r\n\t- backend-priorities: Backend selection priority rules\r\n\t- rate-limits: Capacity-based rate limiting configuration\r\n\t- token-tracking: Token usage tracking settings\r\n\t-->\r\n\t<set-variable name="model-config" value="@{&#xD;&#xA;&#x9;&#x9;return @&amp;quot;{ \'security\': { \'defender-context-enabled\': false},&#xD;&#xA;&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* STANDARD JWT AUTHENTICATION CONFIGURATION */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Standard JWT authentication with managed identity backend - WITH ROLE VALIDATION */&#xD;&#xA;        /* Used for AIWorks app clients where backend uses APIM managed identity */&#xD;&#xA;    \'jwt-std-auth\': {&#xD;&#xA;        \'tenant-id\': \'db8e2f82-8a37-4c09-b7de-ed06547b5a20\',&#xD;&#xA;        \'app-registration-id\': \'api://aiworks-maas-v2\',  /* Full URI format for audience validation */&#xD;&#xA;        \'required-scopes\': [\'access_as_user\', \'.default\'],  /* Accept both scope patterns */&#xD;&#xA;        \'scope-url\': \'api://aiworks-maas-v2/.default\',&#xD;&#xA;        \'issuer\': \'https://sts.windows.net/db8e2f82-8a37-4c09-b7de-ed06547b5a20/\',&#xD;&#xA;        \'openid-config-url\': \'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/v2.0/.well-known/openid-configuration\',&#xD;&#xA;        \'required-role\': \'AIWorks.User\'  /* Single role requirement */&#xD;&#xA;    },&#xD;&#xA;&#xD;&#xA;    // Security Configuration - Authentication and Authorization Settings&#xD;&#xA;    \'security-config\': {&#xD;&#xA;        \'backend-auth-resource\': \'https://cognitiveservices.azure.com\',  /* Azure resource for managed identity auth */&#xD;&#xA;        \'default-product-tier\': \'standard\',  /* Default tier for authenticated users */&#xD;&#xA;        \'cache-settings\': {&#xD;&#xA;            \'token-cache-duration\': 3300,  /* Token cache duration in seconds (55 minutes) */&#xD;&#xA;            \'token-cache-key\': \'foundry-token\',  /* Cache key for backend tokens */&#xD;&#xA;            \'ownership-cache-duration\': 2678400  /* Ownership cache duration in seconds (31 days) */&#xD;&#xA;        }&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* AZURE AI AUTHENTICATION CONFIGURATION */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Configuration for Azure AI tokens with https://ai.azure.com audience */&#xD;&#xA;        /* Used for Projects API when clients use Azure AI SDK authentication */&#xD;&#xA;    \'azure-ai-auth\': {&#xD;&#xA;        \'tenant-id\': \'db8e2f82-8a37-4c09-b7de-ed06547b5a20\',&#xD;&#xA;        \'audience\': \'https://ai.azure.com\',&#xD;&#xA;        \'issuer\': \'https://sts.windows.net/db8e2f82-8a37-4c09-b7de-ed06547b5a20/\',&#xD;&#xA;        \'openid-config-url\': \'https://login.microsoftonline.com/db8e2f82-8a37-4c09-b7de-ed06547b5a20/v2.0/.well-known/openid-configuration\',&#xD;&#xA;        \'required-scopes\': [\'https://ai.azure.com/.default\']&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* MODEL DEFINITIONS - Full Inline Configuration                           */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Each model has ALL properties explicitly defined - no templates         */&#xD;&#xA;        /* Last Updated: 2025-11-26 (UTC) - Restructured to full inline            */&#xD;&#xA;&#x9;&#x9;\'models\': {&#xD;&#xA;&#x9;&#x9;&#x9;/* === Private Preview Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-model-router\': { \'capacity\':\'private-preview\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'private-preview\' },&#xD;&#xA;            \'gpt5-model-router\': { \'capacity\':\'private-preview\', \'backend\':\'AIWorks-API-OAI-D-SWC2\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;            \'gpt4-model-router\': { \'capacity\':\'private-preview\', \'backend\':\'AIWorks-API-OAI-D-SWC2\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === OpenAI Premium Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt4o\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt4o-mini\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-4.1\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-4.1-nano\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === GPT-5 Advanced Models (Extended Thinking Support) === */&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-5-nano\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 300, \'streaming-timeout\': 600, \'extended-timeout\': 900, \'extended-streaming-timeout\': 1800, \'capabilities\': [\'extended-thinking\'], \'circuit-breaker-excluded\': false },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-5-mini\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 300, \'streaming-timeout\': 600, \'extended-timeout\': 900, \'extended-streaming-timeout\': 1800, \'capabilities\': [\'extended-thinking\'], \'circuit-breaker-excluded\': false },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-5\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 300, \'streaming-timeout\': 600, \'extended-timeout\': 900, \'extended-streaming-timeout\': 1800, \'capabilities\': [\'extended-thinking\'], \'circuit-breaker-excluded\': false },&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-5-chat\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'private-preview\', \'timeout\': 300, \'streaming-timeout\': 600, \'extended-timeout\': 1200, \'extended-streaming-timeout\': 1800, \'capabilities\': [\'extended-thinking\'], \'circuit-breaker-excluded\': false },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === GPT-5.2 Advanced Models (Extended Thinking Support) === */&#xD;&#xA;&#x9;&#x9;&#x9;\'gpt-5.1\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-12-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 300, \'streaming-timeout\': 600, \'extended-timeout\': 900, \'extended-streaming-timeout\': 1800, \'capabilities\': [\'extended-thinking\'], \'circuit-breaker-excluded\': false },&#xD;&#xA;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === O-series Reasoning Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'o3\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 900, \'streaming-timeout\': 1800, \'capabilities\': [\'reasoning\'], \'circuit-breaker-excluded\': true },&#xD;&#xA;&#x9;&#x9;&#x9;\'o4-mini\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 480, \'streaming-timeout\': 960, \'capabilities\': [\'reasoning\'], \'circuit-breaker-excluded\': true },&#xD;&#xA;&#x9;&#x9;&#x9;\'o3-mini\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\', \'timeout\': 480, \'streaming-timeout\': 960, \'capabilities\': [\'reasoning\'], \'circuit-breaker-excluded\': true },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === Serverless Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-llama-3.3\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-05-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-ministral-3b\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === Embeddings Models === */&#xD;&#xA;            \'text-embedding-ada-002\': { \'capacity\':\'embeddings\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-10-21\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;            \'text-embedding-3-large\': { \'capacity\':\'embeddings\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2024-10-21\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-cohere-embed-v3\': { \'capacity\':\'embeddings\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === Phi Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-phi-4\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-phi-4-multimodal-instruct\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-LB-C\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === TimeGen Models === */&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-timegen\': { \'capacity\':\'high\', \'backend\':\'AIWorks-timegen\', \'api-version\':\'2025-01-01-preview\', \'inference-api-version\':\'2024-05-01-preview\', \'access-tier\': \'standard\' },&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;/* === Claude Models (Azure AI Foundry) === */&#xD;&#xA;&#x9;&#x9;&#x9;\'claude-sonnet-4-5\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-D-SWC2\', \'api-version\':\'2023-06-01\', \'inference-api-version\':\'2024-05-01-preview\', \'model-version\':\'NOT_SET\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'claude-opus-4-5\': { \'capacity\':\'premium\', \'backend\':\'AIWorks-API-OAI-D-SWC2\', \'api-version\':\'2023-06-01\', \'inference-api-version\':\'2024-05-01-preview\', \'model-version\':\'NOT_SET\', \'access-tier\': \'standard\' },&#xD;&#xA;&#x9;&#x9;&#x9;\'claude-haiku-4-5\': { \'capacity\':\'high\', \'backend\':\'AIWorks-API-OAI-D-SWC2\', \'api-version\':\'2023-06-01\', \'inference-api-version\':\'2024-05-01-preview\', \'model-version\':\'NOT_SET\', \'access-tier\': \'standard\' }&#xD;&#xA;&#x9;&#x9;},&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* MODEL ALIASES */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Maps standard OpenAI model names to AIWorks equivalents */&#xD;&#xA;        /* Used for compatibility with existing client libraries and frameworks */&#xD;&#xA;    \'model-aliases\': {&#xD;&#xA;            \'aiworks-o3\': \'o3\',&#xD;&#xA;            \'aiworks-o3-mini\': \'o3-mini\',&#xD;&#xA;            \'aiworks-o4-mini\': \'o4-mini\',&#xD;&#xA;            \'aiworks-gpt-4.1\': \'gpt-4.1\',&#xD;&#xA;            \'aiworks-gpt-4.1-nano\': \'gpt-4.1-nano\',&#xD;&#xA;            \'aiworks-gpt4o\': \'gpt4o\',&#xD;&#xA;            \'aiworks-gpt4o-mini\': \'gpt4o-mini\',&#xD;&#xA;            \'aiworks-gpt-5\': \'gpt-5\',&#xD;&#xA;            \'aiworks-gpt-5-mini\': \'gpt-5-mini\',&#xD;&#xA;            \'aiworks-gpt-5-nano\': \'gpt-5-nano\',&#xD;&#xA;            \'aiworks-gpt-5-chat\': \'gpt-5-chat\',&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-text-embedding-3-large\': \'text-embedding-3-large\',&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworks-ada2\': \'text-embedding-ada-002\',&#xD;&#xA;            \'cohere-embed-v3\': \'aiworks-cohere-embed-v3\'&#xD;&#xA;&#x9;&#x9;},&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* API TYPE DEFINITIONS - EXTENDED FOR v4.6 */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Updated backend names to match actual APIM backend services from logs */&#xD;&#xA;        /* This is now the SINGLE SOURCE OF TRUTH for API configuration */&#xD;&#xA;    \'api-types\': {&#xD;&#xA;        /* === TRADITIONAL API TYPES (EXISTING) === */&#xD;&#xA;        \'assistants\': {&#xD;&#xA;            \'base-path\': \'/assistants\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-03-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/assistants\', \'/threads\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'inference\': {&#xD;&#xA;            \'base-path\': \'/models\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2024-05-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/models\'],&#xD;&#xA;            \'timeout\': 180,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'responses\': {&#xD;&#xA;            \'base-path\': \'/responses\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-03-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/responses\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'openai\': {&#xD;&#xA;            \'base-path\': \'/openai\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-01-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/chat\', \'/completions\', \'/embeddings\', \'/deployments\'],&#xD;&#xA;            \'timeout\': 120,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        &#xD;&#xA;        /* === v1 API TYPES WITH SIMPLIFIED VERSIONING === */&#xD;&#xA;        /* NOTE: v1 now aligned with https://learn.microsoft.com/en-us/azure/ai-foundry/openai/api-version-lifecycle?tabs=python */&#xD;&#xA;        \'responses-v1\': {&#xD;&#xA;            \'base-path\': \'/openai/v1/responses\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/openai/v1/responses\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        &#xD;&#xA;        /* ===  ADDITIONAL OPENAI API TYPES === */&#xD;&#xA;        \'vector-stores\': {&#xD;&#xA;            \'base-path\': \'/vector_stores\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-04-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/vector_stores\'],&#xD;&#xA;            \'timeout\': 120,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'conversations\': {&#xD;&#xA;            \'base-path\': \'/v1/conversations\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/conversations\', \'/conversations\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'files-v1\': {&#xD;&#xA;            \'base-path\': \'/v1/files\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/files\'],&#xD;&#xA;            \'timeout\': 600,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false,&#xD;&#xA;            \'max-size\': 8589934592&#xD;&#xA;        },&#xD;&#xA;        \'vector-stores-v1\': {&#xD;&#xA;            \'base-path\': \'/v1/vector_stores\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/vector_stores\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'models-v1\': {&#xD;&#xA;            \'base-path\': \'/v1/models\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/models\'],&#xD;&#xA;            \'timeout\': 60,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'openai-v1\': {&#xD;&#xA;            \'base-path\': \'/openai/v1\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/chat/completions\', \'/v1/embeddings\', \'/v1/completions\'],&#xD;&#xA;            \'timeout\': 120,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'fine-tuning-v1\': {&#xD;&#xA;            \'base-path\': \'/openai/v1/fine_tuning\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/fine_tuning\'],&#xD;&#xA;            \'timeout\': 600,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'evals-v1\': {&#xD;&#xA;            \'base-path\': \'/openai/v1/evals\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            /* Requires aoai-evals:preview header */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/evals\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'fine-tuning-graders-v1\': {&#xD;&#xA;            \'base-path\': \'/openai/v1/fine_tuning/alpha/graders\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            /* v1 API does not require api-version parameter - uses headers for preview features */&#xD;&#xA;            /* Alpha preview feature for fine-tuning graders API */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/v1/fine_tuning/alpha/graders\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        \'uploads\': {&#xD;&#xA;            \'base-path\': \'/uploads\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-04-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/uploads\'],&#xD;&#xA;            \'timeout\': 600,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': false,&#xD;&#xA;            \'max-size\': 8589934592  /* 8GB */&#xD;&#xA;        },&#xD;&#xA;        \'audio\': {&#xD;&#xA;            \'base-path\': \'/audio\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2024-10-21\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/audio/speech\', \'/audio/transcriptions\', \'/audio/translations\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;        \'batch\': {&#xD;&#xA;            \'base-path\': \'/batches\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-LB-C\',&#xD;&#xA;            \'api-version\': \'2025-04-01-preview\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/batches\'],&#xD;&#xA;            \'timeout\': 60,&#xD;&#xA;            \'version-type\': \'traditional\',&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        &#xD;&#xA;        /* === NEW: PROJECTS API TYPE === */&#xD;&#xA;        \'projects\': {&#xD;&#xA;            \'base-path\': \'/api/projects\',&#xD;&#xA;            \'backend\': \'dynamic\',  /* Dynamic backend based on project ID in URL */&#xD;&#xA;            \'api-version\': \'v1\',  /* Azure AI SDK uses simplified version */&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/api/projects\'],&#xD;&#xA;            \'timeout\': 120,&#xD;&#xA;            \'version-type\': \'simplified\',  /* Match SDK\'s api-version=v1 format */&#xD;&#xA;            \'model-in-body\': false&#xD;&#xA;        },&#xD;&#xA;        &#xD;&#xA;        /* === NEW: TIMEGEN API TYPE === */&#xD;&#xA;        \'timegen\': {&#xD;&#xA;            \'base-path\': \'/timegen\',&#xD;&#xA;            \'backend\': \'AIWorks-timegen\',&#xD;&#xA;            \'api-version\': \'v2\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/timegen\'],&#xD;&#xA;            \'timeout\': 300,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        },&#xD;&#xA;&#xD;&#xA;        /* === NEW: ANTHROPIC API TYPE === */&#xD;&#xA;        \'anthropic-v1\': {&#xD;&#xA;            \'base-path\': \'/anthropic/v1\',&#xD;&#xA;            \'backend\': \'AIWorks-API-OAI-D-SWC2\',&#xD;&#xA;            \'api-version\': \'2023-06-01\',&#xD;&#xA;            \'enabled\': true,&#xD;&#xA;            \'path-patterns\': [\'/anthropic/v1/messages\', \'anthropic/v1/messages\', \'/anthropic/\', \'anthropic/\'],&#xD;&#xA;            \'timeout\': 120,&#xD;&#xA;            \'version-type\': \'simplified\',&#xD;&#xA;            \'model-in-body\': true&#xD;&#xA;        }&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* BACKEND SELECTION PRIORITIES - EXTENDED FOR v4.6 */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Defines the priority order for backend selection by API type */&#xD;&#xA;    /* Options: model-specific, api-type, default */&#xD;&#xA;    \'backend-priorities\': {&#xD;&#xA;        /* === Traditional API priorities (existing) === */&#xD;&#xA;        \'assistants\': [\'api-type\'],&#xD;&#xA;        \'inference\': [\'model-specific\', \'api-type\'],&#xD;&#xA;        \'responses\': [\'api-type\'],&#xD;&#xA;        \'openai\': [\'model-specific\', \'api-type\'],&#xD;&#xA;        &#xD;&#xA;        /* === v1 API priorities === */&#xD;&#xA;        \'responses-v1\': [\'api-type\'],&#xD;&#xA;        \'files-v1\': [\'api-type\'],&#xD;&#xA;        \'vector-stores-v1\': [\'api-type\'],&#xD;&#xA;        \'models-v1\': [\'api-type\'],&#xD;&#xA;        \'openai-v1\': [\'model-specific\', \'api-type\'],&#xD;&#xA;        \'fine-tuning-v1\': [\'api-type\'],&#xD;&#xA;        \'fine-tuning-graders-v1\': [\'api-type\'],&#xD;&#xA;        \'evals-v1\': [\'api-type\'],&#xD;&#xA;        \'conversations\': [\'api-type\'],&#xD;&#xA;&#xD;&#xA;        /* ===  Additional API priorities === */&#xD;&#xA;        \'vector-stores\': [\'api-type\'],&#xD;&#xA;        \'uploads\': [\'api-type\'],&#xD;&#xA;        \'audio\': [\'model-specific\', \'api-type\'],&#xD;&#xA;        \'batch\': [\'api-type\'],&#xD;&#xA;        \'projects\': [\'api-type\'],&#xD;&#xA;        \'timegen\': [\'model-specific\', \'api-type\'],&#xD;&#xA;        \'anthropic-v1\': [\'model-specific\', \'api-type\']&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* RATE LIMITING */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Rate limits (requests per minute) by capacity tier */&#xD;&#xA;    \'rate-limits\': {&#xD;&#xA;        \'high\': 120,&#xD;&#xA;        \'premium\': 180,&#xD;&#xA;        \'standard\': 80,&#xD;&#xA;        \'embeddings\': 150,  /* Embeddings-specific rate limit */&#xD;&#xA;        \'private-preview\': 200,  /* Private preview tier with higher limits */&#xD;&#xA;        \'invalid\': 20&#xD;&#xA;    },&#xD;&#xA;&#xD;&#xA;        /* Rate limit exclusions from APIM named value */&#xD;&#xA;        /* Comma-separated list of subscription names/keys to exclude from rate limiting */&#xD;&#xA;        /* Configured via APIM named value: aiworks-exclude-ratelimit */&#xD;&#xA;    \'rate-limit-exclusions\': \'{{aiworks-exclude-ratelimit}}\',&#xD;&#xA;&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* ENDPOINT-SPECIFIC RATE LIMITS */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Operation-specific rate limits for management APIs (requests per minute) */&#xD;&#xA;    /* Used by AIWorks-Rate-Limiting fragment for fine-grained rate control */&#xD;&#xA;    \'endpoint-rate-limits\': {&#xD;&#xA;        \'conversations-create\': 50,      /* Creating conversations - moderate limit */&#xD;&#xA;        \'conversations-read\': 200,       /* Retrieving/listing conversations - higher limit */&#xD;&#xA;        \'files-v1-upload\': 40,          /* Large file uploads - very restrictive */&#xD;&#xA;        \'files-v1-read\': 200,           /* Retrieving file info - moderate limit */&#xD;&#xA;        \'vector-stores-v1\': 100,         /* Vector store operations - default limit */&#xD;&#xA;        \'models-v1\': 10                /* Model listing - low limit */&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;        /* Rate limit multipliers for special cases */&#xD;&#xA;    \'streaming-rate-limit-multiplier\': 3.0,  /* For streaming requests */&#xD;&#xA;    \'responses-streaming-multiplier\': 5.0,   /* For Responses API streaming */&#xD;&#xA;    \'embeddings-multiplier\': 3.0,            /* For embeddings if no explicit limit found */&#xD;&#xA;&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* EXTENDED TIMEOUT CONFIGURATION */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Controls extended timeouts for reasoning models and client overrides */&#xD;&#xA;        /* Supports multi-layer timeout: client header  model-specific  template  api-type */&#xD;&#xA;    \'timeout-config\': {&#xD;&#xA;        /* Client header override settings - allows developers to request extended timeouts */&#xD;&#xA;        \'allow-client-override\': true,           /* Enable X-AIWorks-Timeout header */&#xD;&#xA;        \'max-client-timeout\': 1800,              /* Max 30 min via header */&#xD;&#xA;        \'min-client-timeout\': 60,                /* Min 1 min via header */&#xD;&#xA;&#xD;&#xA;        /* Capabilities that trigger extended timeout eligibility */&#xD;&#xA;        \'extended-timeout-capabilities\': [&#xD;&#xA;            \'reasoning\',           /* Chain-of-thought reasoning (o1, o3) */&#xD;&#xA;            \'extended-thinking\'    /* Extended thinking mode (gpt-5) */&#xD;&#xA;        ],&#xD;&#xA;&#xD;&#xA;        /* Default timeouts by capability (seconds) */&#xD;&#xA;        \'capability-timeouts\': {&#xD;&#xA;            \'reasoning\': { \'base\': 900, \'streaming\': 1800 },         /* 15/30 min */&#xD;&#xA;            \'extended-thinking\': { \'base\': 720, \'streaming\': 1500 }  /* 12/25 min */&#xD;&#xA;        },&#xD;&#xA;&#xD;&#xA;        /* Reasoning effort detection from request body */&#xD;&#xA;        /* Auto-detects reasoning.effort in request and applies appropriate timeout */&#xD;&#xA;        /* Priority: header  reasoning-effort  model-specific  template  capability  api-type */&#xD;&#xA;        \'reasoning-effort-timeouts\': {&#xD;&#xA;            \'low\': { \'base\': 300, \'streaming\': 600 },      /* 5/10 min */&#xD;&#xA;            \'medium\': { \'base\': 600, \'streaming\': 1200 },  /* 10/20 min */&#xD;&#xA;            \'high\': { \'base\': 900, \'streaming\': 1800 }     /* 15/30 min */&#xD;&#xA;        }&#xD;&#xA;    },&#xD;&#xA;&#xD;&#xA;        /* Default model capacity if not specified for a model */&#xD;&#xA;    \'default-model-capacity\': \'standard\',&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* PRODUCT PREFIX CONFIGURATION */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Product prefix configuration for dynamic path handling */&#xD;&#xA;        /* Used to strip prefixes from URLs to make routing work with different base paths */&#xD;&#xA;    \'product-prefixes\': [ &#xD;&#xA;        { \'path\': \'/aiworks-api-2/\', \'length\': 15 },&#xD;&#xA;        { \'path\': \'/ext-aiworks-api-2/\', \'length\': 19 }, &#xD;&#xA;        { \'path\': \'/mytestapi/\', \'length\': 12 } &#xD;&#xA;    ],&#xD;&#xA;    &#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* TRACE LOGGING SETTINGS */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Controls which trace logs are produced and when */&#xD;&#xA;    /* IMPORTANT:  */&#xD;&#xA;    /* - always-trace-sources: Critical operational/audit logs that must never be disabled */&#xD;&#xA;    /* - enable-trace: Controls debug/support traces for troubleshooting */&#xD;&#xA;    \'trace-settings\': {&#xD;&#xA;        \'enable-trace\': true,                /* Global flag to enable/disable SUPPORT/DEBUG tracing */&#xD;&#xA;        &#xD;&#xA;        /* OPERATIONAL TRACES: Critical logs that are ALWAYS enabled for security, billing, and compliance */&#xD;&#xA;        \'always-trace-sources\': [            &#xD;&#xA;        /* BILLING and USAGE - Required for chargeback and usage tracking */&#xD;&#xA;            \'Token-Usage\',                   /* Token consumption logs for billing */&#xD;&#xA;            \'AI-Metric-Token-Usage\',         /* Application Insights metrics for dashboards */&#xD;&#xA;            &#xD;&#xA;        /* === CRITICAL ERRORS (Required for operational monitoring) === */&#xD;&#xA;            \'Policy-Error\',                  /* Critical policy execution failures */&#xD;&#xA;            \'AI-Error\',                      /* AI service operation failures */&#xD;&#xA;            &#xD;&#xA;        /* === PERFORMANCE MONITORING (Required for backend performance analysis) === */&#xD;&#xA;            \'Backend-Timing\',                /* Backend call duration tracking */&#xD;&#xA;            \'Gateway-Timing\',                /* Gateway overhead timing (inbound/outbound) */&#xD;&#xA;&#xD;&#xA;        /* SECURITY and COMPLIANCE - Required for audit trails */&#xD;&#xA;            \'Rate-Limit-Error-Details\',      /* Rate limit violations (security/abuse monitoring) */&#xD;&#xA;            &#xD;&#xA;        /* === FILE OPERATION DEBUGGING (Temporary for troubleshooting) === */&#xD;&#xA;            \'File-Detection-Debug\',          /* File detection pattern debugging */&#xD;&#xA;            \'AzureOpenAI-AssistantFile-Debug\', /* Assistant file handler debugging */&#xD;&#xA;            \'RATE-LIMIT-FILE-EXCLUSION\',     /* Rate limit exclusion debugging */&#xD;&#xA;            \'Auth-Error-Details\',            /* Authentication failures (security audit) */&#xD;&#xA;            \'Dual-Auth-Success\',             /* Dual authentication success (external auth security audit) */&#xD;&#xA;            \'JWT-Auth-Success\',              /* JWT authentication success (role validation audit) */&#xD;&#xA;            \'Content-Filter-Error\',          /* Content filter violations (compliance) */&#xD;&#xA;            \'Security-Context\',              /* Defender for Cloud context injection (when enabled) */&#xD;&#xA;            &#xD;&#xA;        /* === OPERATIONAL MONITORING (Required for service health) === */&#xD;&#xA;            \'Streaming-Rate-Limit\',          /* Streaming-specific rate limit issues */&#xD;&#xA;            \'Endpoint-Rate-Limit\',           /* Endpoint-specific rate limit applications */&#xD;&#xA;            \'Config-Loading-Result\'          /* Configuration loading status */&#xD;&#xA;        ],&#xD;&#xA;        &#xD;&#xA;        /* SUPPORT/DEBUG TRACES: Model-specific trace overrides for troubleshooting */&#xD;&#xA;        /* These respect the global enable-trace flag unless specifically overridden */&#xD;&#xA;        \'model-specific-trace\': {            &#xD;&#xA;            \'aiworks-gpt35\': false,          /* Enable detailed tracing for GPT-3.5 */&#xD;&#xA;            \'aiworks-llama-3.3\': false       /* Enable detailed tracing for Llama 3.3 */&#xD;&#xA;        }&#xD;&#xA;        &#xD;&#xA;        /* NOTE: The following trace sources are SUPPORT/DEBUG traces controlled by enable-trace: */&#xD;&#xA;        /* - REQUEST-ANALYSIS-RESULTS: Request parsing details */&#xD;&#xA;        /* - ROUTE-ANALYSIS-RESULTS: API type detection details   */&#xD;&#xA;        /* - RATE-LIMIT-DEBUG: Rate limit calculation details */&#xD;&#xA;        /* - RATE-LIMIT-KEY: Rate limit key generation */&#xD;&#xA;        /* - Subscription-Key-Detection: Subscription key detection */&#xD;&#xA;        /* - Backend-Selection: Backend selection logic (if present) */&#xD;&#xA;        /* - Config-Test: Configuration validation */&#xD;&#xA;        /* - Model-Debug: Model validation debugging */&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* IP LOGGING CONFIGURATION */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Standardized IP logging settings for consistent observability */&#xD;&#xA;    \'ip-logging\': {&#xD;&#xA;        \'field-name\': \'ClientIP\',           /* Standardized field name */&#xD;&#xA;        \'include-in-request-logs\': true,    /* Include IP in request traces */&#xD;&#xA;        \'include-in-token-logs\': true,      /* Include IP in token usage logs */&#xD;&#xA;        \'include-in-error-logs\': true,      /* Include IP in error logs */&#xD;&#xA;        \'fallback-value\': \'Unknown\'         /* Default value when IP unavailable */&#xD;&#xA;    },&#xD;&#xA;    &#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* AGENT MAPPINGS CONFIGURATION */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Maps agent project prefixes to APIM backend services */&#xD;&#xA;    /* Keys must be lowercase for case-insensitive matching */&#xD;&#xA;    /* Values are the exact APIM backend service names */&#xD;&#xA;    \'agent-mappings\': {&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworkspocfoundry01\': \'AIWorks-aiworkspocfoundry01\',&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworkspocfoundry02\': \'AIWorks-aiworkspocfoundry02\',&#xD;&#xA;&#x9;&#x9;&#x9;\'aiworksdevfoundry03\': \'AIWorks-aiworksdevfoundry03\'&#xD;&#xA;&#x9;&#x9;},&#xD;&#xA;&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* PRODUCT ACCESS CONFIGURATION */&#xD;&#xA;    /* ========================================================================= */&#xD;&#xA;    /* Maps products to tiers and defines model access permissions */&#xD;&#xA;    \'product-access\': {&#xD;&#xA;        /* Configurable private-preview product name */&#xD;&#xA;        \'private-preview-product\': \'AIWorks-API-2A-Private-Preview\',&#xD;&#xA;        \'default-tier\': \'standard\',&#xD;&#xA;        \'product-tiers\': {&#xD;&#xA;            \'AIWorks-API-2A\': { \'tier\': \'standard\', \'description\': \'Standard API key authentication product\' },&#xD;&#xA;            \'AIWorks-API-2A-JWT\': { \'tier\': \'standard\', \'description\': \'JWT bearer token authentication product\' },&#xD;&#xA;            \'AIWorks-API-2A-Private-Preview\': { \'tier\': \'private-preview\', \'description\': \'Private preview with exclusive model access\' }&#xD;&#xA;        }&#xD;&#xA;    },&#xD;&#xA;&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* CACHE CONFIGURATION (v2.0) */&#xD;&#xA;        /* ========================================================================= */&#xD;&#xA;        /* Cross-request caching settings for performance optimization */&#xD;&#xA;    \'cache-settings\': {&#xD;&#xA;        /* Version identifier for cache invalidation */&#xD;&#xA;        /* Increment this to force all cached configs to refresh */&#xD;&#xA;        \'config-version\': \'1.3.2\',  /* Incremented for Anthropic Claude model support */&#xD;&#xA;        &#xD;&#xA;        /* Cache time-to-live in seconds */&#xD;&#xA;        /* Recommended: 300 (5 min) for dev, 3600 (1 hour) for production */&#xD;&#xA;        \'ttl-seconds\': 300,&#xD;&#xA;        &#xD;&#xA;        /* Feature flags for cache behavior */&#xD;&#xA;        \'feature-flags\': {&#xD;&#xA;        /* Enable cross-request caching in APIM memory */&#xD;&#xA;            \'enable-cross-request-cache\': true,  /* Set to false to disable */&#xD;&#xA;            &#xD;&#xA;        /* Header name for cache bypass (for testing/debugging) */&#xD;&#xA;            \'cache-bypass-header\': \'X-Config-Cache-Bypass\'&#xD;&#xA;        }&#xD;&#xA;    }&#xD;&#xA;}&quot;;&#xD;&#xA;}" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Path_Construction 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Path-Construction'
  properties: {
    description: 'AIWorks Defines the Path-Construction configuration'
    value: '<!--\r\nFragment: AIWorks-Path-Construction\r\nVersion: 2.2\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nConstructs the final request path for different API types (OpenAI v1, Responses v1, Assistants v1, and Embeddings).\r\nHandles path rewriting and backend service selection based on routing information.\r\nNow properly reconstructs assistants API paths using extracted IDs (assistant-id, thread-id, run-id, message-id, file-id).\r\nFixed double openai prefix issue for assistants API - uses /openai/assistants (not /openai/v1/assistants).\r\nFixed inference API path detection to handle missing leading slashes - checks for "chat/completions" without requiring "/".\r\n\r\nPATH CONSTRUCTION LOGIC OVERVIEW:\r\nThis fragment is responsible for transforming incoming API request paths into the correct backend paths\r\nthat Azure OpenAI Service expects. The complexity arises from supporting multiple API patterns:\r\n\r\n1. OpenAI v1 API: Traditional /v1/chat/completions, /v1/completions, /v1/embeddings paths\r\n2. Responses API: Both v1 (/v1/responses) and non-v1 (/responses) variants with GET/POST/DELETE operations\r\n3. Assistants API: Complex hierarchical paths with multiple resource types (assistants, threads, runs, messages, files, steps)\r\n4. Inference API: Model-based paths using /models/{operation} pattern\r\n5. TimeGen API: Custom time-series generation API paths\r\n6. Embeddings API: Specialized handling for both OpenAI and inference-style embeddings\r\n\r\nEach API type requires different path transformation logic, backend selection, and header manipulation.\r\nThe fragment uses short variable names (v1o, fp, io, etc.) for efficiency but includes inline documentation\r\nto explain their purpose. All path construction preserves the original request semantics while adapting\r\nto the backend service requirements.\r\n\r\nVARIABLES CONSUMED:\r\n- routing-complete: Whether routing is already done\r\n- is-projects-api: Whether this is a projects API request\r\n- routing-api-type: Type of API (openai-v1, responses-v1, assistants-v1)\r\n- routing-original-path: Original request path\r\n- assistant-id, thread-id, run-id, message-id, file-id: Extracted IDs from Route Analysis\r\n- routing-stripped-path: Stripped request path\r\n- model-id: Selected model ID\r\n- selected-backend: Selected backend service\r\n- selected-api-version: API version to use\r\n- response-id: Response ID for responses API\r\n- assistant-id, thread-id, run-id, message-id, step-id, file-id: Assistants API IDs\r\n- is-submit-tool-outputs, is-run-cancel, is-run-steps, is-threads-runs: Assistants operation flags\r\n- is-embeddings-request: Whether this is an embeddings request\r\n\r\nVARIABLES PRODUCED:\r\n- skip-main-path-construction: Flag to skip main path construction (for projects API)\r\n- v1o: (v1-operation) Operation type for OpenAI v1 API (chat/completions/embeddings)\r\n- fp: (final-path) Final path to use for the backend request\r\n- io: (inference-operation) Operation type for inference requests\r\n- eat: (embeddings-api-type) Embeddings API type (openai/inference)\r\n- rm: (request-method) HTTP request method\r\n- rid: (response-id) Response ID for responses API\r\n- im: (inference-model) Model ID for inference requests\r\n- cp: (constructed-path) Intermediate constructed path\r\n\r\nDEPENDENCIES:\r\n- Requires routing analysis to be completed first (AIWorks-Route-Analysis)\r\n- Backend selection must be done (AIWorks-Backend-Selection)\r\n-->\r\n<fragment fragment-id="AIWorks-Path-Construction">\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-complete&amp;quot;)!=&amp;quot;true&amp;quot;)">\r\n\t\t\t<choose>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Projects API - Skip Main Path Construction      -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-projects-api&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="skip-main-path-construction" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- OpenAI v1 API Path Construction                 -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!--\r\nOPENAI V1 API PATH CONSTRUCTION:\r\nThis section handles traditional OpenAI v1 API requests that follow the pattern:\r\n  - /v1/chat/completions (streaming and non-streaming chat)\r\n  - /v1/completions (legacy text completions)\r\n  - /v1/embeddings (text embeddings generation)\r\n\r\nThe path construction process:\r\n1. Determine operation type from the original or stripped request path\r\n2. Construct the appropriate backend path with /openai/v1/ prefix\r\n3. Update request body to inject model ID if missing\r\n4. Set backend service, rewrite URI, and configure API version\r\n5. Add X-Model-Name header for tracking and logging\r\n\r\nThis ensures compatibility with Azure OpenAI Service backend expectations\r\nwhile supporting both direct v1 paths and paths that have been stripped of prefixes.\r\n-->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;openai-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- v1o = v1-operation (determine operation type from request path) -->\r\n\t\t\t\t\t<set-variable name="v1o" value="@{&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-original-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/chat/completions&amp;quot;) &gt;= 0 || strippedPath.IndexOf(&amp;quot;/chat/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;chat&amp;quot;;&#xD;&#xA;    } else if (originalPath.IndexOf(&amp;quot;/embeddings&amp;quot;) &gt;= 0 || strippedPath.IndexOf(&amp;quot;/embeddings&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;embeddings&amp;quot;;&#xD;&#xA;    } else if (originalPath.IndexOf(&amp;quot;/completions&amp;quot;) &gt;= 0 || strippedPath.IndexOf(&amp;quot;/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;completions&amp;quot;;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;chat&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- fp = final-path (construct the final backend path based on operation type) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;v1o&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (operation == &amp;quot;chat&amp;quot;) {&#xD;&#xA;        return &amp;quot;/openai/v1/chat/completions&amp;quot;;&#xD;&#xA;    } else if (operation == &amp;quot;completions&amp;quot;) {&#xD;&#xA;        return &amp;quot;/openai/v1/completions&amp;quot;;&#xD;&#xA;    } else if (operation == &amp;quot;embeddings&amp;quot;) {&#xD;&#xA;        return &amp;quot;/openai/v1/embeddings&amp;quot;;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;/openai/v1/chat/completions&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- Update request body with model ID (replace gateway alias with actual deployment name) -->\r\n\t\t\t\t\t<set-body>@{\r\n    var body = context.Request.Body.As&amp;lt;string&amp;gt;();\r\n\r\n    if (!string.IsNullOrEmpty(body)) {\r\n        try {\r\n            var requestBody = JObject.Parse(body);\r\n            var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;);\r\n\r\n            // Always replace model with resolved deployment name (model-id contains actual Azure deployment)\r\n            if (!string.IsNullOrEmpty(modelId)) {\r\n                requestBody[&amp;quot;model&amp;quot;] = modelId;\r\n            }\r\n\r\n            return requestBody.ToString();\r\n        } catch {\r\n            return body;\r\n        }\r\n    }\r\n\r\n    return body;\r\n}</set-body>\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Model-Name" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Responses v1 API Path Construction              -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;responses-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- rm = request-method (HTTP request method) -->\r\n\t\t\t\t\t<set-variable name="rm" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-request-method&amp;quot;))" />\r\n\t\t\t\t\t<!-- rid = response-id (Response ID for GET/DELETE operations) -->\r\n\t\t\t\t\t<set-variable name="rid" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;response-id&amp;quot;,&amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<!-- fp = final-path (construct path based on method and response ID) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var method = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rm&amp;quot;);&#xD;&#xA;    var responseId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (!string.IsNullOrEmpty(responseId) &amp;amp;&amp;amp; (method == &amp;quot;GET&amp;quot; || method == &amp;quot;DELETE&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/responses/&amp;quot; + responseId;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;/openai/v1/responses&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- Update request body for POST requests (replace gateway alias with actual deployment name) -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rm&amp;quot;)==&amp;quot;POST&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-body>@{\r\n    var body = context.Request.Body.As&amp;lt;string&amp;gt;();\r\n\r\n    if (!string.IsNullOrEmpty(body)) {\r\n        try {\r\n            var requestBody = JObject.Parse(body);\r\n            var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;);\r\n\r\n            // Always replace model with resolved deployment name (model-id contains actual Azure deployment)\r\n            if (!string.IsNullOrEmpty(modelId)) {\r\n                requestBody[&amp;quot;model&amp;quot;] = modelId;\r\n            }\r\n\r\n            return requestBody.ToString();\r\n        } catch {\r\n            return body;\r\n        }\r\n    }\r\n\r\n    return body;\r\n}</set-body>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Set X-Response-ID header if response ID exists -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Response-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Fine-Tuning v1 API Path Construction            -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Updated to support checkpoint copy paths like:\r\n     /openai/v1/fine_tuning/jobs/{job_id}/checkpoints/{checkpoint_id}/copy\r\n     This handler passes through the entire fine_tuning path structure -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;fine-tuning-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through entire fine_tuning path structure including checkpoints) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    // Pass through entire fine_tuning path structure (includes checkpoints, jobs, etc.)&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;/v1/fine_tuning&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/fine_tuning&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Fine-Tuning Graders v1 API Path Construction    -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Alpha preview feature for fine-tuning graders API\r\n     Handles: /openai/v1/fine_tuning/alpha/graders/ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;fine-tuning-graders-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through graders path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    // If path starts with /v1/fine_tuning/alpha/graders, convert to /openai/v1/fine_tuning/alpha/graders&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;/v1/fine_tuning/alpha/graders&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/fine_tuning/alpha/graders&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Evals v1 API Path Construction                  -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;evals-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through stripped path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    // If path starts with /v1/evals, convert to /openai/v1/evals&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;/v1/evals&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/evals&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Evals API requires "aoai-evals":"preview" header -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Files v1 API Path Construction                  -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;files-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through stripped path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Handle paths without leading slash&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;v1/openai/files&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/files&amp;quot; + strippedPath.Substring(15); // Remove &quot;v1/openai/files&quot; and add back &quot;/openai/v1/files&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;v1/files&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/&amp;quot; + strippedPath; // Add /openai/ prefix&#xD;&#xA;    }&#xD;&#xA;    // Handle paths with leading slash&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/openai/files&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/files&amp;quot; + strippedPath.Substring(16); // Remove &quot;/v1/openai/files&quot; and add back &quot;/openai/v1/files&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/files&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/files&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Vector Stores v1 API Path Construction          -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;vector-stores-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through stripped path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Handle paths without leading slash&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;v1/openai/vector_stores&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/vector_stores&amp;quot; + strippedPath.Substring(23); // Remove &quot;v1/openai/vector_stores&quot; and add back &quot;/openai/v1/vector_stores&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;v1/vector_stores&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/&amp;quot; + strippedPath; // Add /openai/ prefix&#xD;&#xA;    }&#xD;&#xA;    // Handle paths with leading slash&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/openai/vector_stores&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/vector_stores&amp;quot; + strippedPath.Substring(24); // Remove &quot;/v1/openai/vector_stores&quot; and add back &quot;/openai/v1/vector_stores&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/vector_stores&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/vector_stores&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Models v1 API Path Construction                 -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;models-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through stripped path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Handle paths without leading slash&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;v1/openai/models&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/models&amp;quot; + strippedPath.Substring(16); // Remove &quot;v1/openai/models&quot; and add back &quot;/openai/v1/models&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;v1/models&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/&amp;quot; + strippedPath; // Add /openai/ prefix&#xD;&#xA;    }&#xD;&#xA;    // Handle paths with leading slash&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/openai/models&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/models&amp;quot; + strippedPath.Substring(17); // Remove &quot;/v1/openai/models&quot; and add back &quot;/openai/v1/models&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/models&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/models&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Conversations API Path Construction             -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;conversations&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through stripped path to backend) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Handle paths without leading slash&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;v1/openai/conversations&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/conversations&amp;quot; + strippedPath.Substring(23); // Remove &quot;v1/openai/conversations&quot; and add back &quot;/openai/v1/conversations&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;v1/conversations&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/&amp;quot; + strippedPath; // Add /openai/ prefix&#xD;&#xA;    }&#xD;&#xA;    // Handle paths with leading slash&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/openai/conversations&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1/conversations&amp;quot; + strippedPath.Substring(24); // Remove &quot;/v1/openai/conversations&quot; and add back &quot;/openai/v1/conversations&quot;&#xD;&#xA;    }&#xD;&#xA;    else if (strippedPath.StartsWith(&amp;quot;/v1/conversations&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai&amp;quot; + strippedPath;&#xD;&#xA;    } else if (strippedPath.StartsWith(&amp;quot;/conversations&amp;quot;)) {&#xD;&#xA;        return &amp;quot;/openai/v1&amp;quot; + strippedPath;&#xD;&#xA;    }&#xD;&#xA;    return &amp;quot;/openai/v1/conversations&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Assistants API Path Construction (non-v1)       -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;assistants&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (complex path construction for assistants API) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-original-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Extract all IDs from route analysis&#xD;&#xA;    var assistantId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var threadId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var runId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var messageId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;message-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var stepId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;step-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var fileId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;file-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Check for special operations&#xD;&#xA;    var isSubmitToolOutputs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-submit-tool-outputs&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isRunCancel = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-run-cancel&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isRunSteps = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-run-steps&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isThreadsRuns = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-threads-runs&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isContentRequest = originalPath.EndsWith(&amp;quot;/content&amp;quot;, StringComparison.OrdinalIgnoreCase);&#xD;&#xA;&#xD;&#xA;    // Use stripped path to check patterns, remove /openai prefix if present&#xD;&#xA;    var checkPath = strippedPath.StartsWith(&amp;quot;/openai&amp;quot;) ? strippedPath.Substring(7) : strippedPath;&#xD;&#xA;&#xD;&#xA;    // Base prefix for all paths&#xD;&#xA;    var prefix = &amp;quot;/openai&amp;quot;;&#xD;&#xA;&#xD;&#xA;    // Handle special operations first&#xD;&#xA;    if (isThreadsRuns) {&#xD;&#xA;        return prefix + &amp;quot;/threads/runs&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (isSubmitToolOutputs) {&#xD;&#xA;        return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/submit_tool_outputs&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (isRunCancel) {&#xD;&#xA;        return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/cancel&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle assistants paths&#xD;&#xA;    if (checkPath.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(assistantId)) {&#xD;&#xA;            if (checkPath.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;                return !string.IsNullOrEmpty(fileId)&#xD;&#xA;                    ? prefix + &amp;quot;/assistants/&amp;quot; + assistantId + &amp;quot;/files/&amp;quot; + fileId&#xD;&#xA;                    : prefix + &amp;quot;/assistants/&amp;quot; + assistantId + &amp;quot;/files&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return prefix + &amp;quot;/assistants/&amp;quot; + assistantId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/assistants&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle threads paths&#xD;&#xA;    if (checkPath.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(threadId)) {&#xD;&#xA;            if (checkPath.IndexOf(&amp;quot;/runs&amp;quot;) &gt;= 0) {&#xD;&#xA;                if (!string.IsNullOrEmpty(runId)) {&#xD;&#xA;                    if (isRunSteps) {&#xD;&#xA;                        return !string.IsNullOrEmpty(stepId)&#xD;&#xA;                            ? prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/steps/&amp;quot; + stepId&#xD;&#xA;                            : prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/steps&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                    return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId;&#xD;&#xA;                }&#xD;&#xA;                return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            if (checkPath.IndexOf(&amp;quot;/messages&amp;quot;) &gt;= 0) {&#xD;&#xA;                return !string.IsNullOrEmpty(messageId)&#xD;&#xA;                    ? prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages/&amp;quot; + messageId&#xD;&#xA;                    : prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return prefix + &amp;quot;/threads/&amp;quot; + threadId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/threads&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle files paths&#xD;&#xA;    if (checkPath.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(fileId)) {&#xD;&#xA;            return isContentRequest&#xD;&#xA;                ? prefix + &amp;quot;/files/&amp;quot; + fileId + &amp;quot;/content&amp;quot;&#xD;&#xA;                : prefix + &amp;quot;/files/&amp;quot; + fileId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/files&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Default fallback&#xD;&#xA;    return prefix + &amp;quot;/assistants&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Set assistant-specific headers -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Assistant-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Thread-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Run-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Assistants v1 API Path Construction             -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;assistants-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (complex path construction for assistants v1 API) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-original-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Extract all IDs from route analysis&#xD;&#xA;    var assistantId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var threadId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var runId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var messageId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;message-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var stepId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;step-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var fileId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;file-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Check for special operations&#xD;&#xA;    var isSubmitToolOutputs = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-submit-tool-outputs&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isRunCancel = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-run-cancel&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isRunSteps = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-run-steps&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isThreadsRuns = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-threads-runs&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;    var isContentRequest = originalPath.EndsWith(&amp;quot;/content&amp;quot;, StringComparison.OrdinalIgnoreCase);&#xD;&#xA;&#xD;&#xA;    // Base prefix for v1 paths&#xD;&#xA;    var prefix = &amp;quot;/openai/v1&amp;quot;;&#xD;&#xA;&#xD;&#xA;    // Handle special operations first&#xD;&#xA;    if (isThreadsRuns) {&#xD;&#xA;        return prefix + &amp;quot;/threads/runs&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (isSubmitToolOutputs) {&#xD;&#xA;        return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/submit_tool_outputs&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (isRunCancel) {&#xD;&#xA;        return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/cancel&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle assistants paths&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(assistantId)) {&#xD;&#xA;            if (originalPath.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;                return !string.IsNullOrEmpty(fileId)&#xD;&#xA;                    ? prefix + &amp;quot;/assistants/&amp;quot; + assistantId + &amp;quot;/files/&amp;quot; + fileId&#xD;&#xA;                    : prefix + &amp;quot;/assistants/&amp;quot; + assistantId + &amp;quot;/files&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return prefix + &amp;quot;/assistants/&amp;quot; + assistantId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/assistants&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle threads paths&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(threadId)) {&#xD;&#xA;            if (originalPath.IndexOf(&amp;quot;/runs&amp;quot;) &gt;= 0) {&#xD;&#xA;                if (!string.IsNullOrEmpty(runId)) {&#xD;&#xA;                    if (isRunSteps) {&#xD;&#xA;                        return !string.IsNullOrEmpty(stepId)&#xD;&#xA;                            ? prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/steps/&amp;quot; + stepId&#xD;&#xA;                            : prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/steps&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                    return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId;&#xD;&#xA;                }&#xD;&#xA;                return prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            if (originalPath.IndexOf(&amp;quot;/messages&amp;quot;) &gt;= 0) {&#xD;&#xA;                return !string.IsNullOrEmpty(messageId)&#xD;&#xA;                    ? prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages/&amp;quot; + messageId&#xD;&#xA;                    : prefix + &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return prefix + &amp;quot;/threads/&amp;quot; + threadId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/threads&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Handle files paths&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;        if (!string.IsNullOrEmpty(fileId)) {&#xD;&#xA;            return isContentRequest&#xD;&#xA;                ? prefix + &amp;quot;/files/&amp;quot; + fileId + &amp;quot;/content&amp;quot;&#xD;&#xA;                : prefix + &amp;quot;/files/&amp;quot; + fileId;&#xD;&#xA;        }&#xD;&#xA;        return prefix + &amp;quot;/files&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    // Default fallback&#xD;&#xA;    return prefix + &amp;quot;/assistants&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Set assistant-specific headers -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Assistant-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Thread-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Run-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Embeddings API Path Construction                -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Exclude openai-v1 API type to prevent path overwriting for /openai/v1/embeddings -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;)==&amp;quot;true&amp;quot; &amp;amp;&amp;amp; context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)!=&amp;quot;openai-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- io = inference-operation (set to embeddings) -->\r\n\t\t\t\t\t<set-variable name="io" value="embeddings" />\r\n\t\t\t\t\t<!-- eat = embeddings-api-type (determine if inference or openai API type) -->\r\n\t\t\t\t\t<set-variable name="eat" value="@{&#xD;&#xA;    var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;/openai/deployments/&amp;quot;) &gt;= 0 || originalPath.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;openai&amp;quot;;&#xD;&#xA;    } else if (originalPath.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;inference&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return apiType;&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- fp = final-path (construct embeddings path based on API type) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;eat&amp;quot;);&#xD;&#xA;    var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (apiType == &amp;quot;inference&amp;quot;) {&#xD;&#xA;        return &amp;quot;/models/embeddings&amp;quot;;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;/openai/deployments/&amp;quot; + modelId + &amp;quot;/embeddings&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Model-Name" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Responses API Path Construction (non-v1)        -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-responses-api&amp;quot;)==&amp;quot;true&amp;quot;&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;responses&amp;quot;)">\r\n\t\t\t\t\t<!-- rm = request-method (HTTP request method) -->\r\n\t\t\t\t\t<set-variable name="rm" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-request-method&amp;quot;))" />\r\n\t\t\t\t\t<!-- rid = response-id (Response ID for GET/DELETE operations) -->\r\n\t\t\t\t\t<set-variable name="rid" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;response-id&amp;quot;,&amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<!-- fp = final-path (All non-v1 responses API calls go to /openai/responses) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var method = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rm&amp;quot;);&#xD;&#xA;    var responseId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;);&#xD;&#xA;    var basePath = &amp;quot;/openai/responses&amp;quot;; // Always use /openai/responses for non-v1 responses API&#xD;&#xA;&#xD;&#xA;    if (!string.IsNullOrEmpty(responseId) &amp;amp;&amp;amp; (method == &amp;quot;GET&amp;quot; || method == &amp;quot;DELETE&amp;quot;)) {&#xD;&#xA;        return basePath + &amp;quot;/&amp;quot; + responseId;&#xD;&#xA;    } else {&#xD;&#xA;        return basePath;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- Set X-Response-ID header if response ID exists -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Response-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Inference API Path Construction                 -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-inference-api&amp;quot;)==&amp;quot;true&amp;quot;||context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-model-inference-request&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<!-- im = inference-model (model ID for inference requests) -->\r\n\t\t\t\t\t<set-variable name="im" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))" />\r\n\t\t\t\t\t<!-- io = inference-operation (determine operation type from path) -->\r\n\t\t\t\t\t<set-variable name="io" value="@{&#xD;&#xA;    var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-original-path-lower&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;    var isEmbeddings = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;&#xD;&#xA;    if (isEmbeddings) {&#xD;&#xA;        return &amp;quot;embeddings&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;chat/completions&amp;quot;) &gt;= 0 || strippedPath.IndexOf(&amp;quot;chat/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;chat&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (originalPath.EndsWith(&amp;quot;/completions&amp;quot;) || strippedPath.EndsWith(&amp;quot;/completions&amp;quot;) ||&#xD;&#xA;        originalPath == &amp;quot;completions&amp;quot; || strippedPath == &amp;quot;completions&amp;quot;) {&#xD;&#xA;        return &amp;quot;completions&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    if (originalPath.IndexOf(&amp;quot;info&amp;quot;) &gt;= 0 || strippedPath.IndexOf(&amp;quot;info&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;info&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return &amp;quot;chat&amp;quot;;&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- fp = final-path (construct inference path based on operation type) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;io&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (operation == &amp;quot;chat&amp;quot;) {&#xD;&#xA;        return &amp;quot;/models/chat/completions&amp;quot;;&#xD;&#xA;    } else if (operation == &amp;quot;completions&amp;quot;) {&#xD;&#xA;        return &amp;quot;/models/completions&amp;quot;;&#xD;&#xA;    } else if (operation == &amp;quot;embeddings&amp;quot;) {&#xD;&#xA;        return &amp;quot;/models/embeddings&amp;quot;;&#xD;&#xA;    } else if (operation == &amp;quot;info&amp;quot;) {&#xD;&#xA;        return &amp;quot;/models/info&amp;quot;;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;/models/chat/completions&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Model-Name" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;im&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- TimeGen API Path Construction                   -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;timegen&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (strip /timegen prefix from path) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    if (path.StartsWith(&amp;quot;/timegen&amp;quot;)) {&#xD;&#xA;        return path.Substring(8);&#xD;&#xA;    } else {&#xD;&#xA;        return path;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Model-Name" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Anthropic V1 API Path Construction              -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;)==&amp;quot;anthropic-v1&amp;quot;)">\r\n\t\t\t\t\t<!-- fp = final-path (pass through /anthropic/v1/messages) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;    // Backend URL is https://foundryswc901.services.ai.azure.com&#xD;&#xA;    // Service hosts multiple models (/anthropic, /openai, etc.)&#xD;&#xA;    // Send full path: /anthropic/v1/messages&#xD;&#xA;    if (strippedPath.StartsWith(&amp;quot;/anthropic/&amp;quot;)) {&#xD;&#xA;        return strippedPath;  // Pass through as-is&#xD;&#xA;    }&#xD;&#xA;&#xD;&#xA;    return &amp;quot;/anthropic/v1/messages&amp;quot;;  // Default fallback&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- Pass through request body unchanged (native Anthropic format) -->\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- Anthropic v1 API does not use api-version query parameter -->\r\n\t\t\t\t\t<!-- Set Anthropic API version header (required by Anthropic API) -->\r\n\t\t\t\t\t<set-header name="anthropic-version" exists-action="override">\r\n\t\t\t\t\t\t<value>2023-06-01</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<!-- Add tracking headers -->\r\n\t\t\t\t\t<set-header name="X-Model-Name" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Provider" exists-action="override">\r\n\t\t\t\t\t\t<value>anthropic</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<!-- Default/Fallback Path Construction              -->\r\n\t\t\t\t<!-- ================================================ -->\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- cp = constructed-path (intermediate path construction) -->\r\n\t\t\t\t\t<set-variable name="cp" value="@{&#xD;&#xA;    var strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;);&#xD;&#xA;    var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    var isEmbeddings = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;&#xD;&#xA;    if (apiType == &amp;quot;assistants&amp;quot;) {&#xD;&#xA;        // Get extracted IDs from Route Analysis&#xD;&#xA;        var assistantId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        var threadId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        var runId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;run-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        var messageId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;message-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        var fileId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;file-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;        // Strip /openai prefix if present&#xD;&#xA;        var basePath = strippedPath.StartsWith(&amp;quot;/openai&amp;quot;) ? strippedPath.Substring(7) : strippedPath;&#xD;&#xA;&#xD;&#xA;        // Rebuild path with proper IDs&#xD;&#xA;        if (!string.IsNullOrEmpty(assistantId)) {&#xD;&#xA;            // Handle assistant files endpoint&#xD;&#xA;            if (basePath.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;/assistants/&amp;quot; + assistantId + &amp;quot;/files&amp;quot; + (!string.IsNullOrEmpty(fileId) ? &amp;quot;/&amp;quot; + fileId : &amp;quot;&amp;quot;);&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;/assistants/&amp;quot; + assistantId;&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        if (!string.IsNullOrEmpty(threadId)) {&#xD;&#xA;            // Handle runs&#xD;&#xA;            if (!string.IsNullOrEmpty(runId)) {&#xD;&#xA;                // Handle steps endpoint&#xD;&#xA;                if (basePath.IndexOf(&amp;quot;/steps&amp;quot;) &gt;= 0) {&#xD;&#xA;                    return &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId + &amp;quot;/steps&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                return &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs/&amp;quot; + runId;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Handle messages&#xD;&#xA;            if (!string.IsNullOrEmpty(messageId)) {&#xD;&#xA;                return &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages/&amp;quot; + messageId;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Handle messages endpoint&#xD;&#xA;            if (basePath.IndexOf(&amp;quot;/messages&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/messages&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Handle runs endpoint&#xD;&#xA;            if (basePath.IndexOf(&amp;quot;/runs&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;/threads/&amp;quot; + threadId + &amp;quot;/runs&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return &amp;quot;/threads/&amp;quot; + threadId;&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // Handle files endpoint&#xD;&#xA;        if (!string.IsNullOrEmpty(fileId)) {&#xD;&#xA;            return &amp;quot;/files/&amp;quot; + fileId;&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        // Default fallback - preserve original path structure without /openai prefix&#xD;&#xA;        return basePath;&#xD;&#xA;    } else if (isEmbeddings || strippedPath.IndexOf(&amp;quot;/embeddings&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;/deployments/&amp;quot; + modelId + &amp;quot;/embeddings&amp;quot;;&#xD;&#xA;    } else if (strippedPath.IndexOf(&amp;quot;/chat/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;/deployments/&amp;quot; + modelId + &amp;quot;/chat/completions&amp;quot;;&#xD;&#xA;    } else if (strippedPath.IndexOf(&amp;quot;/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;        return &amp;quot;/deployments/&amp;quot; + modelId + &amp;quot;/completions&amp;quot;;&#xD;&#xA;    } else {&#xD;&#xA;        return &amp;quot;/deployments/&amp;quot; + modelId + &amp;quot;/chat/completions&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t\t\t<!-- fp = final-path (add /openai prefix to constructed path) -->\r\n\t\t\t\t\t<set-variable name="fp" value="@{&#xD;&#xA;    var constructedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;    return &amp;quot;/openai&amp;quot; + constructedPath;&#xD;&#xA;}" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;fp&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- v1 API does not use api-version parameter - uses headers for preview features -->\r\n\t\t\t\t\t<!-- Legacy endpoints still require api-version, so only add for non-v1 endpoints -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;-v1&amp;quot;) &amp;lt; 0)">\r\n\t\t\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;)!=&amp;quot;dynamic-projects&amp;quot;)">\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-files-endpoint&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="handle-binary-content" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-projects-api&amp;quot;)!=&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Path_Construction_Extended 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Path-Construction-Extended'
  properties: {
    description: 'AIWorks Defines the Path construction part two configuration'
    value: '<!--\r\nFragment: AIWorks-Path-Construction-Extended\r\nVersion: 1.2.1\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nAdvanced Path Construction for Specialized APIs\r\n\r\nFEATURES:\r\n- Vector Stores API path construction with files and batches\r\n- Uploads API path handling with multipart support\r\n- Audio API (speech, transcriptions, translations)\r\n- Batch API with cancel operations\r\n- Projects API with dynamic agent backend mapping\r\n- Configuration-driven backend selection for Projects API\r\n- APIM V2 compliant implementation\r\n- Conditional execution (only runs if main fragment hasn\'t completed)\r\n\r\nVARIABLES CONSUMED:\r\n- routing-complete: Whether routing has been completed\r\n- is-vector-stores, is-uploads-api, is-audio-api, is-batch-api, is-projects-api: API type flags\r\n- original-path, stripped-path: Request paths\r\n- selected-backend: Selected backend service\r\n- selected-api-version: API version to use\r\n- model-config, config-parsed, config-agent-mappings: Configuration objects\r\n- vector-store-id, file-id, batch-id, upload-id, part-id, project-id, model-id: Resource IDs\r\n- enable-trace: Tracing flag\r\n\r\nVARIABLES PRODUCED:\r\n- routing-complete: Set to true when routing is completed\r\n- final-path: Constructed backend path\r\n- handle-multipart-upload: Flag for multipart uploads\r\n- is-streaming: Streaming flag for audio\r\n- audio-op: Audio operation type\r\n- selected-agent-backend: Backend for projects API\r\n- projects-backend-mapped: Whether backend was mapped\r\n- vsid, vfid, vbid, uid, bid: Short resource ID variables\r\n- Various debug headers (X-Vector-Store-ID, X-Upload-ID, X-Audio-Operation, etc.)\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Path-Construction: Main fragment (must not be routing-complete)\r\n- AIWorks-Route-Analysis: API type detection flags\r\n- AIWorks-Model-Config: Agent mappings configuration\r\n- AIWorks-Request-Analysis: Resource ID extraction\r\n- AIWorks-Backend-Selection: Backend service selection\r\n-->\r\n<fragment fragment-id="AIWorks-Path-Construction-Extended">\r\n\t<choose>\r\n\t\t<!-- Only process if main path construction hasn\'t already handled the request -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;routing-complete&amp;quot;) != &amp;quot;true&amp;quot;)">\r\n\t\t\t<choose>\r\n\t\t\t\t<!-- Vector Stores API -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-vector-stores&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="vsid" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="vfid" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;file-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="vbid" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;batch-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="final-path" value="@{&#xD;&#xA;            var p = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;            var vsid = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vsid&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var vfid = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vfid&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var vbid = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vbid&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            &#xD;&#xA;            if (!string.IsNullOrEmpty(vsid)) {&#xD;&#xA;                if (p.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;                    if (!string.IsNullOrEmpty(vfid)) {&#xD;&#xA;                        return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/files/&amp;quot; + vfid;&#xD;&#xA;                    }&#xD;&#xA;                    return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/files&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                else if (p.IndexOf(&amp;quot;/file_batches&amp;quot;) &gt;= 0) {&#xD;&#xA;                    if (!string.IsNullOrEmpty(vbid)) {&#xD;&#xA;                        if (p.IndexOf(&amp;quot;/cancel&amp;quot;) &gt;= 0) {&#xD;&#xA;                            return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/file_batches/&amp;quot; + vbid + &amp;quot;/cancel&amp;quot;;&#xD;&#xA;                        }&#xD;&#xA;                        else if (p.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) {&#xD;&#xA;                            return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/file_batches/&amp;quot; + vbid + &amp;quot;/files&amp;quot;;&#xD;&#xA;                        }&#xD;&#xA;                        return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/file_batches/&amp;quot; + vbid;&#xD;&#xA;                    }&#xD;&#xA;                    return &amp;quot;/openai/vector_stores/&amp;quot; + vsid + &amp;quot;/file_batches&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                return &amp;quot;/openai/vector_stores/&amp;quot; + vsid;&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;/openai/vector_stores&amp;quot;;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t<!-- Set debug headers -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vsid&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Vector-Store-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vsid&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No vector store ID to add -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- Uploads API -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-uploads-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="uid" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;upload-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="final-path" value="@{&#xD;&#xA;            var p = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;            var uid = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;uid&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            &#xD;&#xA;            if (!string.IsNullOrEmpty(uid)) {&#xD;&#xA;                if (p.IndexOf(&amp;quot;/parts&amp;quot;) &gt;= 0) {&#xD;&#xA;                    return &amp;quot;/openai/uploads/&amp;quot; + uid + &amp;quot;/parts&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                else if (p.IndexOf(&amp;quot;/complete&amp;quot;) &gt;= 0) {&#xD;&#xA;                    return &amp;quot;/openai/uploads/&amp;quot; + uid + &amp;quot;/complete&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                else if (p.IndexOf(&amp;quot;/cancel&amp;quot;) &gt;= 0) {&#xD;&#xA;                    return &amp;quot;/openai/uploads/&amp;quot; + uid + &amp;quot;/cancel&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                return &amp;quot;/openai/uploads/&amp;quot; + uid;&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;/openai/uploads&amp;quot;;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t<!-- Special handling for multipart uploads -->\r\n\t\t\t\t\t<set-variable name="handle-multipart-upload" value="true" />\r\n\t\t\t\t\t<set-header name="X-Upload-Type" exists-action="override">\r\n\t\t\t\t\t\t<value>multipart</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;uid&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Upload-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;uid&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No upload ID to add -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- Audio API -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-audio-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="audio-op" value="@{&#xD;&#xA;            var p = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;            &#xD;&#xA;            if (p.IndexOf(&amp;quot;/speech&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;speech&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            else if (p.IndexOf(&amp;quot;/transcriptions&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;transcriptions&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            else if (p.IndexOf(&amp;quot;/translations&amp;quot;) &gt;= 0) {&#xD;&#xA;                return &amp;quot;translations&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;speech&amp;quot;;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<set-variable name="final-path" value="@{&#xD;&#xA;            var op = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;audio-op&amp;quot;, &amp;quot;speech&amp;quot;);&#xD;&#xA;            return &amp;quot;/openai/audio/&amp;quot; + op;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t<!-- Handle audio streaming for TTS -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;audio-op&amp;quot;) == &amp;quot;speech&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-variable name="is-streaming" value="true" />\r\n\t\t\t\t\t\t\t<set-header name="Accept" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>audio/mpeg</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t<set-header name="X-Audio-Operation" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>text-to-speech</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;audio-op&amp;quot;) == &amp;quot;transcriptions&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-header name="X-Audio-Operation" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>speech-to-text</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;audio-op&amp;quot;) == &amp;quot;translations&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-header name="X-Audio-Operation" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>audio-translation</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- Default audio operation -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Handle model in request body -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Request.Method == &amp;quot;POST&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-body>@{\r\n                var modelId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;, &amp;quot;whisper-1&amp;quot;);\r\n                var audioOp = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;audio-op&amp;quot;, &amp;quot;speech&amp;quot;);\r\n                \r\n                // For TTS, use model from body or default\r\n                if (audioOp == &amp;quot;speech&amp;quot;) {\r\n                    var body = context.Request.Body.As&lt;string&gt;();\r\n                    if (!string.IsNullOrEmpty(body)) {\r\n                        try {\r\n                            var reqBody = JObject.Parse(body);\r\n                            if (reqBody[&amp;quot;model&amp;quot;] == null || string.IsNullOrEmpty(reqBody[&amp;quot;model&amp;quot;].ToString())) {\r\n                                reqBody[&amp;quot;model&amp;quot;] = &amp;quot;tts-1&amp;quot;;\r\n                            }\r\n                            return reqBody.ToString();\r\n                        } catch {\r\n                            return body;\r\n                        }\r\n                    }\r\n                }\r\n                \r\n                // For STT/Translation, form data is handled differently\r\n                return null;\r\n            }</set-body>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No body modification needed for non-POST methods -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- Batch API -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-batch-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="bid" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;batch-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="final-path" value="@{&#xD;&#xA;            var p = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;            var bid = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;bid&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            &#xD;&#xA;            if (!string.IsNullOrEmpty(bid)) {&#xD;&#xA;                if (p.IndexOf(&amp;quot;/cancel&amp;quot;) &gt;= 0) {&#xD;&#xA;                    return &amp;quot;/openai/batches/&amp;quot; + bid + &amp;quot;/cancel&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                return &amp;quot;/openai/batches/&amp;quot; + bid;&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;/openai/batches&amp;quot;;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-backend&amp;quot;))" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<set-query-parameter name="api-version" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;))</value>\r\n\t\t\t\t\t</set-query-parameter>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;bid&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Batch-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;bid&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No batch ID to add -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Batch-Processing" exists-action="override">\r\n\t\t\t\t\t\t<value>true</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- Projects API -->\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-projects-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="project-id" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<!-- Dynamic backend selection using agent-mappings -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<!-- Find matching backend from agent-mappings -->\r\n\t\t\t\t\t\t\t<set-variable name="selected-agent-backend" value="@{&#xD;&#xA;                var projectId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;                var projectIdLower = projectId.ToLower();&#xD;&#xA;                &#xD;&#xA;                try {&#xD;&#xA;                    var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;                    var agentMappings = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-agent-mappings&amp;quot;);&#xD;&#xA;                    &#xD;&#xA;                    // Try to use pre-extracted agent mappings first&#xD;&#xA;                    if (agentMappings != null) {&#xD;&#xA;                        foreach (var mapping in agentMappings.Children&lt;JProperty&gt;()) {&#xD;&#xA;                            var prefix = mapping.Name;&#xD;&#xA;                            if (projectIdLower.IndexOf(prefix) &gt;= 0) {&#xD;&#xA;                                return mapping.Value.ToString();&#xD;&#xA;                            }&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;                    // Fallback to config if cache not available&#xD;&#xA;                    else if (config != null &amp;&amp; config[&amp;quot;agent-mappings&amp;quot;] != null) {&#xD;&#xA;                        foreach (var mapping in config[&amp;quot;agent-mappings&amp;quot;].Children&lt;JProperty&gt;()) {&#xD;&#xA;                            var prefix = mapping.Name;&#xD;&#xA;                            if (projectIdLower.IndexOf(prefix) &gt;= 0) {&#xD;&#xA;                                return mapping.Value.ToString();&#xD;&#xA;                            }&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;                    &#xD;&#xA;                    // No mapping found&#xD;&#xA;                    return &amp;quot;not-found&amp;quot;;&#xD;&#xA;                } catch {&#xD;&#xA;                    return &amp;quot;error&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }" />\r\n\t\t\t\t\t\t\t<!-- Set backend based on mapping result -->\r\n\t\t\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;) != &amp;quot;not-found&amp;quot; &amp;amp;&amp;amp; context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;) != &amp;quot;error&amp;quot;)">\r\n\t\t\t\t\t\t\t\t\t<!-- Use the mapped backend -->\r\n\t\t\t\t\t\t\t\t\t<set-backend-service backend-id="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;))" />\r\n\t\t\t\t\t\t\t\t\t<set-variable name="projects-backend-mapped" value="true" />\r\n\t\t\t\t\t\t\t\t\t<!-- Update selected-backend for proper logging -->\r\n\t\t\t\t\t\t\t\t\t<set-variable name="selected-backend" value="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;))" />\r\n\t\t\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t\t\t<!-- No mapping found - return error -->\r\n\t\t\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t\t\t<set-body>@{\r\n                      var projectId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n                      var status = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;, &amp;quot;not-found&amp;quot;);\r\n                      var message = status == &amp;quot;error&amp;quot; \r\n                          ? &amp;quot;Configuration error while mapping project to backend&amp;quot;\r\n                          : $&amp;quot;No backend mapping found for project: {projectId}. Please ensure the project prefix is configured in agent-mappings.&amp;quot;;\r\n                      \r\n                      return &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;InvalidProject\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot; + message + &amp;quot;\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;project-id\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.RequestId + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n                  }</set-body>\r\n\t\t\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t\t\t</choose>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No project ID found - let request fail with descriptive error -->\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@(&amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;MissingProjectId\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;No project ID found in request path. Expected format: /api/projects/{project-id}/...\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;path\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.RequestId + &amp;quot;\\&amp;quot;}}&amp;quot;)</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-variable name="final-path" value="@{&#xD;&#xA;            var p = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var strippedPath = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;stripped-path&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            &#xD;&#xA;            // Use stripped path if available, otherwise use original path&#xD;&#xA;            var workingPath = !string.IsNullOrEmpty(strippedPath) ? strippedPath : p;&#xD;&#xA;            &#xD;&#xA;            // Extract everything after /api/projects to preserve the full path structure&#xD;&#xA;            // Handle paths both with and without leading slash&#xD;&#xA;            var apiProjectsIndex = workingPath.ToLower().IndexOf(&amp;quot;/api/projects&amp;quot;);&#xD;&#xA;            var apiProjectsLength = 13; // length of &amp;quot;/api/projects&amp;quot;&#xD;&#xA;            &#xD;&#xA;            if (apiProjectsIndex &lt; 0) {&#xD;&#xA;                // Try without leading slash&#xD;&#xA;                apiProjectsIndex = workingPath.ToLower().IndexOf(&amp;quot;api/projects&amp;quot;);&#xD;&#xA;                apiProjectsLength = 12; // length of &amp;quot;api/projects&amp;quot;&#xD;&#xA;            }&#xD;&#xA;            &#xD;&#xA;            if (apiProjectsIndex &gt;= 0) {&#xD;&#xA;                var pathAfterApiProjects = workingPath.Substring(apiProjectsIndex + apiProjectsLength);&#xD;&#xA;                // Azure AI Foundry expects /api/projects, not /openai/projects&#xD;&#xA;                return &amp;quot;/api/projects&amp;quot; + pathAfterApiProjects;&#xD;&#xA;            }&#xD;&#xA;            &#xD;&#xA;            // Fallback if pattern not found&#xD;&#xA;            return &amp;quot;/api/projects&amp;quot;;&#xD;&#xA;        }" />\r\n\t\t\t\t\t<rewrite-uri template="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;))" copy-unmatched-params="true" />\r\n\t\t\t\t\t<!-- Don\'t set api-version for projects API - Azure AI SDK handles this internally -->\r\n\t\t\t\t\t<!-- Removing api-version parameter to match direct SDK behavior -->\r\n\t\t\t\t\t<!-- Set debug headers -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Project-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t<set-header name="X-Projects-Backend" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;, &amp;quot;not-set&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t<set-header name="X-Projects-Backend-Mapped" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;projects-backend-mapped&amp;quot;, &amp;quot;false&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- No project ID headers to add -->\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<set-header name="X-Projects-API" exists-action="override">\r\n\t\t\t\t\t\t<value>true</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Projects-Path-Construction" exists-action="override">\r\n\t\t\t\t\t\t<value>executed</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Final-Path" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;, &amp;quot;not-set&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-variable name="routing-complete" value="true" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Trace logging for extended path construction -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;bool&gt;(&amp;quot;enable-trace&amp;quot;, false) || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-projects-api&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<trace source="PATH-CONSTRUCTION-EXTENDED" severity="information">\r\n\t\t\t\t<message>@{\r\n          var result = &amp;quot;Extended Path Construction | &amp;quot;;\r\n          result = result + &amp;quot;Final-Path: &amp;quot; + context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;final-path&amp;quot;, &amp;quot;not-set&amp;quot;) + &amp;quot; | &amp;quot;;\r\n          result = result + &amp;quot;API-Type: &amp;quot;;\r\n          \r\n          if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-vector-stores&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot;vector-stores&amp;quot;;\r\n          }\r\n          else if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-uploads-api&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot;uploads&amp;quot;;\r\n          }\r\n          else if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-audio-api&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot;audio&amp;quot;;\r\n          }\r\n          else if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-batch-api&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot;batch&amp;quot;;\r\n          }\r\n          else if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-projects-api&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot;projects&amp;quot;;\r\n          }\r\n          else {\r\n              result = result + &amp;quot;none&amp;quot;;\r\n          }\r\n          \r\n          if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;is-projects-api&amp;quot;) == &amp;quot;true&amp;quot;) {\r\n              result = result + &amp;quot; | Project-ID: &amp;quot; + context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;project-id&amp;quot;, &amp;quot;not-set&amp;quot;);\r\n              result = result + &amp;quot; | Backend: &amp;quot; + context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-agent-backend&amp;quot;, &amp;quot;not-set&amp;quot;);\r\n              result = result + &amp;quot; | Mapped: &amp;quot; + context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;projects-backend-mapped&amp;quot;, &amp;quot;false&amp;quot;);\r\n          }\r\n          \r\n          return result;\r\n      }</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Rate_Limiting 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Rate-Limiting'
  properties: {
    description: 'AIWorks Defines the complete Rate Limiting configuration'
    value: '<!--\r\nFragment: AIWorks-Rate-Limiting\r\nVersion: 3.5 - Added subscription exclusion support\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nDescription: Handles rate limiting based on model capacity with special embeddings handling\r\n             Fixed rate limiting for responses/conversations GET/DELETE operations to prevent shared pools\r\n             Supports subscription exclusions via APIM named value (aiworks-exclude-ratelimit)\r\nDependencies: model-config, auth-method, user-id, subscription-key, model-id, api-type, is-streaming, config-rate-limit-exclusions\r\nChanges:\r\n  - v3.5: Added subscription exclusion support via named value\r\n  - v3.4: Fixed critical bug - added missing separators in rate limit key generation to prevent key collisions\r\n  - v3.3: Added HTTP method differentiation for no-model operations (GET/DELETE/POST)\r\n  - v3.3: Extract resource IDs from path for responses/conversations to further separate rate limit pools\r\n  - v3.3: Ensures each user/subscription gets separate rate limits for each operation type\r\n-->\r\n<fragment>\r\n\t<!-- Check if subscription is excluded from rate limiting -->\r\n\t<set-variable name="rate-limit-excluded" value="@{&#xD;&#xA;var exclusionList = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;config-rate-limit-exclusions&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;if (string.IsNullOrEmpty(exclusionList)) {&#xD;&#xA;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;var subName = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;var subKey = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-key&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;// Check if subscription name or key is in the exclusion list (comma-separated)&#xD;&#xA;var exclusions = exclusionList.Split(\',\');&#xD;&#xA;foreach (var exclusion in exclusions) {&#xD;&#xA;&#x9;var trimmed = exclusion.Trim();&#xD;&#xA;&#x9;if (string.IsNullOrEmpty(trimmed)) {&#xD;&#xA;&#x9;&#x9;continue;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;// Match against subscription name or key&#xD;&#xA;&#x9;if (subName.Equals(trimmed, StringComparison.OrdinalIgnoreCase) ||&#xD;&#xA;&#x9;&#x9;subKey.Equals(trimmed, StringComparison.OrdinalIgnoreCase)) {&#xD;&#xA;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Log exclusion check if subscription is excluded -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-excluded&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<trace source="RATE-LIMIT-EXCLUSION" severity="information">\r\n\t\t\t\t<message>@{\r\nvar subName = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;, &amp;quot;unknown&amp;quot;);\r\nvar authMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;, &amp;quot;unknown&amp;quot;);\r\nreturn &amp;quot;Rate limiting skipped for excluded subscription: &amp;quot; + subName + &amp;quot; | Auth: &amp;quot; + authMethod + &amp;quot; | RequestId: &amp;quot; + context.RequestId;\r\n\t\t\t\t}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Check if debug tracing is enabled -->\r\n\t<choose>\r\n\t\t<when condition="@{try{var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);var t=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-trace-settings&amp;quot;);if(c==null){return true;}var s=&amp;quot;RATE-LIMIT-DEBUG&amp;quot;;if(t!=null&amp;amp;&amp;amp;t[&amp;quot;always-trace-sources&amp;quot;]!=null){var a=t[&amp;quot;always-trace-sources&amp;quot;]as JArray;if(a!=null){foreach(var x in a){if(x.ToString()==s){return true;}}}}var g=false;if(t!=null&amp;amp;&amp;amp;t[&amp;quot;enable-trace&amp;quot;]!=null){g=t[&amp;quot;enable-trace&amp;quot;].Value&amp;lt;bool&amp;gt;();}return g;}catch{return true;}}">\r\n\t\t\t<trace source="RATE-LIMIT-DEBUG" severity="information">\r\n\t\t\t\t<message>@{var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;);var u=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,&amp;quot;&amp;quot;);var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;,&amp;quot;unknown&amp;quot;);var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();var c=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity-original&amp;quot;,&amp;quot;not-set&amp;quot;);var t=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();var e=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;,&amp;quot;false&amp;quot;);var ex=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-excluded&amp;quot;,&amp;quot;false&amp;quot;);return &amp;quot;RateLimit|Auth:&amp;quot;+a+&amp;quot;|User:&amp;quot;+u+&amp;quot;|Sub:&amp;quot;+s+&amp;quot;|Model:&amp;quot;+m+&amp;quot;|Capacity:&amp;quot;+c+&amp;quot;|API:&amp;quot;+t+&amp;quot;|Embeddings:&amp;quot;+e+&amp;quot;|Excluded:&amp;quot;+ex;}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Skip rate limiting for excluded subscriptions or file operations -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-excluded&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- Skip rate limiting entirely for excluded subscriptions -->\r\n\t\t\t<set-variable name="rate-limit-remaining" value="999999" />\r\n\t\t\t<set-variable name="rate-limit-limit" value="999999" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Normal rate limiting logic -->\r\n\t\t\t<!-- Skip rate limiting for file operations -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{var p=context.Request.Url.Path;var b=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;handle-binary-content&amp;quot;)==&amp;quot;true&amp;quot;;var f=p.IndexOf(&amp;quot;/files/&amp;quot;)&amp;gt;=0;var a=p.IndexOf(&amp;quot;/files/assistant-&amp;quot;)&amp;gt;=0;var s=p.IndexOf(&amp;quot;/assistant-&amp;quot;)&amp;gt;=0;return b||f||a||s;}">\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@{try{var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);var t=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-trace-settings&amp;quot;);if(c==null){return true;}var s=&amp;quot;RATE-LIMIT-FILE&amp;quot;;if(t!=null&amp;amp;&amp;amp;t[&amp;quot;always-trace-sources&amp;quot;]!=null){var a=t[&amp;quot;always-trace-sources&amp;quot;]as JArray;if(a!=null){foreach(var x in a){if(x.ToString()==s){return true;}}}}var g=false;if(c[&amp;quot;trace-settings&amp;quot;]!=null&amp;amp;&amp;amp;c[&amp;quot;trace-settings&amp;quot;][&amp;quot;enable-trace&amp;quot;]!=null){g=c[&amp;quot;trace-settings&amp;quot;][&amp;quot;enable-trace&amp;quot;].Value&amp;lt;bool&amp;gt;();}return g;}catch{return true;}}">\r\n\t\t\t\t\t\t\t<trace source="RATE-LIMIT-FILE" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@{var p=context.Request.Url.Path;var b=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;handle-binary-content&amp;quot;)==&amp;quot;true&amp;quot;;return &amp;quot;File operation excluded from rate limiting:&amp;quot;+p+&amp;quot;|Binary:&amp;quot;+b;}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Determine model capacity for rate limiting -->\r\n\t\t\t\t\t<set-variable name="model-capacity" value="@{&#xD;&#xA;var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;)==&amp;quot;true&amp;quot;;&#xD;&#xA;var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;var e=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;;&#xD;&#xA;&#xD;&#xA;try{&#xD;&#xA;&#x9;// Embeddings get special capacity&#xD;&#xA;&#x9;if(e){return &amp;quot;embeddings&amp;quot;;}&#xD;&#xA;&#xD;&#xA;&#x9;var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;var md=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-models&amp;quot;);&#xD;&#xA;&#x9;var d=&amp;quot;standard&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;// Get default capacity from config&#xD;&#xA;&#x9;if(c!=null&amp;amp;&amp;amp;c[&amp;quot;default-model-capacity&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;d=c[&amp;quot;default-model-capacity&amp;quot;].ToString();&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Assistants/responses operations get premium capacity&#xD;&#xA;&#x9;if(m==&amp;quot;assistants-no-model-required&amp;quot;||m==&amp;quot;no-model-required&amp;quot;){&#xD;&#xA;&#x9;&#x9;if(a==&amp;quot;assistants&amp;quot;||a==&amp;quot;responses&amp;quot;){return &amp;quot;premium&amp;quot;;}&#xD;&#xA;&#x9;&#x9;else{return &amp;quot;high&amp;quot;;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Check model-specific capacity&#xD;&#xA;&#x9;if(md!=null&amp;amp;&amp;amp;md[m]!=null&amp;amp;&amp;amp;md[m][&amp;quot;capacity&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;return md[m][&amp;quot;capacity&amp;quot;].ToString();&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Check for embedding models by name pattern&#xD;&#xA;&#x9;var o=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-model-name&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;&#x9;if(!string.IsNullOrEmpty(o)&amp;amp;&amp;amp;(o.IndexOf(&amp;quot;embed&amp;quot;)&amp;gt;=0||o.IndexOf(&amp;quot;ada-&amp;quot;)&amp;gt;=0||o.IndexOf(&amp;quot;text-embedding&amp;quot;)&amp;gt;=0)){&#xD;&#xA;&#x9;&#x9;return &amp;quot;embeddings&amp;quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Premium for assistants/responses&#xD;&#xA;&#x9;if(a==&amp;quot;assistants&amp;quot;||a==&amp;quot;responses&amp;quot;){return &amp;quot;premium&amp;quot;;}&#xD;&#xA;&#xD;&#xA;&#x9;return d;&#xD;&#xA;}catch{&#xD;&#xA;&#x9;// Fallback logic&#xD;&#xA;&#x9;if(e){return &amp;quot;embeddings&amp;quot;;}&#xD;&#xA;&#x9;var d=&amp;quot;standard&amp;quot;;&#xD;&#xA;&#x9;try{&#xD;&#xA;&#x9;&#x9;var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;if(c==null){&#xD;&#xA;&#x9;&#x9;&#x9;var cs=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;,&amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;c=JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;if(c!=null&amp;amp;&amp;amp;c[&amp;quot;default-model-capacity&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;d=c[&amp;quot;default-model-capacity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}catch{}&#xD;&#xA;&#x9;return d;&#xD;&#xA;}&#xD;&#xA;            }" />\r\n\t\t\t\t\t<!-- Calculate rate limit based on capacity -->\r\n\t\t\t\t\t<set-variable name="rate-limit" value="@{&#xD;&#xA;var cap=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;,&amp;quot;standard&amp;quot;);&#xD;&#xA;var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;)==&amp;quot;true&amp;quot;;&#xD;&#xA;var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;var h=context.Request.Method.ToUpper();&#xD;&#xA;var p=context.Request.Url.Path.ToLower();&#xD;&#xA;&#xD;&#xA;try{&#xD;&#xA;&#x9;var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;if(c==null){&#xD;&#xA;&#x9;&#x9;var cs=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;,&amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;c=JObject.Parse(cs);&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Default rate limit&#xD;&#xA;&#x9;var d=5;&#xD;&#xA;&#x9;var r=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-rate-limits&amp;quot;);&#xD;&#xA;&#x9;if(r==null&amp;amp;&amp;amp;c!=null){r=c[&amp;quot;rate-limits&amp;quot;]as JObject;}&#xD;&#xA;&#x9;if(r!=null&amp;amp;&amp;amp;r[&amp;quot;standard&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;try{d=r[&amp;quot;standard&amp;quot;].Value&amp;lt;int&amp;gt;();}catch{}&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Check for endpoint-specific rate limits&#xD;&#xA;&#x9;var e=c[&amp;quot;endpoint-rate-limits&amp;quot;]as JObject;&#xD;&#xA;&#x9;if(e!=null){&#xD;&#xA;&#x9;&#x9;string k=null;&#xD;&#xA;&#x9;&#x9;if(a==&amp;quot;conversations&amp;quot;){&#xD;&#xA;&#x9;&#x9;&#x9;if(h==&amp;quot;POST&amp;quot;){k=&amp;quot;conversations-create&amp;quot;;}&#xD;&#xA;&#x9;&#x9;&#x9;else if(h==&amp;quot;GET&amp;quot;){k=&amp;quot;conversations-read&amp;quot;;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;else if(a==&amp;quot;files-v1&amp;quot;){&#xD;&#xA;&#x9;&#x9;&#x9;if(h==&amp;quot;POST&amp;quot;||p.IndexOf(&amp;quot;/upload&amp;quot;)&amp;gt;=0){k=&amp;quot;files-v1-upload&amp;quot;;}&#xD;&#xA;&#x9;&#x9;&#x9;else if(h==&amp;quot;GET&amp;quot;){k=&amp;quot;files-v1-read&amp;quot;;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;else if(a==&amp;quot;vector-stores-v1&amp;quot;){k=&amp;quot;vector-stores-v1&amp;quot;;}&#xD;&#xA;&#x9;&#x9;else if(a==&amp;quot;models-v1&amp;quot;){k=&amp;quot;models-v1&amp;quot;;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;if(!string.IsNullOrEmpty(k)&amp;amp;&amp;amp;e[k]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;return e[k].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Embeddings get their own rate limit&#xD;&#xA;&#x9;if(cap==&amp;quot;embeddings&amp;quot;&amp;amp;&amp;amp;r!=null&amp;amp;&amp;amp;r[&amp;quot;embeddings&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;return r[&amp;quot;embeddings&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Get capacity-based rate limit&#xD;&#xA;&#x9;if(r!=null&amp;amp;&amp;amp;r[cap]!=null){&#xD;&#xA;&#x9;&#x9;var l=r[cap].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Apply streaming multiplier&#xD;&#xA;&#x9;&#x9;if(s){&#xD;&#xA;&#x9;&#x9;&#x9;var sm=3.0;&#xD;&#xA;&#x9;&#x9;&#x9;if(c[&amp;quot;streaming-rate-limit-multiplier&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try{sm=c[&amp;quot;streaming-rate-limit-multiplier&amp;quot;].Value&amp;lt;double&amp;gt;();}catch{}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;// Responses API special multiplier (only for actual streaming)&#xD;&#xA;&#x9;&#x9;&#x9;if((a==&amp;quot;responses&amp;quot;||a==&amp;quot;responses-v1&amp;quot;)&amp;amp;&amp;amp;c[&amp;quot;responses-streaming-multiplier&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try{sm=c[&amp;quot;responses-streaming-multiplier&amp;quot;].Value&amp;lt;double&amp;gt;();}catch{}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;return (int)Math.Ceiling(l*sm);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;return l;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Embeddings multiplier on standard rate&#xD;&#xA;&#x9;if(cap==&amp;quot;embeddings&amp;quot;){&#xD;&#xA;&#x9;&#x9;var sl=d;&#xD;&#xA;&#x9;&#x9;if(r!=null&amp;amp;&amp;amp;r[&amp;quot;standard&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;sl=r[&amp;quot;standard&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;var em=3.0;&#xD;&#xA;&#x9;&#x9;if(c[&amp;quot;embeddings-multiplier&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;try{em=c[&amp;quot;embeddings-multiplier&amp;quot;].Value&amp;lt;double&amp;gt;();}catch{}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;return (int)Math.Ceiling(sl*em);&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;return d;&#xD;&#xA;}catch{&#xD;&#xA;&#x9;// Fallback to default&#xD;&#xA;&#x9;var d=5;&#xD;&#xA;&#x9;try{&#xD;&#xA;&#x9;&#x9;var c=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;if(c==null){&#xD;&#xA;&#x9;&#x9;&#x9;var cs=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;,&amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;c=JObject.Parse(cs);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;var r=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-rate-limits&amp;quot;);&#xD;&#xA;&#x9;&#x9;if(r==null&amp;amp;&amp;amp;c!=null){r=c[&amp;quot;rate-limits&amp;quot;]as JObject;}&#xD;&#xA;&#x9;&#x9;if(r!=null&amp;amp;&amp;amp;r[&amp;quot;standard&amp;quot;]!=null){&#xD;&#xA;&#x9;&#x9;&#x9;d=r[&amp;quot;standard&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}catch{}&#xD;&#xA;&#x9;return d;&#xD;&#xA;}&#xD;&#xA;            }" />\r\n\t\t\t\t\t<!-- Check if embeddings special handling needed -->\r\n\t\t\t\t\t<set-variable name="embeddings-special-handling" value="@{var c=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;,&amp;quot;standard&amp;quot;);var e=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;;if(c==&amp;quot;embeddings&amp;quot;||e){return &amp;quot;true&amp;quot;;}return &amp;quot;false&amp;quot;;}" />\r\n\t\t\t\t\t<!-- Generate rate limit key based on auth method and model -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;embeddings-special-handling&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-key" value="@{&#xD;&#xA;var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;);&#xD;&#xA;var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;if(a==&amp;quot;api-key&amp;quot;){&#xD;&#xA;&#x9;var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-key&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;return &amp;quot;v3-embed-&amp;quot;+m+&amp;quot;-&amp;quot;+s.GetHashCode();&#xD;&#xA;}&#xD;&#xA;else if(a==&amp;quot;jwt&amp;quot;||a==&amp;quot;jwt-passthrough&amp;quot;){&#xD;&#xA;&#x9;var u=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;return &amp;quot;v3-embed-jwt-&amp;quot;+u+&amp;quot;-&amp;quot;+m;&#xD;&#xA;}&#xD;&#xA;return &amp;quot;v3-embed-&amp;quot;+m+&amp;quot;-unknown&amp;quot;;&#xD;&#xA;                    }" />\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-key" value="@{&#xD;&#xA;var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;);&#xD;&#xA;var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;var c=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;,&amp;quot;standard&amp;quot;);&#xD;&#xA;var st=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;)==&amp;quot;true&amp;quot;;&#xD;&#xA;var t=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;var httpMethod=context.Request.Method.ToUpper();&#xD;&#xA;var path=context.Request.Url.Path.ToLower();&#xD;&#xA;&#xD;&#xA;// For operations without specific model - enhance key generation&#xD;&#xA;var em=m;&#xD;&#xA;if(m==&amp;quot;assistants-no-model-required&amp;quot;||m==&amp;quot;no-model-required&amp;quot;){&#xD;&#xA;&#x9;// Include HTTP method to separate GET/DELETE/POST operations&#xD;&#xA;&#x9;em=t+&amp;quot;-&amp;quot;+httpMethod.ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;// For responses API, extract resource ID if present to further differentiate&#xD;&#xA;&#x9;if(t==&amp;quot;responses&amp;quot;||t==&amp;quot;responses-v1&amp;quot;){&#xD;&#xA;&#x9;&#x9;// Extract response ID from path if it exists (e.g., /responses/{id})&#xD;&#xA;&#x9;&#x9;var pathParts=path.Split(\'/\');&#xD;&#xA;&#x9;&#x9;foreach(var part in pathParts){&#xD;&#xA;&#x9;&#x9;&#x9;if(part.StartsWith(&amp;quot;resp_&amp;quot;)){&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Include first 8 chars of response ID to differentiate operations on different resources&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var idPart=part.Length&amp;gt;=8?part.Substring(0,8):&amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;em=em+&amp;quot;-&amp;quot;+idPart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;break;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;// For conversations API, similar handling&#xD;&#xA;&#x9;else if(t==&amp;quot;conversations&amp;quot;){&#xD;&#xA;&#x9;&#x9;var pathParts=path.Split(\'/\');&#xD;&#xA;&#x9;&#x9;foreach(var part in pathParts){&#xD;&#xA;&#x9;&#x9;&#x9;if(part.StartsWith(&amp;quot;conv_&amp;quot;)){&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var idPart=part.Length&amp;gt;=8?part.Substring(0,8):&amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;em=em+&amp;quot;-&amp;quot;+idPart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;break;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;var streamPrefix=st?&amp;quot;stream&amp;quot;:&amp;quot;nostream&amp;quot;;&#xD;&#xA;&#xD;&#xA;if(a==&amp;quot;api-key&amp;quot;){&#xD;&#xA;&#x9;var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-key&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;return &amp;quot;v3-&amp;quot;+c+&amp;quot;-&amp;quot;+em+&amp;quot;-&amp;quot;+t+&amp;quot;-&amp;quot;+streamPrefix+&amp;quot;-&amp;quot;+s.GetHashCode();&#xD;&#xA;}&#xD;&#xA;else if(a==&amp;quot;jwt&amp;quot;||a==&amp;quot;jwt-passthrough&amp;quot;){&#xD;&#xA;&#x9;var u=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,&amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;return &amp;quot;v3-jwt-&amp;quot;+u+&amp;quot;-&amp;quot;+em+&amp;quot;-&amp;quot;+c+&amp;quot;-&amp;quot;+t+&amp;quot;-&amp;quot;+streamPrefix;&#xD;&#xA;}&#xD;&#xA;else{&#xD;&#xA;&#x9;return &amp;quot;v3-&amp;quot;+c+&amp;quot;-&amp;quot;+em+&amp;quot;-&amp;quot;+t+&amp;quot;-&amp;quot;+streamPrefix+&amp;quot;-unknown&amp;quot;;&#xD;&#xA;}&#xD;&#xA;                    }" />\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Trace rate limit key for debugging -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(true)">\r\n\t\t\t\t\t\t\t<!-- Temporarily always trace for debugging -->\r\n\t\t\t\t\t\t\t<trace source="RATE-LIMIT-KEY" severity="information">\r\n\t\t\t\t\t\t\t\t<message>@{var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;);var u=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,&amp;quot;&amp;quot;);var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;).ToLower();var c=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;,&amp;quot;standard&amp;quot;);var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;,&amp;quot;unknown&amp;quot;);var st=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;)==&amp;quot;true&amp;quot;;var t=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);var l=context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;,5);var k=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-key&amp;quot;,&amp;quot;unknown&amp;quot;);return &amp;quot;RATE-LIMIT-KEY|Auth: &amp;quot;+a+&amp;quot;|User: &amp;quot;+u+&amp;quot;|Model-ID: &amp;quot;+m+&amp;quot;|Capacity: &amp;quot;+c+&amp;quot;|Subscription: &amp;quot;+s+&amp;quot;|Stream: &amp;quot;+st+&amp;quot;|Type: &amp;quot;+t+&amp;quot;|Rate-Limit: &amp;quot;+l+&amp;quot;|Key: &amp;quot;+k;}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Apply rate limiting -->\r\n\t\t\t\t\t<rate-limit-by-key calls="@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;,5))" renewal-period="60" counter-key="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-key&amp;quot;,&amp;quot;default-key&amp;quot;))" increment-condition="@(true)" remaining-calls-variable-name="rate-limit-remaining" />\r\n\t\t\t\t\t<!-- Handle rate limit exceeded -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit-remaining&amp;quot;,1)&amp;lt;=0)">\r\n\t\t\t\t\t\t\t<!-- Store values for error response -->\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-model" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;))" />\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-capacity" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-capacity&amp;quot;,&amp;quot;standard&amp;quot;))" />\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-max" value="@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;,5).ToString())" />\r\n\t\t\t\t\t\t\t<set-variable name="rate-limit-api-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;openai&amp;quot;))" />\r\n\t\t\t\t\t\t\t<!-- Log rate limit exceeded -->\r\n\t\t\t\t\t\t\t<trace source="RATE-LIMIT-ERROR" severity="error">\r\n\t\t\t\t\t\t\t\t<message>@{var a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;);var u=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,&amp;quot;&amp;quot;);var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;,&amp;quot;unknown&amp;quot;);var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-model&amp;quot;);var c=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-capacity&amp;quot;);var l=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-max&amp;quot;);var k=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-key&amp;quot;,&amp;quot;unknown&amp;quot;);var ui=(a==&amp;quot;jwt&amp;quot;||a==&amp;quot;jwt-passthrough&amp;quot;)&amp;amp;&amp;amp;!string.IsNullOrEmpty(u)?&amp;quot;|User:&amp;quot;+u:&amp;quot;&amp;quot;;return &amp;quot;RATE-LIMIT-ERROR|Subscription: &amp;quot;+s+ui+&amp;quot;|Model-ID: &amp;quot;+m+&amp;quot;|Capacity: &amp;quot;+c+&amp;quot;|Rate-Limit: &amp;quot;+l+&amp;quot;|Key: &amp;quot;+k;}</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t\t<!-- Return 429 response -->\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="429" reason="Too Many Requests" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="Retry-After" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>60</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-RateLimit-Limit" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-max&amp;quot;))</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-RateLimit-Remaining" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>0</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="X-RateLimit-Reset" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>@(DateTimeOffset.UtcNow.AddSeconds(60).ToUnixTimeSeconds().ToString())</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\nvar m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-model&amp;quot;);\r\nvar l=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-max&amp;quot;);\r\nvar a=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rate-limit-api-type&amp;quot;);\r\nvar msg=&amp;quot;Rate limit exceeded for model: &amp;quot;+m+&amp;quot;. Limit: &amp;quot;+l+&amp;quot; requests per minute.&amp;quot;;\r\n\r\n// Format error based on API type\r\nif(a==&amp;quot;assistants&amp;quot;||a==&amp;quot;responses&amp;quot;){\r\n\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+msg+&amp;quot;\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;rate_limit_error\\&amp;quot;,\\&amp;quot;code\\&amp;quot;:\\&amp;quot;rate_limit_exceeded\\&amp;quot;}}&amp;quot;;\r\n}else{\r\n\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;429\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;&amp;quot;+msg+&amp;quot;\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;rate_limit_error\\&amp;quot;}}&amp;quot;;\r\n}\r\n                        }</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Store remaining calls for response headers -->\r\n\t\t\t\t\t<set-variable name="rate-limit-remaining" value="@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit-remaining&amp;quot;,0).ToString())" />\r\n\t\t\t\t\t<set-variable name="rate-limit-limit" value="@(context.Variables.GetValueOrDefault&amp;lt;int&amp;gt;(&amp;quot;rate-limit&amp;quot;,5).ToString())" />\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</otherwise>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Request_Analysis 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Request-Analysis'
  properties: {
    description: 'AIWorks Defines the complete Request analysis configuration'
    value: '<!--\r\nFragment: AIWorks-Request-Analysis\r\nVersion: 3.7\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nFoundational Request Parsing and Resource Extraction\r\n\r\nFEATURES:\r\n- Request body parsing with JSON validation and binary content detection\r\n- Comprehensive resource ID extraction from URL paths (all API types)\r\n- Streaming detection from request body patterns\r\n- Model name extraction from JSON body\r\n- Special endpoint detection (submit-tool-outputs, cancel, etc.)\r\n- Projects API nested path ID extraction\r\n- Early Projects API detection for JWT pass-through\r\n- API version capture for v1 API passthrough\r\n- Multipart/binary content handling with content-type awareness\r\n- Robust error handling with graceful fallbacks\r\n\r\nVARIABLES CONSUMED:\r\nNone (early-stage fragment receives raw request)\r\n\r\nVARIABLES PRODUCED:\r\n- request-id, original-path, original-path-lower, has-json-body\r\n- is-streaming, request-body-text, parsed-request-body, original-model-name\r\n- assistant-id, thread-id, run-id, step-id, message-id, file-id, response-id\r\n- vector-store-id, upload-id, part-id, batch-id, project-id\r\n- is-submit-tool-outputs, is-run-cancel, projects-api-early-detected\r\n- api-version-in-query, original-api-version, should-validate-model\r\n\r\nDEPENDENCIES:\r\n- None (early-stage fragment - executes first in pipeline)\r\n- Note: v1 API operations now handled by AIWorks-v1-Operations fragment\r\n-->\r\n<fragment fragment-id="AIWorks-Request-Analysis">\r\n\t<!-- Request Identification -->\r\n\t<set-variable name="request-id" value="@(Guid.NewGuid().ToString())" />\r\n\t<set-variable name="original-path" value="@(context.Request.Url.Path)" />\r\n\t<set-variable name="original-path-lower" value="@(context.Request.Url.Path.ToLower())" />\r\n\t<!-- Request Body Parsing -->\r\n\t<set-variable name="has-json-body" value="false" />\r\n\t<set-variable name="is-streaming" value="false" />\r\n\t<choose>\r\n\t\t<when condition="@(context.Request.Method == &amp;quot;GET&amp;quot; || context.Request.Method == &amp;quot;OPTIONS&amp;quot; || context.Request.Method == &amp;quot;DELETE&amp;quot;)">\r\n\t\t\t<set-variable name="request-body-text" value="" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<set-variable name="request-body-text" value="@{&#xD;&#xA;                try {&#xD;&#xA;                    var ct = context.Request.Headers.GetValueOrDefault(&amp;quot;Content-Type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;                    if (ct.IndexOf(&amp;quot;multipart/form-data&amp;quot;) &gt;= 0 || ct.IndexOf(&amp;quot;application/octet-stream&amp;quot;) &gt;= 0) {&#xD;&#xA;                        return &amp;quot;&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                    return context.Request.Body.As&lt;string&gt;(preserveContent: true);&#xD;&#xA;                } catch {&#xD;&#xA;                    return &amp;quot;&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }" />\r\n\t\t\t<!-- JSON Body Validation -->\r\n\t\t\t<set-variable name="has-json-body" value="@{&#xD;&#xA;                var bt = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-body-text&amp;quot;);&#xD;&#xA;                if (string.IsNullOrEmpty(bt)) {&#xD;&#xA;                    return &amp;quot;false&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                try {&#xD;&#xA;                    bt = bt.TrimStart();&#xD;&#xA;                    if ((bt.IndexOf(&amp;quot;{&amp;quot;) == 0 &amp;&amp; bt.LastIndexOf(&amp;quot;}&amp;quot;) == bt.Length - 1) ||&#xD;&#xA;                        (bt.IndexOf(&amp;quot;[&amp;quot;) == 0 &amp;&amp; bt.LastIndexOf(&amp;quot;]&amp;quot;) == bt.Length - 1)) {&#xD;&#xA;                        return &amp;quot;true&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                    return &amp;quot;false&amp;quot;;&#xD;&#xA;                } catch {&#xD;&#xA;                    return &amp;quot;false&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }" />\r\n\t\t\t<!-- Parse JSON Body -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;has-json-body&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="parsed-request-body" value="@{&#xD;&#xA;                        try {&#xD;&#xA;                            return JObject.Parse(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-body-text&amp;quot;));&#xD;&#xA;                        } catch {&#xD;&#xA;                            return new JObject();&#xD;&#xA;                        }&#xD;&#xA;                    }" />\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Streaming Detection -->\r\n\t\t\t<set-variable name="is-streaming" value="@{&#xD;&#xA;                try {&#xD;&#xA;                    var bt = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-body-text&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;                    if (!string.IsNullOrEmpty(bt)) {&#xD;&#xA;                        if (bt.IndexOf(&amp;quot;\\&amp;quot;stream\\&amp;quot;:true&amp;quot;) &gt;= 0 || bt.IndexOf(&amp;quot;\\&amp;quot;stream\\&amp;quot;: true&amp;quot;) &gt;= 0 ||&#xD;&#xA;                            bt.IndexOf(&amp;quot;\\&amp;quot;streaming\\&amp;quot;:true&amp;quot;) &gt;= 0 || bt.IndexOf(&amp;quot;\\&amp;quot;streaming\\&amp;quot;: true&amp;quot;) &gt;= 0) {&#xD;&#xA;                            return &amp;quot;true&amp;quot;;&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;                } catch { }&#xD;&#xA;                return &amp;quot;false&amp;quot;;&#xD;&#xA;            }" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- API Version from Query Parameters -->\r\n\t<set-variable name="api-version-in-query" value="@(context.Request.Url.Query.GetValueOrDefault(&amp;quot;api-version&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t<!-- Early Projects API Detection for JWT Pass-through -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path-lower&amp;quot;, &amp;quot;&amp;quot;).IndexOf(&amp;quot;/api/projects&amp;quot;) &gt;= 0 || &#xD;&#xA;&#x9;&#x9;                   context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path-lower&amp;quot;, &amp;quot;&amp;quot;).IndexOf(&amp;quot;api/projects&amp;quot;) &gt;= 0)">\r\n\t\t\t<set-header name="X-Auth-Mode" exists-action="override">\r\n\t\t\t\t<value>jwt-pt</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-variable name="projects-api-early-detected" value="true" />\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- v1 API: Capture original API version for passthrough -->\r\n\t<set-variable name="original-api-version" value="@{&#xD;&#xA;        var qv = context.Request.Url.Query.GetValueOrDefault(&amp;quot;api-version&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;        if (!string.IsNullOrEmpty(qv)) {&#xD;&#xA;            return qv;&#xD;&#xA;        }&#xD;&#xA;        var path = context.Request.Url.Path.ToLower();&#xD;&#xA;        if (path.IndexOf(&amp;quot;/openai/v1/&amp;quot;) &gt;= 0) {&#xD;&#xA;            return &amp;quot;preview&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;        return &amp;quot;&amp;quot;;&#xD;&#xA;    }" />\r\n\t<!-- Resource ID Extraction -->\r\n\t<set-variable name="extract-ids" value="@{&#xD;&#xA;        var ia = &amp;quot;&amp;quot;; var it = &amp;quot;&amp;quot;; var ifi = &amp;quot;&amp;quot;; var iaf = &amp;quot;&amp;quot;; var ir = &amp;quot;&amp;quot;; var ist = &amp;quot;&amp;quot;; var im = &amp;quot;&amp;quot;; var ire = &amp;quot;&amp;quot;;&#xD;&#xA;        var ivs = &amp;quot;&amp;quot;; var iup = &amp;quot;&amp;quot;; var ib = &amp;quot;&amp;quot;; var ipr = &amp;quot;&amp;quot;; &#xD;&#xA;        var op = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path&amp;quot;);&#xD;&#xA;        &#xD;&#xA;        try {&#xD;&#xA;            // Extract assistant ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/assistants/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/assistants/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 12;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) { &#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ia = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        ia = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    ia = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract thread ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/threads/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/threads/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 9;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        it = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        it = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    it = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract run ID&#xD;&#xA;            if (!string.IsNullOrEmpty(it)) {&#xD;&#xA;                if (op.IndexOf(&amp;quot;/runs/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                    var sp = op.IndexOf(&amp;quot;/runs/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 6;&#xD;&#xA;                    var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                        if (ep &lt; 0) {&#xD;&#xA;                            ir = op.Substring(sp);&#xD;&#xA;                        } else {&#xD;&#xA;                            ir = op.Substring(sp, ep - sp);&#xD;&#xA;                        }&#xD;&#xA;                    } else {&#xD;&#xA;                        ir = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;&#xD;&#xA;                // Extract message ID&#xD;&#xA;                if (op.IndexOf(&amp;quot;/messages/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                    var sp = op.IndexOf(&amp;quot;/messages/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 10;&#xD;&#xA;                    var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                        if (ep &lt; 0) {&#xD;&#xA;                            im = op.Substring(sp);&#xD;&#xA;                        } else {&#xD;&#xA;                            im = op.Substring(sp, ep - sp);&#xD;&#xA;                        }&#xD;&#xA;                    } else {&#xD;&#xA;                        im = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;&#xD;&#xA;                // Extract step ID&#xD;&#xA;                if (!string.IsNullOrEmpty(ir)) {&#xD;&#xA;                    var si = op.IndexOf(&amp;quot;/steps/&amp;quot;, StringComparison.OrdinalIgnoreCase);&#xD;&#xA;                    if (si &gt;= 0) {&#xD;&#xA;                        var sp = si + 7;&#xD;&#xA;                        var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                        if (ep &lt; 0) {&#xD;&#xA;                            ist = op.Substring(sp);&#xD;&#xA;                        } else {&#xD;&#xA;                            ist = op.Substring(sp, ep - sp);&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract file ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/files/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/files/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 7;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ifi = op.Substring(sp);&#xD;&#xA;                } else {&#xD;&#xA;                    ifi = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract response ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/responses/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/responses/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 11;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ire = op.Substring(sp);&#xD;&#xA;                } else {&#xD;&#xA;                    ire = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract vector store ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/vector_stores/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/vector_stores/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 15;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ivs = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        ivs = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    ivs = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract upload ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/uploads/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/uploads/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 9;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        iup = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        iup = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    iup = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract batch ID&#xD;&#xA;            if (op.IndexOf(&amp;quot;/batches/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                var sp = op.IndexOf(&amp;quot;/batches/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 9;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ib = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        ib = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    ib = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            // Extract project ID&#xD;&#xA;            var projectsIndex = -1;&#xD;&#xA;            if (op.IndexOf(&amp;quot;/api/projects/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                projectsIndex = op.IndexOf(&amp;quot;/api/projects/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 14;&#xD;&#xA;            } else if (op.IndexOf(&amp;quot;api/projects/&amp;quot;, StringComparison.OrdinalIgnoreCase) &gt;= 0) {&#xD;&#xA;                projectsIndex = op.IndexOf(&amp;quot;api/projects/&amp;quot;, StringComparison.OrdinalIgnoreCase) + 13;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            if (projectsIndex &gt; 0) {&#xD;&#xA;                var sp = projectsIndex;&#xD;&#xA;                var ep = op.IndexOf(&amp;quot;/&amp;quot;, sp);&#xD;&#xA;                if (ep &lt; 0) {&#xD;&#xA;                    ep = op.IndexOf(&amp;quot;?&amp;quot;, sp);&#xD;&#xA;                    if (ep &lt; 0) {&#xD;&#xA;                        ipr = op.Substring(sp);&#xD;&#xA;                    } else {&#xD;&#xA;                        ipr = op.Substring(sp, ep - sp);&#xD;&#xA;                    }&#xD;&#xA;                } else {&#xD;&#xA;                    ipr = op.Substring(sp, ep - sp);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch { }&#xD;&#xA;&#xD;&#xA;        var result = new JObject();&#xD;&#xA;        result[&amp;quot;assistant-id&amp;quot;] = ia;&#xD;&#xA;        result[&amp;quot;thread-id&amp;quot;] = it;&#xD;&#xA;        result[&amp;quot;file-id&amp;quot;] = ifi;&#xD;&#xA;        result[&amp;quot;assistant-file-id&amp;quot;] = iaf;&#xD;&#xA;        result[&amp;quot;run-id&amp;quot;] = ir;&#xD;&#xA;        result[&amp;quot;step-id&amp;quot;] = ist;&#xD;&#xA;        result[&amp;quot;message-id&amp;quot;] = im;&#xD;&#xA;        result[&amp;quot;response-id&amp;quot;] = ire;&#xD;&#xA;        result[&amp;quot;vector-store-id&amp;quot;] = ivs;&#xD;&#xA;        result[&amp;quot;upload-id&amp;quot;] = iup;&#xD;&#xA;        result[&amp;quot;batch-id&amp;quot;] = ib;&#xD;&#xA;        result[&amp;quot;project-id&amp;quot;] = ipr;&#xD;&#xA;        return result.ToString();&#xD;&#xA;    }" />\r\n\t<!-- Set individual ID variables -->\r\n\t<set-variable name="extracted-ids" value="@{&#xD;&#xA;        try {&#xD;&#xA;            return JObject.Parse(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;extract-ids&amp;quot;, &amp;quot;{}&amp;quot;));&#xD;&#xA;        } catch {&#xD;&#xA;            return new JObject();&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<set-variable name="assistant-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;assistant-id&amp;quot;] != null ? ids[&amp;quot;assistant-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="thread-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;thread-id&amp;quot;] != null ? ids[&amp;quot;thread-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="file-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;file-id&amp;quot;] != null ? ids[&amp;quot;file-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="run-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;run-id&amp;quot;] != null ? ids[&amp;quot;run-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="step-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;step-id&amp;quot;] != null ? ids[&amp;quot;step-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="message-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;message-id&amp;quot;] != null ? ids[&amp;quot;message-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="response-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;response-id&amp;quot;] != null ? ids[&amp;quot;response-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="vector-store-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;vector-store-id&amp;quot;] != null ? ids[&amp;quot;vector-store-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="upload-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;upload-id&amp;quot;] != null ? ids[&amp;quot;upload-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="batch-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;batch-id&amp;quot;] != null ? ids[&amp;quot;batch-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="project-id" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var ids = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;extracted-ids&amp;quot;);&#xD;&#xA;            return ids != null &amp;&amp; ids[&amp;quot;project-id&amp;quot;] != null ? ids[&amp;quot;project-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<!-- Special Endpoint Detection -->\r\n\t<set-variable name="detect-special-endpoints" value="@{&#xD;&#xA;        var isSubmitToolOutputs = &amp;quot;false&amp;quot;; &#xD;&#xA;        var isRunCancel = &amp;quot;false&amp;quot;; &#xD;&#xA;        var isRunSteps = &amp;quot;false&amp;quot;; &#xD;&#xA;        var isThreadsRuns = &amp;quot;false&amp;quot;;&#xD;&#xA;        &#xD;&#xA;        var it = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;thread-id&amp;quot;);&#xD;&#xA;        var ir = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;run-id&amp;quot;);&#xD;&#xA;        var op = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;original-path-lower&amp;quot;);&#xD;&#xA;        var m = context.Request.Method;&#xD;&#xA;        &#xD;&#xA;        if (op.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 || op.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;            if (op.IndexOf(&amp;quot;/threads/runs&amp;quot;) &gt;= 0 &amp;&amp; m == &amp;quot;POST&amp;quot;) { &#xD;&#xA;                isThreadsRuns = &amp;quot;true&amp;quot;; &#xD;&#xA;            }&#xD;&#xA;            if (!string.IsNullOrEmpty(it) &amp;&amp; !string.IsNullOrEmpty(ir)) {&#xD;&#xA;                if (op.IndexOf(&amp;quot;/submit_tool_outputs&amp;quot;) &gt;= 0) { &#xD;&#xA;                    isSubmitToolOutputs = &amp;quot;true&amp;quot;; &#xD;&#xA;                }&#xD;&#xA;                if (op.IndexOf(&amp;quot;/cancel&amp;quot;) &gt;= 0) { &#xD;&#xA;                    isRunCancel = &amp;quot;true&amp;quot;; &#xD;&#xA;                }&#xD;&#xA;                if (op.IndexOf(&amp;quot;/steps&amp;quot;) &gt;= 0) { &#xD;&#xA;                    isRunSteps = &amp;quot;true&amp;quot;; &#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;        &#xD;&#xA;        var result = new JObject();&#xD;&#xA;        result[&amp;quot;is-submit-tool-outputs&amp;quot;] = isSubmitToolOutputs;&#xD;&#xA;        result[&amp;quot;is-run-cancel&amp;quot;] = isRunCancel;&#xD;&#xA;        result[&amp;quot;is-run-steps&amp;quot;] = isRunSteps;&#xD;&#xA;        result[&amp;quot;is-threads-runs&amp;quot;] = isThreadsRuns;&#xD;&#xA;        return result.ToString();&#xD;&#xA;    }" />\r\n\t<set-variable name="special-endpoints" value="@{&#xD;&#xA;        try {&#xD;&#xA;            return JObject.Parse(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;detect-special-endpoints&amp;quot;, &amp;quot;{}&amp;quot;));&#xD;&#xA;        } catch {&#xD;&#xA;            return new JObject();&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<set-variable name="is-submit-tool-outputs" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var endpoints = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;special-endpoints&amp;quot;);&#xD;&#xA;            return endpoints != null &amp;&amp; endpoints[&amp;quot;is-submit-tool-outputs&amp;quot;] != null ? endpoints[&amp;quot;is-submit-tool-outputs&amp;quot;].ToString() : &amp;quot;false&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;false&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<set-variable name="is-run-cancel" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var endpoints = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;special-endpoints&amp;quot;);&#xD;&#xA;            return endpoints != null &amp;&amp; endpoints[&amp;quot;is-run-cancel&amp;quot;] != null ? endpoints[&amp;quot;is-run-cancel&amp;quot;].ToString() : &amp;quot;false&amp;quot;;&#xD;&#xA;        } catch { return &amp;quot;false&amp;quot;; }&#xD;&#xA;    }" />\r\n\t<!-- Model Name Extraction from Request Body -->\r\n\t<set-variable name="original-model-name" value="@{&#xD;&#xA;        var om = &amp;quot;unknown&amp;quot;;&#xD;&#xA;        try {&#xD;&#xA;            if (context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;has-json-body&amp;quot;) == &amp;quot;true&amp;quot;) {&#xD;&#xA;                var pb = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;parsed-request-body&amp;quot;);&#xD;&#xA;                if (pb != null &amp;&amp; pb[&amp;quot;model&amp;quot;] != null) {&#xD;&#xA;                    om = pb[&amp;quot;model&amp;quot;].ToString();&#xD;&#xA;                    return om;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch { }&#xD;&#xA;        return om;&#xD;&#xA;    }" />\r\n\t<!-- Model Validation Flag -->\r\n\t<set-variable name="should-validate-model" value="true" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Resource_Tracking 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Resource-Tracking'
  properties: {
    description: 'AIWorks Defines the Resource-Tracking configuration'
    value: '<!--\r\nFragment: AIWorks-Resource-Tracking\r\nVersion: 1.3\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nUser Experience Enhancement for Deleted Resource Requests\r\n\r\nProvides HTTP-semantically correct responses for recently deleted resources by:\r\n- Returning 410 Gone (not 404 Not Found) during 5-minute post-deletion window\r\n- Distinguishing "was deleted" from "never existed" for better API clarity\r\n- Reducing backend load by caching deletion state temporarily\r\n\r\nIMPORTANT CLARIFICATION:\r\nThis fragment does NOT interact with the Circuit Breaker fragment. It provides\r\nbetter user experience through HTTP semantic correctness (410 vs 404), not\r\nprotection or availability improvements.\r\n\r\nFEATURES:\r\n- HTTP Semantic Correctness: Returns 410 Gone instead of 404 Not Found for recently deleted resources\r\n- 5-Minute Deletion Cache: Maintains in-memory tracking of deleted resource IDs with automatic expiration\r\n- Clear Error Messages: Provides "has been deleted" messages (via ErrorResponse fragment) vs generic "not found"\r\n- Backend Load Reduction: Prevents unnecessary backend calls for recently deleted resources during cache window\r\n- Multi-Resource Support: Handles responses, assistants, and threads resource types\r\n- Two-Phase Processing: Inbound detection + outbound confirmation using processing-section pattern\r\n- Automatic Cleanup: Ticks-based expiration removes entries older than 5 minutes\r\n- Memory Efficient: Bounded growth with automatic expiration prevents unbounded cache growth\r\n\r\nVARIABLES CONSUMED:\r\n- is-responses-api: Whether this is a responses API request\r\n- is-assistants-api: Whether this is an assistants API request\r\n- response-id: Response resource ID\r\n- assistant-id: Assistant resource ID\r\n- thread-id: Thread resource ID\r\n- processing-section: Current processing section (inbound/outbound)\r\n- context.Response.StatusCode: HTTP response status code\r\n\r\nVARIABLES PRODUCED:\r\n- recently-deleted-resources: Tracking of deleted resources\r\n- resource-type: Type of resource (responses, assistants, threads)\r\n- resource-id: Identifier of the resource\r\n- is-recently-deleted: Flag for recently deleted resources\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Route-Analysis: Provides API type detection flags\r\n- AIWorks-Request-Analysis: Provides resource identifier extraction\r\n\r\nCHANGELOG:\r\n- 2025-10-30 19:15: Simplified implementation, corrected documentation to reflect true purpose (UX enhancement, not circuit breaker protection), removed redundant outbound extraction logic\r\n- 2025-10-29 14:23: Fixed linter issues - ticks-based timestamps, escaped && operators, updated version to 1.2\r\n- 2025-10-29 14:15: Migrated to processing-section pattern for consistency with Circuit-Breaker\r\n-->\r\n<fragment fragment-id="AIWorks-Resource-Tracking">\r\n\t<!-- INBOUND PROCESSING SECTION -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;processing-section&amp;quot;) == &amp;quot;inbound&amp;quot;)">\r\n\t\t\t<!-- Initialize tracking for recently deleted resources if not already present -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(!context.Variables.ContainsKey(&amp;quot;recently-deleted-resources&amp;quot;))">\r\n\t\t\t\t\t<set-variable name="recently-deleted-resources" value="@(new JArray())"></set-variable>\r\n\t\t\t\t\t<trace source="Resource-Tracking" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;Initialized tracking for recently deleted resources&amp;quot;)</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Tracking already initialized -->\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Check for expired entries in the deleted resources list (older than 5 minutes) -->\r\n\t\t\t<set-variable name="recently-deleted-resources" value="@{&#xD;&#xA;    try {&#xD;&#xA;        var currentList = context.Variables.GetValueOrDefault&amp;lt;JArray&amp;gt;(&amp;quot;recently-deleted-resources&amp;quot;);&#xD;&#xA;        var newList = new JArray();&#xD;&#xA;        var now = DateTime.UtcNow.Ticks;&#xD;&#xA;        var fiveMinutesInTicks = 3000000000L; // 5 minutes in ticks (5 * 60 * 10000000)&#xD;&#xA;&#xD;&#xA;        foreach (var item in currentList) {&#xD;&#xA;            try {&#xD;&#xA;                var timestampTicks = long.Parse(item[&amp;quot;timestamp&amp;quot;].ToString());&#xD;&#xA;                if (now - timestampTicks &amp;lt;= fiveMinutesInTicks) {&#xD;&#xA;                    newList.Add(item);&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            catch {&#xD;&#xA;                // Skip invalid timestamp entries&#xD;&#xA;            }&#xD;&#xA;        }&#xD;&#xA;&#xD;&#xA;        return newList;&#xD;&#xA;    }&#xD;&#xA;    catch {&#xD;&#xA;        context.Trace(&amp;quot;Resource-Tracking-Error&amp;quot;, &amp;quot;Error cleaning up deleted resources&amp;quot;);&#xD;&#xA;        return new JArray();&#xD;&#xA;    }&#xD;&#xA;}" />\r\n\t\t\t<!-- For DELETE requests to Assistants or Responses APIs, extract resource ID -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;                return context.Request.Method == &amp;quot;DELETE&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;                    (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-responses-api&amp;quot;) == &amp;quot;true&amp;quot; ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-assistants-api&amp;quot;) == &amp;quot;true&amp;quot;);&#xD;&#xA;            }">\r\n\t\t\t\t\t<set-variable name="resource-id" value="@{&#xD;&#xA;            var responseId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;response-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var assistantId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var threadId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var resourceId = &amp;quot;&amp;quot;;&#xD;&#xA;&#xD;&#xA;            if (!string.IsNullOrEmpty(responseId)) {&#xD;&#xA;                resourceId = responseId;&#xD;&#xA;            }&#xD;&#xA;            else if (!string.IsNullOrEmpty(assistantId)) {&#xD;&#xA;                resourceId = assistantId;&#xD;&#xA;            }&#xD;&#xA;            else if (!string.IsNullOrEmpty(threadId)) {&#xD;&#xA;                resourceId = threadId;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return resourceId;&#xD;&#xA;        }"></set-variable>\r\n\t\t\t\t\t<set-variable name="resource-type" value="@{&#xD;&#xA;            var responseId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;response-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var assistantId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;assistant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var threadId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;thread-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var resourceType = &amp;quot;&amp;quot;;&#xD;&#xA;&#xD;&#xA;            if (!string.IsNullOrEmpty(responseId)) {&#xD;&#xA;                resourceType = &amp;quot;response&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            else if (!string.IsNullOrEmpty(assistantId)) {&#xD;&#xA;                resourceType = &amp;quot;assistant&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            else if (!string.IsNullOrEmpty(threadId)) {&#xD;&#xA;                resourceType = &amp;quot;thread&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return resourceType;&#xD;&#xA;        }"></set-variable>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Not a DELETE request or not a relevant API -->\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Set flag for recently deleted resources if this is a GET request -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;                return context.Request.Method == &amp;quot;GET&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;                    (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-responses-api&amp;quot;) == &amp;quot;true&amp;quot; ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9; context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-assistants-api&amp;quot;) == &amp;quot;true&amp;quot;);&#xD;&#xA;            }">\r\n\t\t\t\t\t<set-variable name="is-recently-deleted" value="@{&#xD;&#xA;            var resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;resource-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var resourceType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;resource-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;            if (string.IsNullOrEmpty(resourceId) || string.IsNullOrEmpty(resourceType)) {&#xD;&#xA;                return &amp;quot;false&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            try {&#xD;&#xA;                var deletedResources = context.Variables.GetValueOrDefault&amp;lt;JArray&amp;gt;(&amp;quot;recently-deleted-resources&amp;quot;);&#xD;&#xA;                foreach (var item in deletedResources) {&#xD;&#xA;                    if (item[&amp;quot;id&amp;quot;].ToString() == resourceId &amp;amp;&amp;amp; item[&amp;quot;type&amp;quot;].ToString() == resourceType) {&#xD;&#xA;                        return &amp;quot;true&amp;quot;;&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            catch {&#xD;&#xA;                context.Trace(&amp;quot;Resource-Check-Error&amp;quot;, &amp;quot;Error checking deleted resources&amp;quot;);&#xD;&#xA;            }&#xD;&#xA;&#xD;&#xA;            return &amp;quot;false&amp;quot;;&#xD;&#xA;        }"></set-variable>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Not a GET request or not a relevant API -->\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- OUTBOUND PROCESSING SECTION -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;processing-section&amp;quot;) == &amp;quot;outbound&amp;quot;)">\r\n\t\t\t<!-- Update deleted resources tracking for successful DELETE operations (executed in outbound) -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;                return context.Request.Method == &amp;quot;DELETE&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;context.Response.StatusCode == 200 &amp;amp;&amp;amp;&#xD;&#xA;&#x9;                    (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-responses-api&amp;quot;) == &amp;quot;true&amp;quot; ||&#xD;&#xA;&#x9;                     context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-assistants-api&amp;quot;) == &amp;quot;true&amp;quot;);&#xD;&#xA;            }">\r\n\t\t\t\t\t<set-variable name="recently-deleted-resources" value="@{&#xD;&#xA;            // Resource ID and type were already extracted in inbound phase&#xD;&#xA;            var resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;resource-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            var resourceType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;resource-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;            try {&#xD;&#xA;                var deletedResources = context.Variables.GetValueOrDefault&amp;lt;JArray&amp;gt;(&amp;quot;recently-deleted-resources&amp;quot;, new JArray());&#xD;&#xA;&#xD;&#xA;                // Don\'t add if it\'s empty or already tracked&#xD;&#xA;                if (!string.IsNullOrEmpty(resourceId) &amp;amp;&amp;amp; !string.IsNullOrEmpty(resourceType)) {&#xD;&#xA;                    var alreadyExists = false;&#xD;&#xA;                    foreach (var item in deletedResources) {&#xD;&#xA;                        if (item[&amp;quot;id&amp;quot;].ToString() == resourceId &amp;amp;&amp;amp; item[&amp;quot;type&amp;quot;].ToString() == resourceType) {&#xD;&#xA;                            alreadyExists = true;&#xD;&#xA;                            break;&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;&#xD;&#xA;                    if (!alreadyExists) {&#xD;&#xA;                        var newItem = new JObject();&#xD;&#xA;                        newItem[&amp;quot;id&amp;quot;] = resourceId;&#xD;&#xA;                        newItem[&amp;quot;type&amp;quot;] = resourceType;&#xD;&#xA;                        newItem[&amp;quot;timestamp&amp;quot;] = DateTime.UtcNow.Ticks.ToString();&#xD;&#xA;                        deletedResources.Add(newItem);&#xD;&#xA;&#xD;&#xA;                        context.Trace(&amp;quot;Resource-Tracking&amp;quot;, &amp;quot;Added &amp;quot; + resourceType + &amp;quot; ID \'&amp;quot; + resourceId + &amp;quot;\' to deleted resources tracking&amp;quot;);&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;&#xD;&#xA;                return deletedResources;&#xD;&#xA;            }&#xD;&#xA;            catch {&#xD;&#xA;                context.Trace(&amp;quot;Resource-Tracking-Error&amp;quot;, &amp;quot;Error updating deleted resources&amp;quot;);&#xD;&#xA;                return context.Variables.GetValueOrDefault&amp;lt;JArray&amp;gt;(&amp;quot;recently-deleted-resources&amp;quot;, new JArray());&#xD;&#xA;            }&#xD;&#xA;        }"></set-variable>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Not a successful DELETE operation -->\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Route_Analysis 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Route-Analysis'
  properties: {
    description: 'AIWorks Defines the Route-Analysis configuration'
    value: '<!--\r\nFragment: AIWorks-Route-Analysis\r\nVersion: 5.7\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nAdvanced API Type Detection and Path Management\r\n\r\nDESCRIPTION:\r\nThis fragment is the core routing intelligence for the AIWorks/MaaS 2.5 Unified Gateway.\r\nIt analyzes incoming HTTP requests to determine the API type, extract relevant IDs,\r\nstrip product prefixes, and prepare routing variables for downstream processing.\r\nThe fragment supports over 15 different API types including OpenAI-compatible endpoints,\r\nAzure OpenAI deployments, Assistants API, Responses API, and various v1 endpoints.\r\n\r\nROUTE ANALYSIS PROCESS:\r\n1. Request Information Capture: Store HTTP method and original path\r\n2. Path Stripping: Remove product-specific prefixes (e.g., /aiworks-api-2) to get canonical path\r\n3. API Type Detection: Determine which API service is being called (critical for backend selection)\r\n4. Boolean Flag Generation: Create string-based boolean flags for each API type\r\n5. Operation Type Classification: Identify the specific operation (chat, completions, CRUD, etc.)\r\n6. Model ID Extraction: Extract model identifier from various path patterns\r\n7. ID Extraction: Extract resource IDs (assistant-id, thread-id, file-id, etc.)\r\n8. Conditional Tracing: Enable/disable tracing based on configuration\r\n\r\nAPI TYPE DETECTION STRATEGY:\r\nThe detection follows a strict priority order to prevent false positives:\r\n1. Projects API - Highest priority (always checked first)\r\n2. V1 APIs - New versioned endpoints take precedence over legacy\r\n3. Specialized APIs - Vector stores, uploads, audio, batch, timegen\r\n4. Assistants/Responses - Complex path patterns with multiple detection points\r\n5. OpenAI/Inference - Traditional deployment and model paths\r\n6. Default Fallback - Returns "openai" if no patterns match\r\n\r\nMODEL RESOLUTION WORKFLOW:\r\n1. Check original-model-name from request body (if present)\r\n2. Apply model aliases from configuration\r\n3. Extract from deployment paths (/deployments/{model-id})\r\n4. Extract from models paths (/models/{model-id})\r\n5. Use context-appropriate defaults (tts-1 for speech, whisper-1 for transcription)\r\n6. Return "unknown" if no model can be determined\r\n\r\nVARIABLE ABBREVIATIONS REFERENCE:\r\nTo optimize APIM expression size limits, this fragment uses abbreviated variable names:\r\n- rt-method: routing-method (HTTP request method: GET, POST, PATCH, DELETE)\r\n- rt-op: routing-original-path (original request path before any modifications)\r\n- rt-ol: routing-original-lower (lowercase version of original path for case-insensitive matching)\r\n- rt-sp: routing-stripped-path (path after removing product prefixes)\r\n- rt-at: routing-api-type (detected API type: openai, assistants, responses, etc.)\r\n- rt-ot: routing-operation-type (specific operation: chat, completions, create, retrieve, etc.)\r\n- mc-orig: model-capacity-original (model\'s capacity from configuration)\r\n- hb: has-body (whether request has a JSON body)\r\n- bo: body-object (parsed JSON request body)\r\n- cf: config-full (full configuration object)\r\n- cs: config-string (raw configuration JSON string)\r\n- ma: model-aliases (alias mappings from config)\r\n- ms: models (model definitions from config)\r\n- av: api-version (query parameter api-version)\r\n- ie: is-embeddings (flag for embeddings requests)\r\n\r\nFEATURES:\r\n- Comprehensive API type detection for all supported endpoint types\r\n- Intelligent path prefix stripping based on product configuration\r\n- Model ID extraction from URL patterns (deployments, models paths)\r\n- Model capacity detection and aliasing support\r\n- Boolean flag generation for all API types (assistants, responses, inference, etc.)\r\n- V1 API pattern detection with priority handling\r\n- Embeddings request detection with model capacity analysis\r\n- Advanced operation type classification (chat, completions, embeddings, CRUD)\r\n- File endpoint and assistant file detection\r\n- Conditional tracing with configurable trace sources\r\n- Routing compatibility variable generation\r\n- Audio API operation classification (TTS, STT, translation)\r\n\r\nVARIABLES CONSUMED:\r\n- original-path, model-config, original-model-name, has-json-body\r\n- parsed-request-body, config-parsed, config-api-types, config-models, config-trace-settings\r\n\r\nVARIABLES PRODUCED:\r\n- rt-method, rt-op, rt-ol, rt-sp, stripped-path, rt-at, api-type\r\n- routing-api-type, routing-original-path, routing-original-path-lower, routing-stripped-path\r\n- routing-request-method, is-assistants-api, is-responses-api, is-inference-api\r\n- is-model-inference-request, is-openai-api, is-vector-stores, is-uploads-api\r\n- is-audio-api, is-batch-api, is-projects-api, is-timegen-api, is-v1-api\r\n- is-embeddings-request, is-files-endpoint, is-assistant-file, rt-ot\r\n- routing-operation-type, model-id, mc-orig, model-capacity-original\r\n- assistant-id, thread-id, run-id, message-id, file-id, vector-store-id\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Requires model-config variable with product prefixes, API types, models, and aliases\r\n- AIWorks-Request-Analysis: Uses original-model-name for model resolution\r\n- Optional: config-parsed, config-api-types, config-models, config-trace-settings for optimized performance\r\n-->\r\n<fragment fragment-id="AIWorks-Route-Analysis">\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 1: REQUEST INFORMATION STORAGE                                    -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Capture and store fundamental request information that will be used       -->\r\n\t<!-- throughout the routing analysis process. These variables form the basis   -->\r\n\t<!-- for all subsequent API type detection and routing decisions.             -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- rt-method = routing-method (HTTP request method: GET, POST, PATCH, DELETE, PUT, etc.) -->\r\n\t<!-- This variable stores the HTTP method which is critical for CRUD operation detection -->\r\n\t<set-variable name="rt-method" value="@(context.Request.Method)"></set-variable>\r\n\t<!-- rt-op = routing-original-path (the original request path before any modifications) -->\r\n\t<!-- Falls back to context.Request.Url.Path if original-path variable is not set -->\r\n\t<!-- This preserves the exact path as received from the client -->\r\n\t<set-variable name="rt-op" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-path&amp;quot;,context.Request.Url.Path))"></set-variable>\r\n\t<!-- rt-ol = routing-original-lower (lowercase version of original path) -->\r\n\t<!-- Used for case-insensitive path matching throughout the fragment -->\r\n\t<!-- Many API patterns are detected using lowercase comparison for reliability -->\r\n\t<set-variable name="rt-ol" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;,&amp;quot;&amp;quot;).ToLower())"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 2: PATH STRIPPING AND PREFIX REMOVAL                              -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Remove product-specific prefixes from the request path to get a canonical -->\r\n\t<!-- path that can be matched against API patterns. This is critical because   -->\r\n\t<!-- the same API can be accessed through different product endpoints:         -->\r\n\t<!-- - /aiworks-api-1/v1/chat/completions                                     -->\r\n\t<!-- - /aiworks-api-2/v1/chat/completions                                     -->\r\n\t<!-- - /maas-api-1/v1/chat/completions                                        -->\r\n\t<!-- All resolve to the canonical path: /v1/chat/completions                  -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- rt-sp = routing-stripped-path (path after removing product prefixes) -->\r\n\t<!-- This complex expression handles dynamic prefix stripping based on configuration -->\r\n\t<set-variable name="rt-sp" value="@{&#xD;&#xA;&#x9;&#x9;// Get the original path from the previously stored variable&#xD;&#xA;&#x9;&#x9;var originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Initialize stripped path as the original path (fallback if no stripping needed)&#xD;&#xA;&#x9;&#x9;var strippedPath = originalPath;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;// Attempt to get the parsed configuration object for better performance&#xD;&#xA;&#x9;&#x9;&#x9;var configObject = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// If config-parsed is not available, parse from the raw config string&#xD;&#xA;&#x9;&#x9;&#x9;if (configObject == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;configObject = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Check if product-prefixes are defined in the configuration&#xD;&#xA;&#x9;&#x9;&#x9;if (configObject[&amp;quot;product-prefixes&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var productPrefixes = configObject[&amp;quot;product-prefixes&amp;quot;];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Iterate through each configured product prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;foreach (var prefix in productPrefixes) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Each prefix should have a path property&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (prefix[&amp;quot;path&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var prefixPath = prefix[&amp;quot;path&amp;quot;].ToString();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if the original path contains this prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPath.IndexOf(prefixPath) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;int prefixLength = 0;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Use configured length if specified, otherwise use the path length&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (prefix[&amp;quot;length&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;prefixLength = prefix[&amp;quot;length&amp;quot;].Value&amp;lt;int&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;prefixLength = prefixPath.Length;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Only strip if the path is longer than the prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPath.Length &gt; prefixLength) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Calculate the starting index after the prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var startIndex = originalPath.IndexOf(prefixPath) + prefixLength;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract the path after the prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPath = originalPath.Substring(startIndex);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Ensure the stripped path starts with a forward slash&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!strippedPath.StartsWith(&amp;quot;/&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPath = &amp;quot;/&amp;quot; + strippedPath;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Stop after finding the first matching prefix&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;break;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;// If any error occurs during prefix stripping, use the original path&#xD;&#xA;&#x9;&#x9;&#x9;// This ensures the gateway continues to function even with config issues&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return strippedPath;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Store the stripped path in a more readable variable name for downstream use -->\r\n\t<set-variable name="stripped-path" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;))"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 3: API TYPE DETECTION LOGIC                                       -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- This is the CRITICAL section that determines which API type is being called.\r\n\t     The api-type variable is used throughout the entire gateway pipeline for:\r\n\t     - Backend selection and routing (which Azure OpenAI instance to use)\r\n\t     - Token tracking and billing (different APIs have different token logic)\r\n\t     - Content filter detection (especially important for Responses API)\r\n\t     - Path construction and transformation (each API has unique path patterns)\r\n\r\n\t     Detection Strategy:\r\n\t     - Checks both original path (p) and stripped path (sp) for maximum reliability\r\n\t     - Stripped path removes product prefixes like /aiworks-api-2 or /maas-api-1\r\n\t     - MUST detect v1 API patterns BEFORE older patterns to ensure correct routing\r\n\t     - Responses API detection fixed 2025-09-15 to work with ANY product prefix\r\n\r\n\t     Priority Order (CRITICAL for correct detection):\r\n\t     1. Projects API - Always checked first (highest priority)\r\n\t     2. V1 APIs - New versioned endpoints take precedence over legacy endpoints\r\n\t     3. Specialized APIs - Vector stores, uploads, audio, batch, timegen\r\n\t     4. Assistants/Responses - Complex patterns with multiple detection points\r\n\t     5. OpenAI/Inference - Traditional deployment and model paths\r\n\t     6. Configuration-based - Dynamic patterns from api-types configuration\r\n\t     7. Default Fallback - Returns "openai" if no patterns match.\r\n\t-->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- rt-at = routing-api-type (the detected API type that determines routing behavior) -->\r\n\t<set-variable name="rt-at" value="@{&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;// ===== INITIALIZATION PHASE =====&#xD;&#xA;&#x9;&#x9;&#x9;// Get the original path (lowercase) and stripped path for pattern matching&#xD;&#xA;&#x9;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== CONFIGURATION LOADING PHASE =====&#xD;&#xA;&#x9;&#x9;&#x9;// Attempt to load the parsed configuration for better performance&#xD;&#xA;&#x9;&#x9;&#x9;var configParsed = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// If not available, parse from the raw configuration string&#xD;&#xA;&#x9;&#x9;&#x9;if (configParsed == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(configString) &amp;amp;&amp;amp; configString != &amp;quot;{}&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;configParsed = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Configuration parsing failed - default to OpenAI API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== API TYPES CONFIGURATION LOADING =====&#xD;&#xA;&#x9;&#x9;&#x9;// Load the api-types configuration section&#xD;&#xA;&#x9;&#x9;&#x9;var apiTypesConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-api-types&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// If not cached, extract from main configuration&#xD;&#xA;&#x9;&#x9;&#x9;if (apiTypesConfig == null &amp;amp;&amp;amp; configParsed != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;apiTypesConfig = configParsed[&amp;quot;api-types&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// API types extraction failed - default to OpenAI API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// If no API types configuration found, default to OpenAI&#xD;&#xA;&#x9;&#x9;&#x9;if (apiTypesConfig == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 1: PROJECTS API DETECTION&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Projects API has the highest priority and is always checked first&#xD;&#xA;&#x9;&#x9;&#x9;// Patterns: /api/projects, api/projects (with or without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/api/projects&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;api/projects&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/api/projects&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;api/projects&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;projects&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 2: V1 API PATTERNS&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// NEW v1 API patterns - MUST be detected BEFORE legacy patterns&#xD;&#xA;&#x9;&#x9;&#x9;// These are the newer versioned endpoints that take precedence&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Conversations API (including /v1/openai/conversations and paths without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/conversations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/conversations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/v1/openai/conversations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/openai/conversations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/conversations&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/conversations&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/openai/conversations&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/openai/conversations&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/conversations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/conversations&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;conversations&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Files API (including /v1/openai/files and paths without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/files&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/files&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/v1/openai/files&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/openai/files&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/files&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/files&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/openai/files&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/openai/files&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;files-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Vector Stores API (including /v1/openai/vector_stores and paths without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/vector_stores&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/vector_stores&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/v1/openai/vector_stores&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/openai/vector_stores&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/vector_stores&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/vector_stores&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/openai/vector_stores&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/openai/vector_stores&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;vector-stores-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Models API (including /v1/openai/models and paths without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/models&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/models&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/v1/openai/models&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/openai/models&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/models&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/models&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/openai/models&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/openai/models&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;models-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Responses API&#xD;&#xA;&#x9;&#x9;&#x9;// CRITICAL FIX (2025-09-15): Detect /v1/responses with ANY product prefix&#xD;&#xA;&#x9;&#x9;&#x9;// Works with /aiworks-api-2/v1/responses, /maas-api-1/v1/responses, etc.&#xD;&#xA;&#x9;&#x9;&#x9;// This fix ensures Responses API content filters are properly tracked&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/responses&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;responses-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 3: SPECIALIZED APIS&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// These are specialized services with unique routing requirements&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Vector Stores API (legacy, non-v1)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/vector_stores&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/vector_stores&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;vector-stores&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Uploads API for large file handling&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/uploads&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/uploads&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;uploads&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Audio API (TTS, STT, translations)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/audio/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/audio/&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;audio&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Batch Processing API&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/batches&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/batches&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;batch&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Time Generation API (specialized service)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/timegen&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/timegen&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;timegen&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Anthropic V1 API (Azure AI Foundry hosted Claude models)&#xD;&#xA;&#x9;&#x9;&#x9;// Pattern: /anthropic/v1/messages&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/anthropic/v1/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/anthropic/v1/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/anthropic/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/anthropic/&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;anthropic-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 4: ASSISTANTS API&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Assistants API has complex patterns including file handling&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Assistant file patterns (must be checked before general assistants)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/files/assistant-&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/files/assistant-&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/assistants/files/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/assistants/files/&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;assistants&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// General assistants and threads patterns&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;assistants&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 5: RESPONSES API&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Handle responses API - check v1 patterns first&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Responses patterns (including v1/openai/responses and paths without leading slash)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/v1/openai/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/openai/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/responses&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/responses&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    originalPathLower.StartsWith(&amp;quot;v1/openai/responses&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.StartsWith(&amp;quot;v1/openai/responses&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;responses-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Legacy responses patterns&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/openai/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/openai/responses&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;responses&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// General responses pattern&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/responses&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;responses&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 5.5: V1 OPENAI COMPLETIONS/EMBEDDINGS&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// CRITICAL FIX (2025-10-13): Detect /v1/chat/completions and /v1/embeddings&#xD;&#xA;&#x9;&#x9;&#x9;// These are v1 GA endpoints that do NOT use api-version parameter&#xD;&#xA;&#x9;&#x9;&#x9;// Must be detected BEFORE OpenAI deployments to prevent incorrect routing&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Chat Completions&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/chat/completions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/chat/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Embeddings&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/embeddings&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/embeddings&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Completions (legacy text completions)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/completions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Fine-Tuning Alpha Graders API (must check before general fine-tuning)&#xD;&#xA;&#x9;&#x9;&#x9;// This is an alpha preview feature for fine-tuning graders&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/fine_tuning/alpha/graders&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/fine_tuning/alpha/graders&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;fine-tuning-graders-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Fine-Tuning API (general pattern - must be after graders check)&#xD;&#xA;&#x9;&#x9;&#x9;// Handles all fine-tuning operations including checkpoint copy&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/fine_tuning&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/fine_tuning&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;fine-tuning-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// V1 Evals API (preview feature)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/v1/evals&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/v1/evals&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;evals-v1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 6: OPENAI DEPLOYMENTS&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Traditional Azure OpenAI deployment patterns&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 7: INFERENCE API&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Model-based inference patterns (must verify it\'s actually inference)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Find the position of /models/ in both paths&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var modelsPosition = Math.Max(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;originalPathLower.IndexOf(&amp;quot;/models/&amp;quot;),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPathLower.IndexOf(&amp;quot;/models/&amp;quot;)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for inference-specific endpoints after /models/&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var chatPosition = Math.Max(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;originalPathLower.IndexOf(&amp;quot;/chat/completions&amp;quot;),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPathLower.IndexOf(&amp;quot;/chat/completions&amp;quot;)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var completionsPosition = Math.Max(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;originalPathLower.IndexOf(&amp;quot;/completions&amp;quot;),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPathLower.IndexOf(&amp;quot;/completions&amp;quot;)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var embeddingsPosition = Math.Max(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;originalPathLower.IndexOf(&amp;quot;/embeddings&amp;quot;),&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;strippedPathLower.IndexOf(&amp;quot;/embeddings&amp;quot;)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// If any inference endpoint appears after /models/, it\'s inference API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if ((chatPosition &gt; modelsPosition &amp;amp;&amp;amp; chatPosition &gt;= 0) ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    (completionsPosition &gt; modelsPosition &amp;amp;&amp;amp; completionsPosition &gt;= 0) ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    (embeddingsPosition &gt; modelsPosition &amp;amp;&amp;amp; embeddingsPosition &gt;= 0)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;inference&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 8: API VERSION BASED DETECTION&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Some APIs are determined by the api-version query parameter&#xD;&#xA;&#x9;&#x9;&#x9;var apiVersion = context.Request.Url.Query.GetValueOrDefault(&amp;quot;api-version&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(apiVersion)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// 2025-03-01-preview indicates newer assistants/responses&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (apiVersion == &amp;quot;2025-03-01-preview&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/assistants&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/threads&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;assistants&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/responses&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/responses&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;responses&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// 2024-05-01-preview indicates inference API&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (apiVersion == &amp;quot;2024-05-01-preview&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;inference&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// PRIORITY 9: CONFIGURATION-BASED DETECTION&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// Check dynamic API types from configuration&#xD;&#xA;&#x9;&#x9;&#x9;foreach (var apiTypeProperty in apiTypesConfig.Children&amp;lt;JProperty&amp;gt;()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var typeName = apiTypeProperty.Name;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var typeConfig = apiTypeProperty.Value;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Skip disabled API types&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (typeConfig[&amp;quot;enabled&amp;quot;] != null &amp;amp;&amp;amp; !typeConfig[&amp;quot;enabled&amp;quot;].Value&amp;lt;bool&amp;gt;()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;continue;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check path patterns&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (typeConfig[&amp;quot;path-patterns&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var pathPatterns = typeConfig[&amp;quot;path-patterns&amp;quot;];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var pattern in pathPatterns.Children&amp;lt;JValue&amp;gt;()) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var patternString = pattern.ToString();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if pattern matches either path&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(patternString) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(patternString) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return typeName;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check base path&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (typeConfig[&amp;quot;base-path&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var basePath = typeConfig[&amp;quot;base-path&amp;quot;].ToString();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(basePath) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(basePath) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return typeName;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// DEFAULT FALLBACK&#xD;&#xA;&#x9;&#x9;&#x9;// ========================================&#xD;&#xA;&#x9;&#x9;&#x9;// If no patterns match, default to OpenAI API&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;// Any unexpected error - default to OpenAI API for safety&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;openai&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}" />\r\n\t<!-- Store the detected API type in a standard variable name -->\r\n\t<set-variable name="api-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;))"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 4: ROUTING COMPATIBILITY VARIABLES                                -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- These variables provide compatibility with other fragments that expect    -->\r\n\t<!-- specific variable names for routing decisions. They duplicate the short   -->\r\n\t<!-- variable names with more descriptive names for better readability.       -->\r\n\t<!-- ========================================================================== -->\r\n\t<set-variable name="routing-api-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;))"></set-variable>\r\n\t<set-variable name="routing-original-path" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;))"></set-variable>\r\n\t<set-variable name="routing-original-path-lower" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;))"></set-variable>\r\n\t<set-variable name="routing-stripped-path" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;))"></set-variable>\r\n\t<set-variable name="routing-request-method" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-method&amp;quot;))"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 5: BOOLEAN API FLAGS GENERATION                                   -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Generate string-based boolean flags for each API type. These flags use    -->\r\n\t<!-- strings ("true"/"false") instead of actual booleans to prevent APIM V2    -->\r\n\t<!-- type conversion issues that can cause 500 errors in production.          -->\r\n\t<!-- Each flag enables conditional logic in downstream fragments.              -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Flag for Assistants API (threads, assistants, runs, messages) -->\r\n\t<set-variable name="is-assistants-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;assistants&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Responses API (both legacy and v1 versions) -->\r\n\t<set-variable name="is-responses-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;responses&amp;quot; || apiType == &amp;quot;responses-v1&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Inference API (model-based completions) -->\r\n\t<set-variable name="is-inference-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;inference&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Duplicate flag for inference (compatibility with older fragments) -->\r\n\t<set-variable name="is-model-inference-request" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;inference&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for traditional OpenAI API (deployment-based) -->\r\n\t<set-variable name="is-openai-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;openai&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Vector Stores API -->\r\n\t<set-variable name="is-vector-stores" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;vector-stores&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Uploads API -->\r\n\t<set-variable name="is-uploads-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;uploads&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Audio API (TTS, STT, translations) -->\r\n\t<set-variable name="is-audio-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;audio&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Batch Processing API -->\r\n\t<set-variable name="is-batch-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;batch&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Projects API -->\r\n\t<set-variable name="is-projects-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;projects&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Time Generation API -->\r\n\t<set-variable name="is-timegen-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;timegen&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for Anthropic V1 API -->\r\n\t<set-variable name="is-anthropic-v1-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType == &amp;quot;anthropic-v1&amp;quot;) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Flag for any V1 API (checks for -v1 suffix in API type) -->\r\n\t<set-variable name="is-v1-api" value="@{&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;return (apiType.IndexOf(&amp;quot;-v1&amp;quot;) &gt;= 0) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 6: EMBEDDINGS DETECTION                                           -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Detect if this is an embeddings request through multiple strategies:      -->\r\n\t<!-- 1. URL path contains /embeddings                                         -->\r\n\t<!-- 2. Request body contains model with embeddings capacity                  -->\r\n\t<!-- 3. Model name patterns (embedding, embed, ada)                           -->\r\n\t<!-- This is critical for proper routing to embeddings-capable backends.      -->\r\n\t<!-- ========================================================================== -->\r\n\t<set-variable name="is-embeddings-request" value="@{&#xD;&#xA;&#x9;&#x9;// Get the detected API type&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Certain API types are never embeddings&#xD;&#xA;&#x9;&#x9;if (apiType == &amp;quot;responses&amp;quot; || apiType == &amp;quot;assistants&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;responses-v1&amp;quot; || apiType == &amp;quot;vector-stores&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;uploads&amp;quot; || apiType == &amp;quot;batch&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;projects&amp;quot; || apiType == &amp;quot;audio&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;timegen&amp;quot; || apiType == &amp;quot;anthropic-v1&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Get paths for pattern matching&#xD;&#xA;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;// ===== STRATEGY 1: Path-based detection =====&#xD;&#xA;&#x9;&#x9;&#x9;// Check if the URL contains /embeddings&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/embeddings&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/embeddings&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== STRATEGY 2: Request body analysis =====&#xD;&#xA;&#x9;&#x9;&#x9;// Check if we have a JSON body to analyze&#xD;&#xA;&#x9;&#x9;&#x9;var hasBody = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-json-body&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (hasBody == &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var bodyObject = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;parsed-request-body&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check if body has \'input\' field (required for embeddings)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (bodyObject != null &amp;amp;&amp;amp; bodyObject[&amp;quot;input&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if model is specified&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (bodyObject[&amp;quot;model&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelName = bodyObject[&amp;quot;model&amp;quot;].ToString().ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Load configuration for model capacity checking&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configParsed = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (configParsed == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;configParsed = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Get models configuration&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelsConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-models&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelsConfig == null &amp;amp;&amp;amp; configParsed != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelsConfig = configParsed[&amp;quot;models&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// ===== Check model aliases first =====&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (configParsed != null &amp;amp;&amp;amp; configParsed[&amp;quot;model-aliases&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var aliasedModel = configParsed[&amp;quot;model-aliases&amp;quot;][modelName]?.ToString().ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if aliased model has embeddings capacity&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(aliasedModel) &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[aliasedModel] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[aliasedModel][&amp;quot;capacity&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[aliasedModel][&amp;quot;capacity&amp;quot;].ToString().ToLower() == &amp;quot;embeddings&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// ===== Check direct model capacity =====&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelsConfig != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[modelName] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[modelName][&amp;quot;capacity&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelsConfig[modelName][&amp;quot;capacity&amp;quot;].ToString().ToLower() == &amp;quot;embeddings&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// ===== STRATEGY 3: Model name patterns =====&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for common embeddings model patterns&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelName.IndexOf(&amp;quot;embedding&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelName.IndexOf(&amp;quot;embed&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    modelName.IndexOf(&amp;quot;ada&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// ===== Additional path-based heuristics =====&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for embeddings-related patterns in the path&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;ada&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;ada&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    originalPathLower.IndexOf(&amp;quot;embed&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;embed&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;// Error during detection - default to false&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 7: FILE ENDPOINT DETECTION                                        -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Detect file-related endpoints for special handling.                       -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- General file endpoint detection -->\r\n\t<set-variable name="is-files-endpoint" value="@{&#xD;&#xA;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#x9;&#x9;return (originalPathLower.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;        strippedPathLower.IndexOf(&amp;quot;/files&amp;quot;) &gt;= 0) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Assistant-specific file detection -->\r\n\t<set-variable name="is-assistant-file" value="@{&#xD;&#xA;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#x9;&#x9;return (originalPathLower.IndexOf(&amp;quot;/files/assistant-&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;        strippedPathLower.IndexOf(&amp;quot;/files/assistant-&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;        originalPathLower.IndexOf(&amp;quot;/assistants/files/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;        strippedPathLower.IndexOf(&amp;quot;/assistants/files/&amp;quot;) &gt;= 0) ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 8: OPERATION TYPE CLASSIFICATION                                  -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Determine the specific operation being performed based on path patterns   -->\r\n\t<!-- and HTTP method. This is used for backend selection, token tracking, and  -->\r\n\t<!-- proper path construction. Operations include: chat, completions, CRUD,    -->\r\n\t<!-- embeddings, audio operations (TTS, STT), and more.                       -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Debug trace for operation type detection -->\r\n\t<trace source="AI Route Debug" severity="information">\r\n\t\t<message>@{\r\n\t\t\tvar originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\tvar strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\tvar containsChat = originalPath.IndexOf(&amp;quot;/chat/completions&amp;quot;) &gt;= 0 ||\r\n\t\t\t                   strippedPath.ToLower().IndexOf(&amp;quot;/chat/completions&amp;quot;) &gt;= 0;\r\n\t\t\treturn &amp;quot;DEBUG rt-ot: rt-ol=[&amp;quot; + originalPath + &amp;quot;] rt-sp=[&amp;quot; + strippedPath +\r\n\t\t\t       &amp;quot;] contains-chat=[&amp;quot; + containsChat + &amp;quot;]&amp;quot;;\r\n\t\t}</message>\r\n\t</trace>\r\n\t<!-- rt-ot = routing-operation-type (the specific operation: chat, completions, create, etc.) -->\r\n\t<set-variable name="rt-ot" value="@{&#xD;&#xA;&#x9;&#x9;// Check if this is an embeddings request first (highest priority)&#xD;&#xA;&#x9;&#x9;var isEmbeddings = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (isEmbeddings == &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;embeddings&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Get request context&#xD;&#xA;&#x9;&#x9;var httpMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-method&amp;quot;, &amp;quot;GET&amp;quot;);&#xD;&#xA;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// ===== INFERENCE OPERATION DETECTION =====&#xD;&#xA;&#x9;&#x9;// Check for chat completions (most common operation)&#xD;&#xA;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;chat/completions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;chat/completions&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;chat&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Check for regular completions (legacy format)&#xD;&#xA;&#x9;&#x9;if (originalPathLower.EndsWith(&amp;quot;/completions&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;    strippedPathLower.EndsWith(&amp;quot;/completions&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;    originalPathLower == &amp;quot;completions&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    strippedPathLower == &amp;quot;completions&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;completions&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Check for info endpoints&#xD;&#xA;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/info&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/info&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;    originalPathLower == &amp;quot;info&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    strippedPathLower == &amp;quot;info&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;info&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Get the detected API type&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// ===== AUDIO API OPERATION DETECTION =====&#xD;&#xA;&#x9;&#x9;if (apiType == &amp;quot;audio&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;// Text-to-Speech&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;speech&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;speech&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;text-to-speech&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Speech-to-Text (transcription)&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;transcriptions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;transcriptions&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;speech-to-text&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Audio translation&#xD;&#xA;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;translations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;translations&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;audio-translation&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Generic audio operation&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;audio&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// ===== CRUD OPERATION DETECTION =====&#xD;&#xA;&#x9;&#x9;// For APIs that follow CRUD patterns&#xD;&#xA;&#x9;&#x9;if (apiType == &amp;quot;vector-stores&amp;quot; || apiType == &amp;quot;uploads&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;batch&amp;quot; || apiType == &amp;quot;projects&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;assistants&amp;quot; || apiType == &amp;quot;responses&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;responses-v1&amp;quot; || apiType == &amp;quot;conversations&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;files-v1&amp;quot; || apiType == &amp;quot;vector-stores-v1&amp;quot; ||&#xD;&#xA;&#x9;&#x9;    apiType == &amp;quot;models-v1&amp;quot;) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Map HTTP methods to CRUD operations&#xD;&#xA;&#x9;&#x9;&#x9;if (httpMethod == &amp;quot;POST&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;create&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;if (httpMethod == &amp;quot;GET&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;retrieve&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;if (httpMethod == &amp;quot;PATCH&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;update&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;if (httpMethod == &amp;quot;DELETE&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;delete&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Fallback to API type name&#xD;&#xA;&#x9;&#x9;&#x9;return apiType;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// ===== DEFAULT FALLBACK =====&#xD;&#xA;&#x9;&#x9;// Default to chat for compatibility&#xD;&#xA;&#x9;&#x9;return &amp;quot;chat&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Store operation type in a more readable variable -->\r\n\t<set-variable name="routing-operation-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ot&amp;quot;))"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 9: MODEL ID EXTRACTION                                            -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Extract the model identifier from various sources:                        -->\r\n\t<!-- 1. Request body "model" field (highest priority)                         -->\r\n\t<!-- 2. URL path for deployments (/deployments/{model-id}/...)               -->\r\n\t<!-- 3. URL path for models (/models/{model-id}/...)                         -->\r\n\t<!-- 4. Context-specific defaults (tts-1, whisper-1, etc.)                   -->\r\n\t<!-- Model aliases are resolved to canonical model names.                     -->\r\n\t<!-- ========================================================================== -->\r\n\t<set-variable name="model-id" value="@{&#xD;&#xA;&#x9;&#x9;// Initialize with default unknown value&#xD;&#xA;&#x9;&#x9;var modelId = &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Get request context&#xD;&#xA;&#x9;&#x9;var originalPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ol&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var strippedPathLower = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#x9;&#x9;var originalModelName = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;original-model-name&amp;quot;, &amp;quot;unknown&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;// ===== CONFIGURATION LOADING =====&#xD;&#xA;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(configString)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return modelId;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Load parsed configuration&#xD;&#xA;&#x9;&#x9;&#x9;var configParsed = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (configParsed == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;configParsed = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Load model aliases configuration&#xD;&#xA;&#x9;&#x9;&#x9;JToken modelAliases = null;&#xD;&#xA;&#x9;&#x9;&#x9;if (configParsed != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelAliases = configParsed[&amp;quot;model-aliases&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Model aliases not available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== APIS THAT DON\'T REQUIRE MODELS =====&#xD;&#xA;&#x9;&#x9;&#x9;// Some APIs don\'t use model-based routing&#xD;&#xA;&#x9;&#x9;&#x9;if (apiType == &amp;quot;vector-stores&amp;quot; || apiType == &amp;quot;uploads&amp;quot; ||&#xD;&#xA;&#x9;&#x9;&#x9;    apiType == &amp;quot;batch&amp;quot; || apiType == &amp;quot;projects&amp;quot; ||&#xD;&#xA;&#x9;&#x9;&#x9;    apiType == &amp;quot;conversations&amp;quot; || apiType == &amp;quot;files-v1&amp;quot; ||&#xD;&#xA;&#x9;&#x9;&#x9;    apiType == &amp;quot;vector-stores-v1&amp;quot; || apiType == &amp;quot;models-v1&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;no-model-required&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== AUDIO API MODEL DETECTION =====&#xD;&#xA;&#x9;&#x9;&#x9;if (apiType == &amp;quot;audio&amp;quot; &amp;amp;&amp;amp; originalModelName != &amp;quot;unknown&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var lowerOriginalModel = originalModelName.ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for aliased model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (modelAliases != null &amp;amp;&amp;amp; modelAliases[lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelAliases[lowerOriginalModel].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check if it\'s a valid model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (configParsed != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;][lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = lowerOriginalModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Default audio models based on endpoint&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (originalPathLower.IndexOf(&amp;quot;/speech&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    strippedPathLower.IndexOf(&amp;quot;/speech&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;tts-1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} else if (originalPathLower.IndexOf(&amp;quot;/transcriptions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;           strippedPathLower.IndexOf(&amp;quot;/transcriptions&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;           originalPathLower.IndexOf(&amp;quot;/translations&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;           strippedPathLower.IndexOf(&amp;quot;/translations&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;whisper-1&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== V1 API MODEL DETECTION =====&#xD;&#xA;&#x9;&#x9;&#x9;if (apiType.IndexOf(&amp;quot;-v1&amp;quot;) &gt;= 0 &amp;amp;&amp;amp; originalModelName != &amp;quot;unknown&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var lowerOriginalModel = originalModelName.ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for aliased model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (modelAliases != null &amp;amp;&amp;amp; modelAliases[lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelAliases[lowerOriginalModel].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check if it\'s a valid model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (configParsed != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;][lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = lowerOriginalModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== REQUEST BODY MODEL EXTRACTION =====&#xD;&#xA;&#x9;&#x9;&#x9;// This is the primary source for model ID&#xD;&#xA;&#x9;&#x9;&#x9;if (originalModelName != &amp;quot;unknown&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var lowerOriginalModel = originalModelName.ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for aliased model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (modelAliases != null &amp;amp;&amp;amp; modelAliases[lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelAliases[lowerOriginalModel].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check if it\'s a valid model&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (configParsed != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;][lowerOriginalModel] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = lowerOriginalModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== DEPLOYMENT PATH EXTRACTION (Azure OpenAI) =====&#xD;&#xA;&#x9;&#x9;&#x9;// Extract from /deployments/{model-id}/... pattern&#xD;&#xA;&#x9;&#x9;&#x9;if (apiType == &amp;quot;openai&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;    (originalPathLower.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;     strippedPathLower.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0)) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use the path that contains /deployments/&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var deploymentPath = originalPathLower.IndexOf(&amp;quot;/deployments/&amp;quot;) &gt;= 0&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    ? originalPathLower : strippedPathLower;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Split by /deployments/ and get the model ID&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var pathParts = deploymentPath.Split(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    new[] { &amp;quot;/deployments/&amp;quot; },&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    StringSplitOptions.None&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (pathParts.Length &gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var modelPart = pathParts[1];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract up to the next slash&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var slashIndex = modelPart.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (slashIndex &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelPart.Substring(0, slashIndex);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelPart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Resolve aliases&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelAliases != null &amp;amp;&amp;amp; modelAliases[modelId] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelAliases[modelId].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// ===== MODEL PATH EXTRACTION (Inference API) =====&#xD;&#xA;&#x9;&#x9;&#x9;// Extract from /models/{model-id}/... pattern&#xD;&#xA;&#x9;&#x9;&#x9;if (apiType == &amp;quot;inference&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;    (originalPathLower.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;     strippedPathLower.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0)) {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use the path that contains /models/&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var modelPath = originalPathLower.IndexOf(&amp;quot;/models/&amp;quot;) &gt;= 0&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    ? originalPathLower : strippedPathLower;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Split by /models/ and get the model ID&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var pathParts = modelPath.Split(&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    new[] { &amp;quot;/models/&amp;quot; },&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;    StringSplitOptions.None&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (pathParts.Length &gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var modelPathPart = pathParts[1];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract up to the next slash&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var slashIndex = modelPathPart.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (slashIndex &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelPathPart.Substring(0, slashIndex);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelPathPart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Resolve aliases&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelAliases != null &amp;amp;&amp;amp; modelAliases[modelId] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;modelId = modelAliases[modelId].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;// Error during extraction - return default&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return modelId.ToLower();&#xD;&#xA;&#x9;}" />\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 10: MODEL CAPACITY DETECTION                                      -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Determine the capacity of the detected model (chat, embeddings, etc.)     -->\r\n\t<!-- This is used to validate that the model supports the requested operation  -->\r\n\t<!-- and for backend selection (embeddings models go to specific backends).    -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- mc-orig = model-capacity-original (the model\'s capacity type) -->\r\n\t<set-variable name="mc-orig" value="@{&#xD;&#xA;&#x9;&#x9;// Get the extracted model ID&#xD;&#xA;&#x9;&#x9;var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Initialize empty capacity&#xD;&#xA;&#x9;&#x9;var capacity = &amp;quot;&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;// Get configuration string&#xD;&#xA;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(configString)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return capacity;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Load parsed configuration&#xD;&#xA;&#x9;&#x9;&#x9;var configParsed = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (configParsed == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;configParsed = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return capacity;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;// Check if the specific model has a defined capacity&#xD;&#xA;&#x9;&#x9;&#x9;if (configParsed != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;][modelId] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;    configParsed[&amp;quot;models&amp;quot;][modelId][&amp;quot;capacity&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use the model\'s specific capacity&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;capacity = configParsed[&amp;quot;models&amp;quot;][modelId][&amp;quot;capacity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;// Check for default model capacity&#xD;&#xA;&#x9;&#x9;&#x9;else if (configParsed != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;         configParsed[&amp;quot;default-model-capacity&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use the default capacity&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;capacity = configParsed[&amp;quot;default-model-capacity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// No capacity defined&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;capacity = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;// Error during capacity detection&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return capacity;&#xD;&#xA;&#x9;}"></set-variable>\r\n\t<!-- Store model capacity in a more readable variable -->\r\n\t<set-variable name="model-capacity-original" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;mc-orig&amp;quot;))"></set-variable>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 11: ASSISTANTS API ID EXTRACTION                                  -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Extract resource IDs from URL paths for Assistants API operations.        -->\r\n\t<!-- These IDs are essential for proper backend path construction in           -->\r\n\t<!-- DELETE/UPDATE/RETRIEVE operations. The IDs follow specific patterns:      -->\r\n\t<!-- - Assistant IDs: asst_*                                                  -->\r\n\t<!-- - Thread IDs: thread_*                                                   -->\r\n\t<!-- - Run IDs: run_*                                                         -->\r\n\t<!-- - Message IDs: msg_*                                                     -->\r\n\t<!-- - File IDs: file-* or assistant-*                                        -->\r\n\t<!-- - Vector Store IDs: vs_*                                                 -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Extract Assistant ID from path like /assistants/asst_123abc -->\r\n\t<set-variable name="assistant-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Only extract for Assistants API&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /assistants/{assistant-id} pattern&#xD;&#xA;&#x9;&#x9;// Assistant IDs always start with \'asst_\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;^/assistants/(asst_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/assistants/(asst_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract Thread ID from path like /threads/thread_xyz789 -->\r\n\t<set-variable name="thread-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Only extract for Assistants API&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /threads/{thread-id} pattern&#xD;&#xA;&#x9;&#x9;// Thread IDs always start with \'thread_\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/threads/(thread_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/threads/(thread_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract Run ID from path like /runs/run_abc123 -->\r\n\t<set-variable name="run-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Only extract for Assistants API&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /runs/{run-id} pattern&#xD;&#xA;&#x9;&#x9;// Run IDs always start with \'run_\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/runs/(run_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/runs/(run_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract Message ID from path like /messages/msg_def456 -->\r\n\t<set-variable name="message-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Only extract for Assistants API&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /messages/{message-id} pattern&#xD;&#xA;&#x9;&#x9;// Message IDs always start with \'msg_\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/messages/(msg_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/messages/(msg_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract File ID from path like /files/file-ghi789 or /files/assistant-xyz123 -->\r\n\t<set-variable name="file-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Files can be in assistants API or files v1 API&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot; &amp;amp;&amp;amp; apiType != &amp;quot;files-v1&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /files/{file-id} pattern&#xD;&#xA;&#x9;&#x9;// File IDs can start with \'file-\' or \'assistant-\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/files/(file-[^/]+|assistant-[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/files/(file-[^/]+|assistant-[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract Vector Store ID from path like /vector_stores/vs_jkl012 -->\r\n\t<set-variable name="vector-store-id" value="@{&#xD;&#xA;&#x9;&#x9;var path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Vector stores can be in assistants, vector-stores, or vector-stores-v1 APIs&#xD;&#xA;&#x9;&#x9;if (apiType != &amp;quot;assistants&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;    apiType != &amp;quot;vector-stores&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;    apiType != &amp;quot;vector-stores-v1&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Match /vector_stores/{vector-store-id} pattern&#xD;&#xA;&#x9;&#x9;// Vector Store IDs always start with \'vs_\'&#xD;&#xA;&#x9;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/vector_stores/(vs_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Also check original path in case stripped path doesn\'t contain it&#xD;&#xA;&#x9;&#x9;path = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;match = System.Text.RegularExpressions.Regex.Match(path, @&amp;quot;/vector_stores/(vs_[^/]+)&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (match.Success) { return match.Groups[1].Value; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- ========================================================================== -->\r\n\t<!-- SECTION 12: CONDITIONAL TRACING                                           -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- Output trace information for debugging and monitoring purposes.           -->\r\n\t<!-- Tracing is controlled by configuration settings and can be enabled:       -->\r\n\t<!-- 1. Globally via enable-trace setting                                      -->\r\n\t<!-- 2. For specific sources via always-trace-sources                          -->\r\n\t<!-- 3. Always if configuration is missing (safe default)                      -->\r\n\t<!-- ========================================================================== -->\r\n\t<choose>\r\n\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Get configuration string&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var configString = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// If no configuration, enable tracing by default for safety&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(configString) || configString == &amp;quot;{}&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return true;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Load parsed configuration objects&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var configParsed = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var traceSettings = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-trace-settings&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Parse config if not already parsed&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (configParsed == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;configParsed = JObject.Parse(configString);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Define the source name for this trace&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var sourceName = &amp;quot;ROUTE-ANALYSIS-RESULTS&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check if this source is in always-trace-sources&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (traceSettings != null &amp;amp;&amp;amp; traceSettings[&amp;quot;always-trace-sources&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var alwaysTraceSources = traceSettings[&amp;quot;always-trace-sources&amp;quot;] as JArray;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (alwaysTraceSources != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var source in alwaysTraceSources) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (source.ToString() == sourceName) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// This source is configured to always trace&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return true;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check global trace enable setting&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var globalTraceEnabled = false;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (traceSettings != null &amp;amp;&amp;amp; traceSettings[&amp;quot;enable-trace&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;globalTraceEnabled = traceSettings[&amp;quot;enable-trace&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return globalTraceEnabled;&#xD;&#xA;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// On any error, enable tracing for debugging&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return true;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}">\r\n\t\t\t<!-- Output trace with route analysis results -->\r\n\t\t\t<trace source="ROUTE-ANALYSIS-RESULTS" severity="information">\r\n\t\t\t\t<message>@{\r\n\t\t\t\t\t// Collect all the route analysis results\r\n\t\t\t\t\tvar originalPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-op&amp;quot;);\r\n\t\t\t\t\tvar strippedPath = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-sp&amp;quot;);\r\n\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-at&amp;quot;);\r\n\t\t\t\t\tvar modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;);\r\n\t\t\t\t\tvar operationType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rt-ot&amp;quot;);\r\n\t\t\t\t\tvar apiVersion = context.Request.Url.Query.GetValueOrDefault(&amp;quot;api-version&amp;quot;, &amp;quot;n/a&amp;quot;);\r\n\r\n\t\t\t\t\t// Format as pipe-delimited for easy parsing\r\n\t\t\t\t\treturn &amp;quot;Path:&amp;quot; + originalPath +\r\n\t\t\t\t\t       &amp;quot;|Strip:&amp;quot; + strippedPath +\r\n\t\t\t\t\t       &amp;quot;|API:&amp;quot; + apiType +\r\n\t\t\t\t\t       &amp;quot;|Model:&amp;quot; + modelId +\r\n\t\t\t\t\t       &amp;quot;|Op:&amp;quot; + operationType +\r\n\t\t\t\t\t       &amp;quot;|Ver:&amp;quot; + apiVersion;\r\n\t\t\t\t}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- ========================================================================== -->\r\n\t<!-- END OF AIWORKS-ROUTE-ANALYSIS FRAGMENT                                    -->\r\n\t<!-- ========================================================================== -->\r\n\t<!-- This fragment has completed all route analysis tasks:                     -->\r\n\t<!-- - Captured request information                                           -->\r\n\t<!-- - Stripped product prefixes                                              -->\r\n\t<!-- - Detected API type                                                      -->\r\n\t<!-- - Generated boolean flags                                                -->\r\n\t<!-- - Detected embeddings requests                                           -->\r\n\t<!-- - Classified operation type                                              -->\r\n\t<!-- - Extracted model ID                                                     -->\r\n\t<!-- - Determined model capacity                                              -->\r\n\t<!-- - Extracted resource IDs                                                 -->\r\n\t<!-- - Output trace information                                               -->\r\n\t<!--                                                                           -->\r\n\t<!-- All variables are now available for downstream fragments to use for      -->\r\n\t<!-- backend selection, path construction, and request processing.            -->\r\n\t<!-- ========================================================================== -->\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Security_Context 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Security-Context'
  properties: {
    description: 'AIWorks Defines the Security Context configuration'
    value: '<!--\r\nFragment: AIWorks-Security-Context\r\nVersion: 1.5\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nAutomatically injects UserSecurityContext parameters into Azure OpenAI API requests\r\nfor Microsoft Defender for Cloud threat protection and security monitoring.\r\n\r\nFEATURES:\r\n- Extracts user identity from authentication headers\r\n- Captures source IP from X-Forwarded-For or client IP\r\n- Adds application context for security monitoring\r\n- Only applies to supported APIs (OpenAI chat completions, completions, embeddings)\r\n- Skips Model Inference API calls (not supported)\r\n- Configuration-driven enablement\r\n- API version validation for compatibility\r\n\r\nVARIABLES CONSUMED:\r\n- model-config: Configuration with defender-context-enabled setting\r\n- api-type: API type (openai, inference, etc.)\r\n- has-json-body: Whether request has JSON body\r\n- selected-api-version: Selected API version\r\n- parsed-request-body: Parsed request body\r\n- user-id: User identifier from auth\r\n- client-ip: Client IP address\r\n\r\nVARIABLES PRODUCED:\r\n- defender-context-enabled: Whether feature is enabled\r\n- should-inject-security-context: Whether to inject context\r\n- security-context-params: Constructed security parameters\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Provides security configuration\r\n- AIWorks-Route-Analysis: Provides api-type\r\n- AIWorks-Request-Analysis: Provides parsed-request-body\r\n- AIWorks-Security-*: Provides user-id\r\n\r\nIMPORTANT:\r\n- Set defender-context-enabled to "true" in model config to enable\r\n- Azure OpenAI must use API version 2025-01-01-preview or later\r\n-->\r\n<fragment fragment-id="AIWorks-Security-Context">\r\n\t<!-- Check if feature is enabled in config -->\r\n\t<set-variable name="defender-context-enabled" value="@{&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;var security = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-security&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (security != null &amp;&amp; security[&amp;quot;defender-context-enabled&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return security[&amp;quot;defender-context-enabled&amp;quot;].ToString().ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;// Fallback to config if security not cached&#xD;&#xA;&#x9;&#x9;&#x9;if (config == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Fallback if cache not initialized&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;config = JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;if (config != null &amp;&amp; config[&amp;quot;security&amp;quot;] != null &amp;&amp; config[&amp;quot;security&amp;quot;][&amp;quot;defender-context-enabled&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;security&amp;quot;][&amp;quot;defender-context-enabled&amp;quot;].ToString().ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch { }&#xD;&#xA;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Check if this is a supported API type and method -->\r\n\t<set-variable name="should-inject-security-context" value="@{&#xD;&#xA;&#x9;&#x9;// First check if feature is enabled&#xD;&#xA;&#x9;&#x9;var enabled = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;defender-context-enabled&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (enabled != &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;);&#xD;&#xA;&#x9;&#x9;var method = context.Request.Method;&#xD;&#xA;&#x9;&#x9;var hasJsonBody = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;has-json-body&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;// Check API version for OpenAI - must be 2025-01-01-preview or later&#xD;&#xA;&#x9;&#x9;if (apiType == &amp;quot;openai&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;var apiVersion = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;if (apiVersion != &amp;quot;2025-01-01-preview&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Log warning that feature requires newer API version&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;// Only inject for OpenAI API POST/PUT requests with JSON body&#xD;&#xA;&#x9;&#x9;// Model Inference API is not supported per Microsoft docs&#xD;&#xA;&#x9;&#x9;if (apiType == &amp;quot;openai&amp;quot; &amp;&amp; (method == &amp;quot;POST&amp;quot; || method == &amp;quot;PUT&amp;quot;) &amp;&amp; hasJsonBody == &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;// Also support assistants and responses APIs if they use OpenAI backend&#xD;&#xA;&#x9;&#x9;if ((apiType == &amp;quot;assistants&amp;quot; || apiType == &amp;quot;responses&amp;quot;) &amp;&amp; &#xD;&#xA;&#x9;&#x9;    (method == &amp;quot;POST&amp;quot; || method == &amp;quot;PUT&amp;quot;) &amp;&amp; &#xD;&#xA;&#x9;&#x9;    hasJsonBody == &amp;quot;true&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;var backend = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-backend&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;// Check if using OpenAI-compatible backend&#xD;&#xA;&#x9;&#x9;&#x9;if (backend.IndexOf(&amp;quot;foundry&amp;quot;) &gt;= 0 || backend.IndexOf(&amp;quot;openai&amp;quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Extract security context information -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;should-inject-security-context&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- Extract End User ID from authentication -->\r\n\t\t\t<set-variable name="end-user-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// First check for user ID in context (if using Entra ID authentication)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var userId = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for user principal from Entra ID&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (context.User != null &amp;&amp; context.User.Id != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;userId = context.User.Id;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// User context not available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Fallback to subscription key as user identifier&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(userId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;userId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;subscription-key&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(userId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Mask middle part of subscription key for privacy&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (userId.Length &gt; 8) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;userId = userId.Substring(0, 4) + &amp;quot;****&amp;quot; + userId.Substring(userId.Length - 4);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;userId = &amp;quot;sub-&amp;quot; + userId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return userId;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Extract Source IP -->\r\n\t\t\t<set-variable name="source-ip" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var ip = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check X-Forwarded-For header (standard proxy header)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var xff = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Forwarded-For&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(xff)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Get first IP in the chain (original client)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var ips = xff.Split(\',\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (ips.Length &gt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;ip = ips[0].Trim();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Fallback to X-Real-IP&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(ip)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;ip = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Real-IP&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Fallback to direct client IP (or use pre-calculated client-ip variable)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(ip)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;ip = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&quot;client-ip&quot;, &quot;0.0.0.0&quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return ip;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Extract Application Name -->\r\n\t\t\t<set-variable name="application-name" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var appName = &amp;quot;AIWorks-Gateway&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for custom application header&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var customApp = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Application-Name&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(customApp)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;appName = customApp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for user agent as fallback&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var userAgent = context.Request.Headers.GetValueOrDefault(&amp;quot;User-Agent&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(userAgent)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract first part of user agent&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var parts = userAgent.Split(\' \');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (parts.Length &gt; 0 &amp;&amp; parts[0].Length &lt; 50) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;appName = parts[0];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return appName;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Extract Tenant ID (for multi-tenant scenarios) -->\r\n\t\t\t<set-variable name="end-user-tenant-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var tenantId = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for tenant ID in context - simplified for APIM V2&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (context.User != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Try simple property access&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;tenantId = context.Request.Headers.GetValueOrDefault(&amp;quot;X-MS-Tenant-ID&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// User context not available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for custom tenant header&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(tenantId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;tenantId = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Tenant-ID&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return tenantId;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Modify request body to include UserSecurityContext -->\r\n\t\t\t<set-variable name="modified-body" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var bodyText = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-body-text&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var body = JObject.Parse(bodyText);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Create UserSecurityContext object&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var securityContext = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add EndUserId if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var userId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;end-user-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(userId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;securityContext[&amp;quot;endUserId&amp;quot;] = userId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add SourceIP if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var sourceIp = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;source-ip&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(sourceIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;securityContext[&amp;quot;sourceIp&amp;quot;] = sourceIp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add ApplicationName&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var appName = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;application-name&amp;quot;, &amp;quot;AIWorks-Gateway&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;securityContext[&amp;quot;applicationName&amp;quot;] = appName;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add EndUserTenantId if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var tenantId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;end-user-tenant-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(tenantId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;securityContext[&amp;quot;endUserTenantId&amp;quot;] = tenantId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add UserSecurityContext to body&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;body[&amp;quot;userSecurityContext&amp;quot;] = securityContext;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return body.ToString(Newtonsoft.Json.Formatting.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// If parsing fails, return original body&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return bodyText;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Set the modified body -->\r\n\t\t\t<set-body>@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;modified-body&amp;quot;))</set-body>\r\n\t\t\t<!-- Add security context headers for logging/debugging -->\r\n\t\t\t<set-header name="X-Security-Context-Injected" exists-action="override">\r\n\t\t\t\t<value>true</value>\r\n\t\t\t</set-header>\r\n\t\t\t<!-- ALWAYS TRACE: Security-Context is in always-trace-sources -->\r\n\t\t\t<trace source="Security-Context" severity="information">\r\n\t\t\t\t<message>@{\r\n\t\t\t\t\tvar userId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;end-user-id&amp;quot;, &amp;quot;none&amp;quot;);\r\n\t\t\t\t\tvar sourceIp = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;source-ip&amp;quot;, &amp;quot;none&amp;quot;);\r\n\t\t\t\t\tvar appName = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;application-name&amp;quot;, &amp;quot;none&amp;quot;);\r\n\t\t\t\t\tvar tenantId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;end-user-tenant-id&amp;quot;, &amp;quot;none&amp;quot;);\r\n\t\t\t\t\tvar apiVersion = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\tvar model = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn &amp;quot;UserSecurityContext injected | API-Type: &amp;quot; + apiType + \r\n\t\t\t\t\t       &amp;quot; | Model: &amp;quot; + model +\r\n\t\t\t\t\t       &amp;quot; | User-ID: &amp;quot; + userId + \r\n\t\t\t\t\t       &amp;quot; | Source-IP: &amp;quot; + sourceIp + \r\n\t\t\t\t\t       &amp;quot; | App-Name: &amp;quot; + appName + \r\n\t\t\t\t\t       &amp;quot; | Tenant-ID: &amp;quot; + tenantId +\r\n\t\t\t\t\t       &amp;quot; | API-Version: &amp;quot; + apiVersion;\r\n\t\t\t\t}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Log why security context wasn\'t injected if feature is enabled -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;defender-context-enabled&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t<trace source="Security-Context" severity="information">\r\n\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar method = context.Request.Method;\r\n\t\t\t\t\t\t\tvar hasJsonBody = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;has-json-body&amp;quot;, &amp;quot;false&amp;quot;);\r\n\t\t\t\t\t\t\tvar apiVersion = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;selected-api-version&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar reason = &amp;quot;&amp;quot;;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (apiType == &amp;quot;inference&amp;quot;) {\r\n\t\t\t\t\t\t\t\treason = &amp;quot;Model Inference API not supported&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (apiVersion != &amp;quot;2025-01-01-preview&amp;quot;) {\r\n\t\t\t\t\t\t\t\treason = &amp;quot;API version &amp;quot; + apiVersion + &amp;quot; does not support UserSecurityContext (requires 2025-01-01-preview)&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (method != &amp;quot;POST&amp;quot; &amp;&amp; method != &amp;quot;PUT&amp;quot;) {\r\n\t\t\t\t\t\t\t\treason = &amp;quot;Method &amp;quot; + method + &amp;quot; not supported (only POST/PUT)&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (hasJsonBody != &amp;quot;true&amp;quot;) {\r\n\t\t\t\t\t\t\t\treason = &amp;quot;No JSON body to inject context into&amp;quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treason = &amp;quot;Unknown reason&amp;quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn &amp;quot;UserSecurityContext NOT injected | API-Type: &amp;quot; + apiType + \r\n\t\t\t\t\t\t\t       &amp;quot; | Method: &amp;quot; + method + \r\n\t\t\t\t\t\t\t       &amp;quot; | API-Version: &amp;quot; + apiVersion +\r\n\t\t\t\t\t\t\t       &amp;quot; | Reason: &amp;quot; + reason;\r\n\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Feature not enabled, no need to log -->\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</otherwise>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Security_JWT_PassThrough 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Security-JWT-PassThrough'
  properties: {
    description: 'AIWorks Defines the JWT configuration'
    value: '<!--\r\nFragment: AIWorks-Security-JWT-PassThrough\r\nVersion: 1.4\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nHandles JWT authentication and passes the original JWT token to the backend.\r\nDoes NOT replace with APIM managed identity - backend validates the JWT.\r\nUsed for scenarios where backend needs the original user token.\r\n\r\nFEATURES:\r\n- JWT token validation against Entra ID\r\n- Original token pass-through to backend\r\n- Role validation (AIWorks.User required)\r\n- JWT user logging with UPN extraction\r\n- IP correlation and security logging\r\n- Enhanced authentication audit trail\r\n- API-specific error formatting\r\n\r\nVARIABLES CONSUMED:\r\n- api-type: API type for error formatting\r\n- model-config: Configuration with OAuth settings\r\n- client-ip: Client IP address\r\n\r\nVARIABLES PRODUCED:\r\n- auth-method: Set to "jwt-passthrough"\r\n- subscription-name: Set to "jwt-passthrough"\r\n- subscription-key: Set to "No Key"\r\n- auth-header: Authorization header value\r\n- has-bearer-token: Whether Bearer token exists\r\n- original-jwt-token: Original JWT for backend\r\n- auth-type: Set to "jwt-passthrough"\r\n- user-id: User identifier from JWT\r\n- user-roles: User roles from JWT\r\n- jwt-client-ip: IP from JWT claims\r\n- jwt-upn: User principal name from JWT\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Provides OAuth configuration\r\n- Client can send X-Auth-Mode: jwt-pt header (optional for Projects API)\r\n- Client must send Authorization: Bearer token\r\n- Only allowed for Projects API routes\r\n-->\r\n<fragment fragment-id="AIWorks-Security-JWT-PassThrough">\r\n\t<!-- Security Validation: Ensure JWT pass-through is only used for Projects API -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;) != &amp;quot;projects&amp;quot; &amp;amp;&amp;amp; &#xD;&#xA;                           context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-projects-api&amp;quot;, &amp;quot;false&amp;quot;) != &amp;quot;true&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;                           context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;projects-api-early-detected&amp;quot;, &amp;quot;false&amp;quot;) != &amp;quot;true&amp;quot;)">\r\n\t\t\t<trace source="JWT-Security-Violation" severity="error">\r\n\t\t\t\t<message>@{var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;); var path = context.Request.Url.Path; var authMode = context.Request.Headers.GetValueOrDefault("X-Auth-Mode", "none"); return "SECURITY VIOLATION: JWT pass-through attempted on non-Projects API | " + "API-Type: " + apiType + " | " + "Path: " + path + " | " + "X-Auth-Mode: " + authMode + " | " + "RequestId: " + context.RequestId;}</message>\r\n\t\t\t</trace>\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="403" reason="Forbidden" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var requestId = context.RequestId.ToString(); var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;unknown&amp;quot;); var path = context.Request.Url.Path; return "{\\"error\\":{" + "\\"code\\":\\"security_violation\\"," + "\\"message\\":\\"JWT pass-through authentication is restricted to Projects API only. This appears to be a security misconfiguration.\\"," + "\\"details\\":{" + "\\"detected_api_type\\":\\"" + apiType + "\\"," + "\\"path\\":\\"" + path + "\\"," + "\\"allowed_for\\":\\"projects\\"," + "\\"security_note\\":\\"Use standard authentication for non-Projects APIs\\"," + "\\"requestId\\":\\"" + requestId + "\\"" + "}" +\r\n                           "}}";\r\n                }</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Projects API confirmed - continue with JWT pass-through -->\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Client IP detection (moved earlier to be available for logging) -->\r\n\t<set-variable name="client-ip" value="@{&#xD;&#xA;&#x9;&#x9;// Check X-Forwarded-For (standard proxy header)&#xD;&#xA;&#x9;&#x9;var xff = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Forwarded-For&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(xff)) {&#xD;&#xA;&#x9;&#x9;&#x9;var ips = xff.Split(\',\');&#xD;&#xA;&#x9;&#x9;&#x9;if (ips.Length &gt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var firstIp = ips[0].Trim();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(firstIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return firstIp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Check X-Real-IP (common nginx header)&#xD;&#xA;&#x9;&#x9;var xRealIp = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Real-IP&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(xRealIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;return xRealIp.Trim();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Check X-Client-IP (some proxies use this)&#xD;&#xA;&#x9;&#x9;var xClientIp = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Client-IP&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(xClientIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;return xClientIp.Trim();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Check True-Client-IP (Cloudflare)&#xD;&#xA;&#x9;&#x9;var trueClientIp = context.Request.Headers.GetValueOrDefault(&amp;quot;True-Client-IP&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(trueClientIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;return trueClientIp.Trim();&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Fall back to direct IP address (often null in APIM)&#xD;&#xA;&#x9;&#x9;var directIp = context.Request.IpAddress;&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(directIp)) {&#xD;&#xA;&#x9;&#x9;&#x9;return directIp;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;// Final fallback&#xD;&#xA;&#x9;&#x9;return &amp;quot;0.0.0.0&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Set auth method explicitly -->\r\n\t<set-variable name="auth-method" value="@(&amp;quot;jwt-passthrough&amp;quot;)" />\r\n\t<set-variable name="subscription-name" value="@(&amp;quot;jwt-passthrough&amp;quot;)" />\r\n\t<set-variable name="subscription-key" value="@(&amp;quot;No Key&amp;quot;)" />\r\n\t<!-- Extract Authorization header -->\r\n\t<set-variable name="auth-header" value="@(context.Request.Headers.GetValueOrDefault(&amp;quot;Authorization&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t<set-variable name="has-bearer-token" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-header&amp;quot;, &amp;quot;&amp;quot;).StartsWith(&quot;Bearer &quot;, StringComparison.OrdinalIgnoreCase))" />\r\n\t<!-- Store the original JWT token for backend -->\r\n\t<set-variable name="original-jwt-token" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-header&amp;quot;))" />\r\n\t<!-- Check if Bearer token exists -->\r\n\t<choose>\r\n\t\t<when condition="@(!context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;has-bearer-token&amp;quot;))">\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="401" reason="Unauthorized" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;inference&amp;quot;); var requestId = context.RequestId.ToString(); if (apiType == "openai" || apiType == "responses") { return "{\\"error\\":{\\"code\\":\\"AuthenticationError\\",\\"message\\":\\"JWT Bearer token required for pass-through authentication. Please provide \'Authorization: Bearer &lt;token&gt;\' header.\\"}}";\r\n                    }\r\n                    else if (apiType == "assistants") {\r\n                        return "{\\"error\\":{\\"message\\":\\"JWT Bearer token required for pass-through authentication. Please provide \'Authorization: Bearer &lt;token&gt;\' header.\\",\\"type\\":\\"authentication_error\\"}}";\r\n                    }\r\n                    else {\r\n                        return "{\\"error\\":{\\"code\\":\\"401\\",\\"message\\":\\"JWT pass-through authentication required\\",\\"target\\":\\"Authorization\\",\\"innerError\\":{\\"code\\":\\"NoJWT\\",\\"message\\":\\"Please provide JWT Bearer token for pass-through\\",\\"requestId\\":\\"" + requestId + "\\"}}}";\r\n                    }\r\n                }</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Bearer token exists, continue processing -->\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Extract JWT configuration from jwt-std-auth -->\r\n\t<set-variable name="jwt-config" value="@{try { var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;); if (config == null) { var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;                config = JObject.Parse(configStr);&#xD;&#xA;            }&#xD;&#xA;            if (config != null &amp;&amp; config[&amp;quot;jwt-std-auth&amp;quot;] != null) {&#xD;&#xA;                return config[&amp;quot;jwt-std-auth&amp;quot;];&#xD;&#xA;            }&#xD;&#xA;            // Fallback to default if jwt-std-auth not found - FIXED to use full URI&#xD;&#xA;            return new JObject {&#xD;&#xA;                [&quot;tenant-id&quot;] = &quot;a82883fe-24c8-4f7b-b563-c28b0bf8808d&quot;,&#xD;&#xA;                [&quot;app-registration-id&quot;] = &quot;api://aiworks-maas-v2&quot;,  // FIXED: Full URI format&#xD;&#xA;                [&quot;required-role&quot;] = &quot;AIWorks.User&quot;,&#xD;&#xA;                [&quot;required-scopes&quot;] = new JArray { &quot;access_as_user&quot;, &quot;.default&quot; },&#xD;&#xA;                [&quot;issuer&quot;] = &quot;https://sts.windows.net/a82883fe-24c8-4f7b-b563-c28b0bf8808d/&quot;,&#xD;&#xA;                [&quot;openid-config-url&quot;] = &quot;https://login.microsoftonline.com/a82883fe-24c8-4f7b-b563-c28b0bf8808d/v2.0/.well-known/openid-configuration&quot;&#xD;&#xA;            };&#xD;&#xA;        } catch {&#xD;&#xA;            return new JObject();&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<!-- Set JWT validation parameters -->\r\n\t<set-variable name="jwt-app-id" value="@{try { var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); if (jwtConfig[&amp;quot;app-registration-id&amp;quot;] != null) { return jwtConfig[&amp;quot;app-registration-id&amp;quot;].ToString();}&#xD;&#xA;            return &quot;api://aiworks-maas-v2&quot;;  // FIXED: Full URI format&#xD;&#xA;        } catch {&#xD;&#xA;            return &quot;api://aiworks-maas-v2&quot;;  // FIXED: Full URI format&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<set-variable name="jwt-openid-url" value="@{try { var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); return jwtConfig[&amp;quot;openid-config-url&amp;quot;]?.ToString() ?? &amp;quot;https://login.microsoftonline.com/a82883fe-24c8-4f7b-b563-c28b0bf8808d/v2.0/.well-known/openid-configuration&amp;quot;;} catch {&#xD;&#xA;            return &amp;quot;https://login.microsoftonline.com/a82883fe-24c8-4f7b-b563-c28b0bf8808d/v2.0/.well-known/openid-configuration&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<set-variable name="jwt-issuer" value="@{try { var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); return jwtConfig[&amp;quot;issuer&amp;quot;]?.ToString() ?? &amp;quot;https://sts.windows.net/a82883fe-24c8-4f7b-b563-c28b0bf8808d/&amp;quot;;} catch {&#xD;&#xA;            return &amp;quot;https://sts.windows.net/a82883fe-24c8-4f7b-b563-c28b0bf8808d/&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<!-- Detect JWT audience for multi-audience support -->\r\n\t<set-variable name="jwt-audience" value="@{try { var authHeader = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-header&amp;quot;, &amp;quot;&amp;quot;); if (!string.IsNullOrEmpty(authHeader) &amp;&amp; authHeader.StartsWith(&quot;Bearer &quot;)) { var token = authHeader.Substring(7); var parts = token.Split(\'.\'); if (parts.Length &gt;= 2) { var payload = parts[1]; var padLength = 4 - (payload.Length % 4); if (padLength &lt; 4) { payload += new string(\'=\', padLength);}&#xD;&#xA;                    &#xD;&#xA;                    var bytes = Convert.FromBase64String(payload);&#xD;&#xA;                    var json = System.Text.Encoding.UTF8.GetString(bytes);&#xD;&#xA;                    var claims = JObject.Parse(json);&#xD;&#xA;                    &#xD;&#xA;                    return claims[&amp;quot;aud&amp;quot;]?.ToString() ?? &quot;unknown&quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch {}&#xD;&#xA;        return &quot;unknown&quot;;&#xD;&#xA;    }" />\r\n\t<!-- Multi-audience JWT validation -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-audience&amp;quot;) == &quot;https://ai.azure.com&quot;)">\r\n\t\t\t<!-- Validate Azure AI token -->\r\n\t\t\t<validate-jwt header-name="Authorization" require-scheme="Bearer" failed-validation-httpcode="401" failed-validation-error-message="Azure AI JWT authentication failed">\r\n\t\t\t\t<openid-config url="@{var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;); if (config == null) { var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;                        config = JObject.Parse(configStr);&#xD;&#xA;                    }&#xD;&#xA;                    return config[&amp;quot;azure-ai-auth&amp;quot;][&quot;openid-config-url&quot;].ToString();&#xD;&#xA;                }" />\r\n\t\t\t\t<audiences>\r\n\t\t\t\t\t<audience>@{var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;); if (config == null) { var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);\r\n                            config = JObject.Parse(configStr);\r\n                        }\r\n                        return config[&amp;quot;azure-ai-auth&amp;quot;]["audience"].ToString();\r\n                    }</audience>\r\n\t\t\t\t</audiences>\r\n\t\t\t\t<issuers>\r\n\t\t\t\t\t<issuer>@{var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;); if (config == null) { var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);\r\n                            config = JObject.Parse(configStr);\r\n                        }\r\n                        return config[&amp;quot;azure-ai-auth&amp;quot;]["issuer"].ToString();\r\n                    }</issuer>\r\n\t\t\t\t</issuers>\r\n\t\t\t\t<!-- Azure AI tokens may not have scp claim, removing requirement -->\r\n\t\t\t\t<!-- <required-claims>\r\n                    <claim name="scp" match="any" separator=" ">\r\n                        <value>https://ai.azure.com/.default</value>\r\n                    </claim>\r\n                </required-claims> -->\r\n\t\t\t</validate-jwt>\r\n\t\t\t<set-variable name="is-azure-ai-token" value="true" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Validate AIWorks token (existing logic) -->\r\n\t\t\t<validate-jwt header-name="Authorization" require-scheme="Bearer" failed-validation-httpcode="401" failed-validation-error-message="JWT authentication failed">\r\n\t\t\t\t<openid-config url="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-openid-url&amp;quot;))" />\r\n\t\t\t\t<audiences>\r\n\t\t\t\t\t<audience>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-app-id&amp;quot;))</audience>\r\n\t\t\t\t</audiences>\r\n\t\t\t\t<issuers>\r\n\t\t\t\t\t<issuer>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-issuer&amp;quot;))</issuer>\r\n\t\t\t\t</issuers>\r\n\t\t\t\t<required-claims>\r\n\t\t\t\t\t<claim name="scp" match="any" separator=" ">\r\n\t\t\t\t\t\t<value>access_as_user</value>\r\n\t\t\t\t\t\t<value>.default</value>\r\n\t\t\t\t\t</claim>\r\n\t\t\t\t</required-claims>\r\n\t\t\t</validate-jwt>\r\n\t\t\t<set-variable name="is-azure-ai-token" value="false" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- ENHANCED JWT CLAIMS EXTRACTION WITH IP (v1.3) -->\r\n\t<set-variable name="jwt-claims" value="@{try { var jwt = context.Request.Headers.GetValueOrDefault(&quot;Authorization&quot;, &quot;&quot;); if (!string.IsNullOrEmpty(jwt) &amp;&amp; jwt.StartsWith(&quot;Bearer &quot;)) { var tokenParts = jwt.Substring(7).Split(\'.\'); if (tokenParts.Length &gt;= 2) { var payload = tokenParts[1]; int pad = 4 - (payload.Length % 4); if (pad &lt; 4) { payload += new string(\'=\', pad);}&#xD;&#xA;                    var payloadJson = Encoding.UTF8.GetString(Convert.FromBase64String(payload.Replace(\'-\', \'+\').Replace(\'_\', \'/\')));&#xD;&#xA;                    var json = JObject.Parse(payloadJson);&#xD;&#xA;                    &#xD;&#xA;                    // Extract key claims&#xD;&#xA;                    var claims = new JObject();&#xD;&#xA;                    &#xD;&#xA;                    // User identity - prefer UPN&#xD;&#xA;                    claims[&amp;quot;upn&amp;quot;] = json[&amp;quot;upn&amp;quot;]?.ToString() ?? &#xD;&#xA;                                   json[&amp;quot;preferred_username&amp;quot;]?.ToString() ?? &#xD;&#xA;                                   json[&amp;quot;email&amp;quot;]?.ToString() ?? &#xD;&#xA;                                   json[&amp;quot;sub&amp;quot;]?.ToString() ?? &#xD;&#xA;                                   &quot;unknown&quot;;&#xD;&#xA;                    &#xD;&#xA;                    // IP address from JWT&#xD;&#xA;                    claims[&amp;quot;ipaddr&amp;quot;] = json[&amp;quot;ipaddr&amp;quot;]?.ToString() ?? &quot;unknown&quot;;&#xD;&#xA;                    &#xD;&#xA;                    // Other useful claims&#xD;&#xA;                    claims[&amp;quot;name&amp;quot;] = json[&amp;quot;name&amp;quot;]?.ToString();&#xD;&#xA;                    claims[&amp;quot;appid&amp;quot;] = json[&amp;quot;appid&amp;quot;]?.ToString();&#xD;&#xA;                    claims[&amp;quot;oid&amp;quot;] = json[&amp;quot;oid&amp;quot;]?.ToString();&#xD;&#xA;                    claims[&amp;quot;tid&amp;quot;] = json[&amp;quot;tid&amp;quot;]?.ToString();&#xD;&#xA;                    &#xD;&#xA;                    return claims;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch {}&#xD;&#xA;        return new JObject();&#xD;&#xA;    }" />\r\n\t<!-- Set standardized variables for logging -->\r\n\t<set-variable name="user-id" value="@{var claims = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-claims&amp;quot;, new JObject()); return claims[&amp;quot;upn&amp;quot;]?.ToString() ?? &quot;unknown&quot;;}" />\r\n\t<set-variable name="jwt-ip" value="@{var claims = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-claims&amp;quot;, new JObject()); return claims[&amp;quot;ipaddr&amp;quot;]?.ToString() ?? &quot;unknown&quot;;}" />\r\n\t<!-- Security check: Compare JWT IP with Client IP -->\r\n\t<set-variable name="ip-match" value="@{var jwtIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-ip&amp;quot;, &amp;quot;unknown&amp;quot;); var clientIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&quot;client-ip&quot;, &quot;0.0.0.0&quot;); if (jwtIp != &quot;unknown&quot; &amp;&amp; clientIp != &quot;0.0.0.0&quot;) { return jwtIp.Equals(clientIp, StringComparison.OrdinalIgnoreCase) ? &quot;true&quot; : &quot;false&quot;;}&#xD;&#xA;        return &quot;unknown&quot;;&#xD;&#xA;    }" />\r\n\t<!-- Log security event if IP mismatch detected -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ip-match&amp;quot;) == &quot;false&quot;)">\r\n\t\t\t<trace source="Security-IP-Mismatch" severity="error">\r\n\t\t\t\t<message>@{var userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;); var jwtIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-ip&amp;quot;); var clientIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;("client-ip", "0.0.0.0"); return "IP Mismatch Detected | " + "User: " + userId + " | " + "JWT-IP: " + jwtIp + " | " + "Client-IP: " + clientIp + " | " + "RequestId: " + context.RequestId;}</message>\r\n\t\t\t</trace>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- IP match OK or unknown -->\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Update subscription context for JWT users -->\r\n\t<set-variable name="subscription-name" value="@{var userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;); return userId;}" />\r\n\t<set-variable name="subscription-key" value="@{return context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;jwt-user&amp;quot;);}" />\r\n\t<!-- Extract client identity and roles -->\r\n\t<set-variable name="client-identity" value="@{try { var jwt = context.Request.Headers.GetValueOrDefault(&quot;Authorization&quot;, &quot;&quot;); if (!string.IsNullOrEmpty(jwt) &amp;&amp; jwt.StartsWith(&quot;Bearer &quot;)) { var tokenParts = jwt.Substring(7).Split(\'.\'); if (tokenParts.Length &gt;= 2) { var payload = tokenParts[1]; int pad = 4 - (payload.Length % 4); if (pad &lt; 4) { payload += new string(\'=\', pad);}&#xD;&#xA;                    var payloadJson = Encoding.UTF8.GetString(Convert.FromBase64String(payload.Replace(\'-\', \'+\').Replace(\'_\', \'/\')));&#xD;&#xA;                    var json = JObject.Parse(payloadJson);&#xD;&#xA;                    return (string)(json[&amp;quot;name&amp;quot;] ?? json[&amp;quot;preferred_username&amp;quot;] ?? json[&amp;quot;sub&amp;quot;] ?? json[&amp;quot;appid&amp;quot;]) ?? &quot;unknown-client&quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch {}&#xD;&#xA;        return &quot;unknown-client&quot;;&#xD;&#xA;    }" />\r\n\t<set-variable name="user-roles" value="@{try { var jwt = context.Request.Headers.GetValueOrDefault(&quot;Authorization&quot;, &quot;&quot;); if (!string.IsNullOrEmpty(jwt) &amp;&amp; jwt.StartsWith(&quot;Bearer &quot;)) { var tokenParts = jwt.Substring(7).Split(\'.\'); if (tokenParts.Length &gt;= 2) { var payload = tokenParts[1]; int pad = 4 - (payload.Length % 4); if (pad &lt; 4) { payload += new string(\'=\', pad);}&#xD;&#xA;                    var payloadJson = Encoding.UTF8.GetString(Convert.FromBase64String(payload.Replace(\'-\', \'+\').Replace(\'_\', \'/\')));&#xD;&#xA;                    var json = JObject.Parse(payloadJson);&#xD;&#xA;                    var roles = json[&amp;quot;roles&amp;quot;];&#xD;&#xA;                    if (roles != null &amp;&amp; roles.Type == JTokenType.Array) {&#xD;&#xA;                        var roleValues = &quot;&quot;;&#xD;&#xA;                        var first = true;&#xD;&#xA;                        foreach (var role in roles) {&#xD;&#xA;                            if (first) {&#xD;&#xA;                                roleValues = role.ToString();&#xD;&#xA;                                first = false;&#xD;&#xA;                            } else {&#xD;&#xA;                                roleValues = roleValues + &quot;,&quot; + role.ToString();&#xD;&#xA;                            }&#xD;&#xA;                        }&#xD;&#xA;                        return roleValues;&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;        } catch {}&#xD;&#xA;        return &quot;&quot;;&#xD;&#xA;    }" />\r\n\t<!-- Check app roles - only for AIWorks tokens -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-azure-ai-token&amp;quot;) != &quot;true&quot;)">\r\n\t\t\t<!-- AIWorks tokens require app role validation -->\r\n\t\t\t<set-variable name="required-roles" value="@{try { var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); if (jwtConfig != null &amp;&amp; jwtConfig[&amp;quot;required-role&amp;quot;] != null) { return jwtConfig[&amp;quot;required-role&amp;quot;].ToString();}&#xD;&#xA;                    return &quot;AIWorks.User&quot;;&#xD;&#xA;                } catch {&#xD;&#xA;                    return &quot;AIWorks.User&quot;;&#xD;&#xA;                }&#xD;&#xA;            }" />\r\n\t\t\t<set-variable name="has-required-role" value="@{var userRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-roles&amp;quot;, &amp;quot;&amp;quot;); var requiredRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;required-roles&amp;quot;, &amp;quot;&amp;quot;); if (string.IsNullOrEmpty(userRoles)) { return &quot;false&quot;;}&#xD;&#xA;                &#xD;&#xA;                var userRoleList = userRoles.Split(\',\');&#xD;&#xA;                var requiredRoleList = requiredRoles.Split(\',\');&#xD;&#xA;                &#xD;&#xA;                // Check if any required role exists in user roles&#xD;&#xA;                foreach (var reqRole in requiredRoleList) {&#xD;&#xA;                    foreach (var userRole in userRoleList) {&#xD;&#xA;                        if (reqRole.Trim() == userRole.Trim()) {&#xD;&#xA;                            return &quot;true&quot;;&#xD;&#xA;                        }&#xD;&#xA;                    }&#xD;&#xA;                }&#xD;&#xA;                return &quot;false&quot;;&#xD;&#xA;            }" />\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Azure AI tokens don\'t require app role validation -->\r\n\t\t\t<set-variable name="has-required-role" value="true" />\r\n\t\t\t<set-variable name="required-roles" value="none-required-for-azure-ai" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Authorization check -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-required-role&amp;quot;) != &quot;true&quot;)">\r\n\t\t\t<trace source="Auth-Access-Denied" severity="error">\r\n\t\t\t\t<message>@{var clientIdentity = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-identity&amp;quot;, &amp;quot;unknown&amp;quot;); var userRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-roles&amp;quot;, &amp;quot;none&amp;quot;); var requiredRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;required-roles&amp;quot;, &amp;quot;unknown&amp;quot;); return "Access denied - insufficient app roles (pass-through mode) | User: " + clientIdentity + " | User roles: [" + userRoles + "] | Required roles: [" + requiredRoles + "]";}</message>\r\n\t\t\t</trace>\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="403" reason="Forbidden" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{var clientIdentity = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-identity&amp;quot;, &amp;quot;unknown&amp;quot;); var userRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-roles&amp;quot;, &amp;quot;&amp;quot;); var requiredRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;required-roles&amp;quot;, &amp;quot;&amp;quot;); var requestId = context.RequestId.ToString(); return "{\\"error\\":{\\"code\\":\\"403\\",\\"message\\":\\"Access denied. User does not have required app roles for API access.\\",\\"target\\":\\"Authorization\\",\\"details\\":{\\"user\\":\\"" + clientIdentity + "\\",\\"user_roles\\":[" + (string.IsNullOrEmpty(userRoles) ? "" : "\\"" + userRoles.Replace(",", "\\",\\"") + "\\"") + "],\\"required_roles\\":[\\"" + requiredRoles.Replace(",", "\\",\\"") + "\\"],\\"requestId\\":\\"" + requestId + "\\"}}}";\r\n                }</set-body>\r\n\t\t\t</return-response>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Access granted - Enhanced auth success logging with IP correlation (v1.3) -->\r\n\t\t\t<trace source="Auth-Success" severity="information">\r\n\t\t\t\t<message>@{var userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;); var clientIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;("client-ip", "0.0.0.0"); var jwtIp = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-ip&amp;quot;, &amp;quot;&amp;quot;); var ipMatch = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ip-match&amp;quot;, &amp;quot;unknown&amp;quot;); return "JAPT|U:" + userId + "|CIP:" + clientIp + "|JIP:" + jwtIp + "|IPM:" + ipMatch + "|TS:" + DateTime.UtcNow.ToString("yyyy-MM-ddTHH:mm:ss.fffZ");}</message>\r\n\t\t\t</trace>\r\n\t\t\t<set-header name="X-Auth-Type" exists-action="override">\r\n\t\t\t\t<value>jwt-passthrough</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-User-Roles" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-roles&amp;quot;, &amp;quot;&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t\t<set-header name="X-User-Identity" exists-action="override">\r\n\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-identity&amp;quot;, &amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t</set-header>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- IMPORTANT: DO NOT replace Authorization header - pass JWT to backend -->\r\n\t<!-- The original JWT token in Authorization header will be passed through to the backend -->\r\n\t<!-- Set diagnostic headers -->\r\n\t<set-header name="X-Security-Mode" exists-action="override">\r\n\t\t<value>jwt-passthrough-v1.3</value>\r\n\t</set-header>\r\n\t<set-header name="X-JWT-PassThrough" exists-action="override">\r\n\t\t<value>true</value>\r\n\t</set-header>\r\n\t<!-- Enhanced logging for multi-audience JWT -->\r\n\t<trace source="JWT-Auth-Type" severity="information">\r\n\t\t<message>@{var audience = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-audience&amp;quot;, &amp;quot;unknown&amp;quot;); var tokenType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-azure-ai-token&amp;quot;) == "true" ? "Azure AI" : "AIWorks"; var userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;); var requiredRoles = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;required-roles&amp;quot;, &amp;quot;none&amp;quot;); return $"JWT authentication type | Type: {tokenType} | Audience: {audience} | User: {userId} | Required-Roles: {requiredRoles} | Mode: pass-through";\r\n        }</message>\r\n\t</trace>\r\n\t<!-- Client IP detection removed - now handled at beginning of fragment -->\r\n\t<set-variable name="client-user-agent" value="@(context.Request.Headers.GetValueOrDefault(&amp;quot;User-Agent&amp;quot;, &amp;quot;unknown&amp;quot;))" />\r\n\t<set-variable name="has-api-key" value="false" />\r\n\t<set-variable name="api-key-header" value="@(&amp;quot;&amp;quot;)" />\r\n\t<!-- Model validation context -->\r\n\t<set-variable name="should-validate-model" value="@{try { var skipModelValidation = false; var path = context.Request.Url.Path.ToLower(); var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;); if (path.IndexOf(&quot;/models&quot;) &gt;= 0 || (apiType == &quot;assistants&quot; &amp;&amp; (context.Request.Method == &quot;GET&quot; || path.IndexOf(&quot;/files&quot;) &gt;= 0))) { skipModelValidation = true;}&#xD;&#xA;            &#xD;&#xA;            if (skipModelValidation) {&#xD;&#xA;                return &quot;false&quot;;&#xD;&#xA;            }&#xD;&#xA;            &#xD;&#xA;            var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;).ToLower();&#xD;&#xA;            &#xD;&#xA;            if (modelId == &quot;unknown&quot;) {&#xD;&#xA;                context.Trace(&quot;Model-Debug&quot;, &quot;鏝 Model marked as unknown, temporarily allowing for debugging&quot;);&#xD;&#xA;                return &quot;false&quot;;&#xD;&#xA;            }&#xD;&#xA;            &#xD;&#xA;            return &quot;true&quot;;&#xD;&#xA;        }&#xD;&#xA;        catch (Exception) {&#xD;&#xA;            return &quot;false&quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Security_Unified 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Security-Unified'
  properties: {
    description: 'AIWorks Defines the Unified Security configuration'
    value: '<!--\r\nFragment: AIWorks-Security-Unified\r\nVersion: 2.15\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nProvides unified authentication for API key and JWT methods with managed identity backend authentication.\r\nHandles both traditional API key authentication and JWT Bearer token validation with Microsoft Entra ID.\r\nImplements ownership validation for responses/conversations APIs to ensure cross-user access prevention.\r\n\r\nFEATURES:\r\n- Dual authentication support (API key + JWT Bearer token)\r\n- Priority-based authentication (API key takes precedence)\r\n- JWT configuration from model-config jwt-std-auth section\r\n- Microsoft Entra ID integration with scope and role validation\r\n- Ownership validation for responses/conversations APIs with 31-day cache\r\n- Cache-based resource ownership lookup for non-create operations\r\n- Custom error messages for ownership validation failures\r\n- Azure Managed Identity backend authentication with token caching\r\n- Client IP detection and correlation with JWT claims\r\n- Comprehensive authentication audit logging\r\n- CORS header configuration\r\n\r\nVARIABLES CONSUMED:\r\n- config-parsed: Parsed model-config JSON object containing jwt-std-auth section\r\n- api-type: API type for ownership validation routing\r\n- responses-operation: Operation type for responses/conversations APIs (from AIWorks-v1-Operations)\r\n- responses-resource-id: Resource ID for ownership validation (from AIWorks-v1-Operations)\r\n\r\nVARIABLES PRODUCED:\r\n- auth-method: Authentication method used ("api-key", "jwt", "none")\r\n- user-id: User identifier (subscription name for API key, UPN for JWT)\r\n- client-ip: Detected client IP address\r\n- has-api-key: Whether API key header is present (string "true"/"false")\r\n- has-bearer-token: Whether Bearer token is present (string "true"/"false")\r\n- subscription-name: Subscription or user identifier\r\n- product-tier: Product tier from configuration\r\n- jwt-ip: IP address from JWT claims\r\n- ip-match: Whether JWT IP matches client IP\r\n- responses-user-owns-resource: Whether user owns the resource (string "true"/"false")\r\n- responses-access-granted: Whether access is granted (string "true"/"false")\r\n- ownership-cache-key: Cache key for ownership lookup\r\n- cached-owner: Cached owner from previous requests\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: For jwt-std-auth configuration section\r\n- AIWorks-v1-Operations: For responses-operation and responses-resource-id variables\r\n- Azure Managed Identity: For backend authentication tokens\r\n- APIM Subscription: For API key validation\r\n- Azure Cache: For ownership validation caching\r\n-->\r\n<fragment fragment-id="AIWorks-Security-Unified">\r\n\t<!-- Extract authentication headers -->\r\n\t<set-variable name="api-key-header" value="@(context.Request.Headers.GetValueOrDefault(&amp;quot;api-key&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t<set-variable name="auth-header" value="@(context.Request.Headers.GetValueOrDefault(&amp;quot;Authorization&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t<set-variable name="has-api-key" value="@(!string.IsNullOrEmpty(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-key-header&amp;quot;)))" />\r\n\t<set-variable name="has-bearer-token" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-header&amp;quot;, &amp;quot;&amp;quot;).StartsWith(&amp;quot;Bearer &amp;quot;, StringComparison.OrdinalIgnoreCase))" />\r\n\t<!-- Determine authentication method -->\r\n\t<set-variable name="auth-method" value="@{&#xD;&#xA;&#x9;&#x9;var hasApiKey = context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;has-api-key&amp;quot;); &#xD;&#xA;&#x9;&#x9;var hasBearerToken = context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;has-bearer-token&amp;quot;); &#xD;&#xA;&#x9;&#x9;if (hasApiKey) { return &amp;quot;api-key&amp;quot;; } &#xD;&#xA;&#x9;&#x9;else if (hasBearerToken) { return &amp;quot;jwt&amp;quot;; } &#xD;&#xA;&#x9;&#x9;else { return &amp;quot;none&amp;quot;; }&#xD;&#xA;&#x9;}" />\r\n\t<!-- Set subscription context -->\r\n\t<set-variable name="subscription-key" value="@{&#xD;&#xA;&#x9;&#x9;var authMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;); &#xD;&#xA;&#x9;&#x9;if (authMethod == &amp;quot;api-key&amp;quot;) { return context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-key-header&amp;quot;); }&#xD;&#xA;&#x9;&#x9;return &amp;quot;No Key&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<set-variable name="subscription-name" value="@{&#xD;&#xA;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;var authMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;if (authMethod == &amp;quot;api-key&amp;quot;) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var subscriptionName = context.Subscription?.Name; &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(subscriptionName)) { return subscriptionName; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;api-key-unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;} else if (authMethod == &amp;quot;jwt&amp;quot;) { return &amp;quot;jwt-auth&amp;quot;; } &#xD;&#xA;&#x9;&#x9;&#x9;else { return &amp;quot;no-auth&amp;quot; ; }&#xD;&#xA;&#x9;&#x9;} catch { return &amp;quot;unknown&amp;quot;; }&#xD;&#xA;&#x9;}" />\r\n\t<!-- Initialize variables -->\r\n\t<set-variable name="user-id" value="@(&amp;quot;&amp;quot;)" />\r\n\t<set-variable name="jwt-ip" value="@(&amp;quot;&amp;quot;)" />\r\n\t<set-variable name="ip-match" value="@(&amp;quot;unknown&amp;quot;)" />\r\n\t<!-- Authentication and authorization -->\r\n\t<choose>\r\n\t\t<!-- API KEY AUTHENTICATION -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;) == &amp;quot;api-key&amp;quot;)">\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Subscription == null)">\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="401" reason="Unauthorized" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;inference&amp;quot;); \r\n\t\t\t\t\t\t\tvar requestId = context.RequestId.ToString(); \r\n\t\t\t\t\t\t\tif (apiType == &amp;quot;openai&amp;quot; || apiType == &amp;quot;responses&amp;quot;) { \r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;AuthenticationError\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Invalid API key. The provided key is not associated with an active subscription.\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t} else if (apiType == &amp;quot;assistants&amp;quot;) {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Invalid API key. The provided key is not associated with an active subscription.\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;authentication_error\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;401\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Invalid API key\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;api-key\\&amp;quot;,\\&amp;quot;innerError\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;InvalidAPIKey\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;The provided key is not associated with an active subscription\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + requestId + &amp;quot;\\&amp;quot;}}}&amp;quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Valid subscription -->\r\n\t\t\t\t\t<set-variable name="product-tier" value="standard" />\r\n\t\t\t\t\t<!-- Set user-id to subscription name for consistency with ownership validation -->\r\n\t\t\t\t\t<set-variable name="user-id" value="@(context.Subscription?.Name ?? context.Subscription?.Id ?? &amp;quot;api-key-unknown&amp;quot;)" />\r\n\t\t\t\t\t<trace source="Auth-Success" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;API key authentication successful | Subscription: &amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot; | Path: &amp;quot; + context.Request.Url.Path)</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<set-header name="X-Auth-Type" exists-action="override">\r\n\t\t\t\t\t\t<value>api-key</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<!-- JWT AUTHENTICATION -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;) == &amp;quot;jwt&amp;quot;)">\r\n\t\t\t<!-- Get JWT config -->\r\n\t\t\t<set-variable name="jwt-config" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (config != null &amp;amp;&amp;amp; config[&amp;quot;jwt-std-auth&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return config[&amp;quot;jwt-std-auth&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { return null; }&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="jwt-app-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (jwtConfig != null &amp;amp;&amp;amp; jwtConfig[&amp;quot;app-registration-id&amp;quot;] != null) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return jwtConfig[&amp;quot;app-registration-id&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { return null; }&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="jwt-openid-url" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (jwtConfig != null &amp;amp;&amp;amp; jwtConfig[&amp;quot;openid-config-url&amp;quot;] != null) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return jwtConfig[&amp;quot;openid-config-url&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { return null; }&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="jwt-issuer" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (jwtConfig != null &amp;amp;&amp;amp; jwtConfig[&amp;quot;issuer&amp;quot;] != null) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return jwtConfig[&amp;quot;issuer&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return null;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch { return null; }&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Check JWT config -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var jwtConfig = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-config&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var appId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-app-id&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var openidUrl = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-openid-url&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var issuer = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-issuer&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return jwtConfig == null || string.IsNullOrEmpty(appId) || string.IsNullOrEmpty(openidUrl) || string.IsNullOrEmpty(issuer);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="500" reason="Internal Server Error" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\tvar requestId = context.RequestId.ToString(); \r\n\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;500\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;JWT authentication configuration is incomplete or missing in model-config.\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;Configuration\\&amp;quot;,\\&amp;quot;innerError\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;IncompleteJWTConfig\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + requestId + &amp;quot;\\&amp;quot;}}}&amp;quot;;\r\n\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Validate JWT token -->\r\n\t\t\t\t\t<validate-jwt header-name="Authorization" require-scheme="Bearer" failed-validation-httpcode="401" failed-validation-error-message="JWT authentication failed">\r\n\t\t\t\t\t\t<openid-config url="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-openid-url&amp;quot;))" />\r\n\t\t\t\t\t\t<audiences>\r\n\t\t\t\t\t\t\t<audience>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-app-id&amp;quot;))</audience>\r\n\t\t\t\t\t\t</audiences>\r\n\t\t\t\t\t\t<issuers>\r\n\t\t\t\t\t\t\t<issuer>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-issuer&amp;quot;))</issuer>\r\n\t\t\t\t\t\t</issuers>\r\n\t\t\t\t\t\t<required-claims>\r\n\t\t\t\t\t\t\t<claim name="scp" match="any" separator=" ">\r\n\t\t\t\t\t\t\t\t<value>access_as_user</value>\r\n\t\t\t\t\t\t\t\t<value>.default</value>\r\n\t\t\t\t\t\t\t</claim>\r\n\t\t\t\t\t\t</required-claims>\r\n\t\t\t\t\t</validate-jwt>\r\n\t\t\t\t\t<!-- Extract JWT claims -->\r\n\t\t\t\t\t<set-variable name="jwt-claims" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var jwt = context.Request.Headers.GetValueOrDefault(&amp;quot;Authorization&amp;quot;, &amp;quot;&amp;quot;); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(jwt) &amp;amp;&amp;amp; jwt.StartsWith(&amp;quot;Bearer &amp;quot;)) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var tokenParts = jwt.Substring(7).Split(\'.\'); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (tokenParts.Length &amp;gt;= 2) { &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var payload = tokenParts[1]; &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;int pad = 4 - (payload.Length % 4); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (pad &amp;lt; 4) { payload += new string(\'=\', pad); }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var payloadJson = Encoding.UTF8.GetString(Convert.FromBase64String(payload.Replace(\'-\', \'+\').Replace(\'_\', \'/\')));&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var json = JObject.Parse(payloadJson);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var claims = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;claims[&amp;quot;upn&amp;quot;] = json[&amp;quot;upn&amp;quot;]?.ToString() ?? json[&amp;quot;preferred_username&amp;quot;]?.ToString() ?? json[&amp;quot;email&amp;quot;]?.ToString() ?? json[&amp;quot;sub&amp;quot;]?.ToString() ?? &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;claims[&amp;quot;ipaddr&amp;quot;] = json[&amp;quot;ipaddr&amp;quot;]?.ToString() ?? &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return claims;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Set user variables -->\r\n\t\t\t\t\t<set-variable name="user-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var claims = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;jwt-claims&amp;quot;, new JObject()); &#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return claims[&amp;quot;upn&amp;quot;]?.ToString() ?? &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="subscription-name" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;jwt-user&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<set-variable name="product-tier" value="standard" />\r\n\t\t\t\t\t<trace source="Auth-Success" severity="information">\r\n\t\t\t\t\t\t<message>@(&amp;quot;JA|U:&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;) + &amp;quot;|CIP:&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-ip&amp;quot;, &amp;quot;0.0.0.0&amp;quot;) + &amp;quot;|TS:&amp;quot; + DateTime.UtcNow.ToString(&amp;quot;yyyy-MM-ddTHH:mm:ss.fffZ&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<set-header name="X-Auth-Type" exists-action="override">\r\n\t\t\t\t\t\t<value>jwt</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<!-- NO AUTHENTICATION -->\r\n\t\t<otherwise>\r\n\t\t\t<trace source="Auth-Error" severity="error">\r\n\t\t\t\t<message>@(&amp;quot;No authentication provided | Method: &amp;quot; + context.Request.Method + &amp;quot; | Path: &amp;quot; + context.Request.Url.Path)</message>\r\n\t\t\t</trace>\r\n\t\t\t<return-response>\r\n\t\t\t\t<set-status code="401" reason="Unauthorized" />\r\n\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t</set-header>\r\n\t\t\t\t<set-body>@{\r\n\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;inference&amp;quot;); \r\n\t\t\t\t\tvar requestId = context.RequestId.ToString(); \r\n\t\t\t\t\tif (apiType == &amp;quot;openai&amp;quot; || apiType == &amp;quot;responses&amp;quot;) { \r\n\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;AuthenticationError\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Authentication required. Please provide either an API key via \'api-key\' header or a JWT token via \'Authorization: Bearer\' header.\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t} else if (apiType == &amp;quot;assistants&amp;quot;) {\r\n\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Authentication required. Please provide either an API key via \'api-key\' header or a JWT token via \'Authorization: Bearer\' header.\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;authentication_error\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;401\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Authentication required\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;Authorization\\&amp;quot;,\\&amp;quot;innerError\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;NoAuthentication\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + requestId + &amp;quot;\\&amp;quot;}}}&amp;quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t}</set-body>\r\n\t\t\t</return-response>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- RESPONSES API OWNERSHIP VALIDATION (NEW v2.8) -->\r\n\t<choose>\r\n\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;var path = context.Request.Url.Path.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;// Use routing-api-type which is set by AIWorks-Route-Analysis&#xD;&#xA;&#x9;&#x9;&#x9;var apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;// Check for both responses and responses-v1 types, plus path patterns&#xD;&#xA;&#x9;&#x9;&#x9;return (apiType == &amp;quot;responses&amp;quot; || apiType == &amp;quot;responses-v1&amp;quot; || apiType == &amp;quot;conversations&amp;quot;) ||&#xD;&#xA;&#x9;&#x9;&#x9;       (path.IndexOf(&amp;quot;/responses/&amp;quot;) &amp;gt;= 0 || path.IndexOf(&amp;quot;/openai/responses/&amp;quot;) &amp;gt;= 0 ||&#xD;&#xA;&#x9;&#x9;&#x9;        path.IndexOf(&amp;quot;/conversations/&amp;quot;) &amp;gt;= 0);&#xD;&#xA;&#x9;&#x9;}">\r\n\t\t\t<!-- DEBUG: Trace that ownership validation is starting -->\r\n\t\t\t<trace source="Ownership-Validation-Start" severity="information">\r\n\t\t\t\t<message>@{\r\n\t\t\t\t\tvar path = context.Request.Url.Path;\r\n\t\t\t\t\tvar method = context.Request.Method;\r\n\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;routing-api-type&amp;quot;, &amp;quot;empty&amp;quot;);\r\n\t\t\t\t\treturn &amp;quot;Starting ownership validation | Path: &amp;quot; + path + &amp;quot; | Method: &amp;quot; + method + &amp;quot; | API Type: &amp;quot; + apiType;\r\n\t\t\t\t}</message>\r\n\t\t\t</trace>\r\n\t\t\t<!-- Operation and resource ID are extracted by AIWorks-v1-Operations fragment -->\r\n\t\t\t<!-- The variables responses-operation and responses-resource-id are already set -->\r\n\t\t\t<!-- Temporarily override if not set (for backwards compatibility until v1-Operations is deployed) -->\r\n\t\t\t<set-variable name="responses-operation" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var path = context.Request.Url.Path.ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var method = context.Request.Method.ToUpper();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (method == &amp;quot;POST&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (path.IndexOf(&amp;quot;/responses&amp;quot;) &amp;gt;= 0 &amp;amp;&amp;amp; path.IndexOf(&amp;quot;/responses/&amp;quot;) &amp;lt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;create&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} else if (path.IndexOf(&amp;quot;/conversations&amp;quot;) &amp;gt;= 0 &amp;amp;&amp;amp; path.IndexOf(&amp;quot;/conversations/&amp;quot;) &amp;lt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;create&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (method == &amp;quot;GET&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (path.IndexOf(&amp;quot;/responses/&amp;quot;) &amp;gt;= 0 || path.IndexOf(&amp;quot;/conversations/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;read&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (method == &amp;quot;PUT&amp;quot; || method == &amp;quot;PATCH&amp;quot;) { return &amp;quot;update&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (method == &amp;quot;DELETE&amp;quot;) { return &amp;quot;delete&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="responses-resource-id" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var path = context.Request.Url.Path;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (operation == &amp;quot;create&amp;quot;) { return &amp;quot;&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (path.IndexOf(&amp;quot;/responses/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var parts = path.Split(new[] { &amp;quot;/responses/&amp;quot; }, StringSplitOptions.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (parts.Length &amp;gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var resourcePart = parts[1];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var nextSlash = resourcePart.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return nextSlash &amp;gt;= 0 ? resourcePart.Substring(0, nextSlash) : resourcePart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} else if (path.IndexOf(&amp;quot;/conversations/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var parts = path.Split(new[] { &amp;quot;/conversations/&amp;quot; }, StringSplitOptions.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (parts.Length &amp;gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var resourcePart = parts[1];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var nextSlash = resourcePart.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return nextSlash &amp;gt;= 0 ? resourcePart.Substring(0, nextSlash) : resourcePart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;} catch {}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Cache-based ownership lookup for non-create operations -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return operation != &amp;quot;create&amp;quot; &amp;amp;&amp;amp; !string.IsNullOrEmpty(resourceId);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t<set-variable name="ownership-cache-key" value="@(&amp;quot;ownership:&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;&amp;quot;))" />\r\n\t\t\t\t\t<cache-lookup-value key="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ownership-cache-key&amp;quot;, &amp;quot;&amp;quot;))" variable-name="cached-owner" />\r\n\t\t\t\t\t<set-variable name="has-cached-owner" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cached-owner&amp;quot;) != null ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;)" />\r\n\t\t\t\t\t<trace source="Ownership-Cache-Lookup" severity="information">\r\n\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\tvar cacheKey = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ownership-cache-key&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\t\t\t\t\tvar cachedOwner = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cached-owner&amp;quot;);\r\n\t\t\t\t\t\t\tvar hasCached = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-cached-owner&amp;quot;, &amp;quot;false&amp;quot;);\r\n\t\t\t\t\t\t\treturn &amp;quot;Cache lookup | Key: &amp;quot; + cacheKey + &amp;quot; | Found: &amp;quot; + hasCached + &amp;quot; | Owner: &amp;quot; + (cachedOwner ?? &amp;quot;null&amp;quot;);\r\n\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<set-variable name="ownership-cache-key" value="" />\r\n\t\t\t\t\t<set-variable name="cached-owner" value="@((string)null)" />\r\n\t\t\t\t\t<set-variable name="has-cached-owner" value="false" />\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t\t<set-variable name="responses-user-owns-resource" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var authMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var hasCachedOwner = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;has-cached-owner&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var cachedOwner = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cached-owner&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// For create operations, always allow if authenticated&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (operation == &amp;quot;create&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return authMethod != &amp;quot;none&amp;quot; ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Basic validation for non-create operations&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(resourceId) || string.IsNullOrEmpty(userId) || authMethod == &amp;quot;none&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use the user-id variable consistently for all auth methods&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// This ensures the same value is used for both caching and retrieval&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var currentUserId = userId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (string.IsNullOrEmpty(currentUserId)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Use cache-based ownership validation if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (hasCachedOwner == &amp;quot;true&amp;quot; &amp;amp;&amp;amp; !string.IsNullOrEmpty(cachedOwner)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Compare current user with cached owner&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return cachedOwner == currentUserId ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Fallback: If no cached ownership data, deny access for security&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Resources should only be accessible if ownership is properly cached&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return &amp;quot;false&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<set-variable name="responses-access-granted" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-user-owns-resource&amp;quot;, &amp;quot;false&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Check if access denied -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-access-granted&amp;quot;, &amp;quot;false&amp;quot;) == &amp;quot;false&amp;quot;)">\r\n\t\t\t\t\t<trace source="Responses-Access-Denied" severity="error">\r\n\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\tvar operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\t\t\t\t\tvar userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\treturn &amp;quot;Access denied - ownership validation failed | Operation: &amp;quot; + operation + &amp;quot; | ResourceId: &amp;quot; + resourceId + &amp;quot; | UserId: &amp;quot; + userId;\r\n\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="403" reason="Forbidden" />\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\tvar operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;&amp;quot;);\r\n\t\t\t\t\t\t\tvar userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar requestId = context.RequestId.ToString();\r\n\t\t\t\t\t\t\tvar apiType = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;responses&amp;quot;);\r\n\t\t\t\t\t\t\tvar authMethod = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar subscriptionId = context.Subscription?.Id ?? &amp;quot;unknown&amp;quot;;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (apiType == &amp;quot;responses&amp;quot; || apiType == &amp;quot;conversations&amp;quot;) {\r\n\t\t\t\t\t\t\t\tvar errorDetails = new {\r\n\t\t\t\t\t\t\t\t\terror = new {\r\n\t\t\t\t\t\t\t\t\t\tcode = &amp;quot;PermissionDenied&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Access denied. You do not have permission to access this resource.&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\ttarget = &amp;quot;Authorization&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\tdetails = new {\r\n\t\t\t\t\t\t\t\t\t\t\treason = &amp;quot;ownership_validation_failed&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\toperation = operation,\r\n\t\t\t\t\t\t\t\t\t\t\tresource_id = string.IsNullOrEmpty(resourceId) ? &amp;quot;missing&amp;quot; : resourceId.Length &amp;gt; 8 ? resourceId.Substring(0, 8) + &amp;quot;...&amp;quot; : resourceId,\r\n\t\t\t\t\t\t\t\t\t\t\tauth_method = authMethod,\r\n\t\t\t\t\t\t\t\t\t\t\trequest_id = requestId,\r\n\t\t\t\t\t\t\t\t\t\t\tsupport_info = new {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;User does not own the requested resource&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\taction = &amp;quot;Verify the resource belongs to the authenticated user&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t\tsubscription = authMethod == &amp;quot;api-key&amp;quot; ? (subscriptionId.Length &amp;gt; 8 ? subscriptionId.Substring(0, 8) + &amp;quot;...&amp;quot; : subscriptionId) : &amp;quot;n/a&amp;quot;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\treturn Newtonsoft.Json.JsonConvert.SerializeObject(errorDetails);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;403\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Access denied. Resource ownership validation failed.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + requestId + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<trace source="Responses-Access-Granted" severity="information">\r\n\t\t\t\t\t\t<message>@{\r\n\t\t\t\t\t\t\tvar operation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-operation&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\tvar resourceId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;responses-resource-id&amp;quot;, &amp;quot;none&amp;quot;);\r\n\t\t\t\t\t\t\tvar userId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;, &amp;quot;unknown&amp;quot;);\r\n\t\t\t\t\t\t\treturn &amp;quot;Access granted - ownership validation passed | Operation: &amp;quot; + operation + &amp;quot; | ResourceId: &amp;quot; + resourceId + &amp;quot; | UserId: &amp;quot; + userId;\r\n\t\t\t\t\t\t}</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Non-Responses API: Set default ownership variables -->\r\n\t\t\t<set-variable name="responses-operation" value="none" />\r\n\t\t\t<set-variable name="responses-resource-id" value="" />\r\n\t\t\t<set-variable name="responses-user-owns-resource" value="true" />\r\n\t\t\t<set-variable name="responses-access-granted" value="true" />\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Backend authentication with managed identity - Enhanced with retry -->\r\n\t<!-- Version: v2025-12-11 - Credential rotation mitigation -->\r\n\t<cache-lookup-value key="foundry-token" variable-name="cachedToken" />\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;cachedToken&amp;quot;) == null)">\r\n\t\t\t<!-- Try to acquire token with simple retry -->\r\n\t\t\t<authentication-managed-identity resource="https://cognitiveservices.azure.com" output-token-variable-name="managed-id-access-token" ignore-error="true" />\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.ContainsKey(&amp;quot;managed-id-access-token&amp;quot;))">\r\n\t\t\t\t\t<!-- Success - cache and use token -->\r\n\t\t\t\t\t<set-header name="Authorization" exists-action="override">\r\n\t\t\t\t\t\t<value>@(&amp;quot;Bearer &amp;quot; + context.Variables[&amp;quot;managed-id-access-token&amp;quot;])</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<cache-store-value key="foundry-token" value="@((string)context.Variables[&amp;quot;managed-id-access-token&amp;quot;])" duration="3300" />\r\n\t\t\t\t\t<trace source="Managed-Identity-Token" severity="information">\r\n\t\t\t\t\t\t<message>Successfully acquired managed identity token</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t\t<otherwise>\r\n\t\t\t\t\t<!-- Retry once on failure -->\r\n\t\t\t\t\t<authentication-managed-identity resource="https://cognitiveservices.azure.com" output-token-variable-name="managed-id-access-token-retry" ignore-error="true" />\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.ContainsKey(&amp;quot;managed-id-access-token-retry&amp;quot;))">\r\n\t\t\t\t\t\t\t<set-header name="Authorization" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(&amp;quot;Bearer &amp;quot; + context.Variables[&amp;quot;managed-id-access-token-retry&amp;quot;])</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t<cache-store-value key="foundry-token" value="@((string)context.Variables[&amp;quot;managed-id-access-token-retry&amp;quot;])" duration="3300" />\r\n\t\t\t\t\t\t\t<trace source="Managed-Identity-Token-Retry" severity="information">\r\n\t\t\t\t\t\t\t\t<message>Token acquisition succeeded on retry (2nd attempt)</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<!-- Both attempts failed - return 503 -->\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="503" reason="Service Unavailable" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-header name="Retry-After" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>60</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\t\t\treturn &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;ServiceUnavailable\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;Unable to authenticate with backend service. This may be due to credential rotation. Please retry in 60 seconds.\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;authentication_error\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.RequestId.ToString() + &amp;quot;\\&amp;quot;}}&amp;quot;;\r\n\t\t\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</otherwise>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Use cached token -->\r\n\t\t\t<set-header name="Authorization" exists-action="override">\r\n\t\t\t\t<value>@(&amp;quot;Bearer &amp;quot; + context.Variables[&amp;quot;cachedToken&amp;quot;])</value>\r\n\t\t\t</set-header>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- Set client IP -->\r\n\t<set-variable name="client-ip" value="@{&#xD;&#xA;&#x9;&#x9;var xff = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Forwarded-For&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(xff)) {&#xD;&#xA;&#x9;&#x9;&#x9;var ips = xff.Split(\',\');&#xD;&#xA;&#x9;&#x9;&#x9;if (ips.Length &amp;gt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var firstIp = ips[0].Trim();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(firstIp)) { return firstIp; }&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;var xRealIp = context.Request.Headers.GetValueOrDefault(&amp;quot;X-Real-IP&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(xRealIp)) { return xRealIp.Trim(); }&#xD;&#xA;&#x9;&#x9;var directIp = context.Request.IpAddress;&#xD;&#xA;&#x9;&#x9;if (!string.IsNullOrEmpty(directIp)) { return directIp; }&#xD;&#xA;&#x9;&#x9;return &amp;quot;0.0.0.0&amp;quot;;&#xD;&#xA;&#x9;}" />\r\n\t<!-- Headers and compatibility -->\r\n\t<set-header name="X-Security-Mode" exists-action="override">\r\n\t\t<value>unified-auth-v2.8</value>\r\n\t</set-header>\r\n\t<set-variable name="client-user-agent" value="@(context.Request.Headers.GetValueOrDefault(&amp;quot;User-Agent&amp;quot;, &amp;quot;unknown&amp;quot;))" />\r\n\t<set-variable name="client-identity" value="@(&amp;quot;&amp;quot;)" />\r\n\t<set-variable name="user-roles" value="@(&amp;quot;&amp;quot;)" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Token_Tracking 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Token-Tracking'
  properties: {
    description: 'AIWorks Defines the complete Token-Tracking configuration'
    value: '<!--\r\nFragment: AIWorks-Token-Tracking\r\nVersion: 2.4 - Added Anthropic token tracking support\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\n- Token usage tracking and billing support\r\n- Backend auth failure logging\r\n- Content filter violation detection (400 errors and 200 Responses API)\r\n- Projects API context tracking\r\n- Non-token operation logging\r\n- AI metrics and response headers\r\n-->\r\n<fragment fragment-id="AIWorks-Token-Tracking">\r\n\t<!-- Model resolution and tracking setup -->\r\n\t<set-variable name="mr" value="@{var m=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;&amp;quot;);var b=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;,&amp;quot;&amp;quot;);return(m!=&amp;quot;&amp;quot;&amp;amp;&amp;amp;m!=&amp;quot;unknown&amp;quot;&amp;amp;&amp;amp;b!=&amp;quot;&amp;quot;)?&amp;quot;true&amp;quot;:&amp;quot;false&amp;quot;;}" />\r\n\t<set-variable name="tt" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;no-model-required&amp;quot;)&amp;lt;0?&amp;quot;true&amp;quot;:&amp;quot;false&amp;quot;)" />\r\n\t<set-variable name="tc" value="@{try{var c=JObject.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;,&amp;quot;{}&amp;quot;));return c[&amp;quot;token_tracking&amp;quot;]!=null?c[&amp;quot;token_tracking&amp;quot;].ToObject&amp;lt;JObject&amp;gt;():new JObject{[&amp;quot;enabled&amp;quot;]=true};}catch{return new JObject{[&amp;quot;enabled&amp;quot;]=true};}}" />\r\n\t<set-variable name="lt" value="@{var t=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;tc&amp;quot;);return t!=null&amp;amp;&amp;amp;t[&amp;quot;enabled&amp;quot;]!=null&amp;amp;&amp;amp;t[&amp;quot;enabled&amp;quot;].Value&amp;lt;bool&amp;gt;();}" />\r\n\t<!-- Extract thread/run/assistant/project IDs -->\r\n\t<set-variable name="tid" value="@{var p=context.Request.OriginalUrl.Path;var i=p.IndexOf(&amp;quot;/threads/&amp;quot;);return i&amp;gt;=0?(p.IndexOf(&amp;quot;/&amp;quot;,i+9)&amp;gt;i+9?p.Substring(i+9,p.IndexOf(&amp;quot;/&amp;quot;,i+9)-i-9):p.Substring(i+9)):&amp;quot;&amp;quot;;}" />\r\n\t<set-variable name="rid" value="@{var p=context.Request.OriginalUrl.Path;var i=p.IndexOf(&amp;quot;/runs/&amp;quot;);if(i&amp;lt;0){return&amp;quot;&amp;quot;;}var s=i+6;var e=p.IndexOf(&amp;quot;/&amp;quot;,s);var q=p.IndexOf(&amp;quot;?&amp;quot;,s);if(q&amp;gt;=0&amp;amp;&amp;amp;(e&amp;lt;0||q&amp;lt;e)){e=q;}return e&amp;gt;s?p.Substring(s,e-s):p.Substring(s);}" />\r\n\t<set-variable name="aid" value="@{var p=context.Request.OriginalUrl.Path;var i=p.IndexOf(&amp;quot;/assistants/&amp;quot;);if(i&amp;lt;0){return&amp;quot;&amp;quot;;}var s=i+12;var e=p.IndexOf(&amp;quot;/&amp;quot;,s);var q=p.IndexOf(&amp;quot;?&amp;quot;,s);if(q&amp;gt;=0&amp;amp;&amp;amp;(e&amp;lt;0||q&amp;lt;e)){e=q;}return e&amp;gt;s?p.Substring(s,e-s):p.Substring(s);}" />\r\n\t<set-variable name="pid" value="@{var p=context.Request.OriginalUrl.Path;var i=p.IndexOf(&amp;quot;/projects/&amp;quot;);if(i&amp;lt;0){return&amp;quot;&amp;quot;;}var s=i+10;var e=p.IndexOf(&amp;quot;/&amp;quot;,s);var q=p.IndexOf(&amp;quot;?&amp;quot;,s);if(q&amp;gt;=0&amp;amp;&amp;amp;(e&amp;lt;0||q&amp;lt;e)){e=q;}return e&amp;gt;s?p.Substring(s,e-s):p.Substring(s);}" />\r\n\t<!-- Operation type detection -->\r\n\t<set-variable name="ot" value="@{try{var p=context.Request.Url.Path.ToLower();var m=context.Request.Method;if(p.IndexOf(&amp;quot;/threads/&amp;quot;)&amp;gt;=0&amp;amp;&amp;amp;p.IndexOf(&amp;quot;/runs&amp;quot;)&amp;gt;=0){if(p.IndexOf(&amp;quot;/submit_tool_outputs&amp;quot;)&amp;gt;=0){return&amp;quot;submit-tool-outputs&amp;quot;;}if(p.IndexOf(&amp;quot;/cancel&amp;quot;)&amp;gt;=0){return&amp;quot;cancel-run&amp;quot;;}if(m==&amp;quot;POST&amp;quot;){var ri=p.LastIndexOf(&amp;quot;/runs&amp;quot;);if(ri&amp;gt;=0){var ar=p.Substring(ri+5);if(ar==&amp;quot;&amp;quot;||ar.IndexOf(&amp;quot;?&amp;quot;)==0){return&amp;quot;create-run&amp;quot;;}}}if(m==&amp;quot;GET&amp;quot;){return&amp;quot;retrieve-run&amp;quot;;}return&amp;quot;run-operation&amp;quot;;}if(p.IndexOf(&amp;quot;/threads&amp;quot;)&amp;gt;=0&amp;amp;&amp;amp;p.IndexOf(&amp;quot;/messages&amp;quot;)&amp;gt;=0){return m==&amp;quot;POST&amp;quot;?&amp;quot;create-message&amp;quot;:(m==&amp;quot;GET&amp;quot;?&amp;quot;list-messages&amp;quot;:&amp;quot;message-operation&amp;quot;);}if(p.IndexOf(&amp;quot;/threads&amp;quot;)&amp;gt;=0&amp;amp;&amp;amp;m==&amp;quot;POST&amp;quot;){var ti=p.LastIndexOf(&amp;quot;/threads&amp;quot;);if(ti&amp;gt;=0){var at=p.Substring(ti+8);if(at==&amp;quot;&amp;quot;||at.IndexOf(&amp;quot;?&amp;quot;)==0){return&amp;quot;create-thread&amp;quot;;}}}if(p.IndexOf(&amp;quot;/assistants&amp;quot;)&amp;gt;=0&amp;amp;&amp;amp;m==&amp;quot;POST&amp;quot;){var ai=p.LastIndexOf(&amp;quot;/assistants&amp;quot;);if(ai&amp;gt;=0){var aa=p.Substring(ai+11);if(aa==&amp;quot;&amp;quot;||aa.IndexOf(&amp;quot;?&amp;quot;)==0){return&amp;quot;create-assistant&amp;quot;;}}}if(p.IndexOf(&amp;quot;/chat/completions&amp;quot;)&amp;gt;=0){return&amp;quot;chat-completion&amp;quot;;}if(p.IndexOf(&amp;quot;/completions&amp;quot;)&amp;gt;=0){return&amp;quot;completion&amp;quot;;}if(p.IndexOf(&amp;quot;/embeddings&amp;quot;)&amp;gt;=0){return&amp;quot;embeddings&amp;quot;;}return&amp;quot;unknown&amp;quot;;}catch{return&amp;quot;unknown&amp;quot;;}}" />\r\n\t<!-- Log variables setup -->\r\n\t<set-variable name="lv" value="@{var lv=new JObject();lv[&amp;quot;sub&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;subid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-id&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;mod&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;cip&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;client-ip&amp;quot;,&amp;quot;0.0.0.0&amp;quot;);lv[&amp;quot;uid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;user-id&amp;quot;,context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;,&amp;quot;unknown&amp;quot;));lv[&amp;quot;jip&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;jwt-ip&amp;quot;,&amp;quot;&amp;quot;);lv[&amp;quot;auth&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-method&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;api&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;op&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ot&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;be&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;selected-backend&amp;quot;,&amp;quot;unknown&amp;quot;);lv[&amp;quot;rid&amp;quot;]=context.Request.Headers.GetValueOrDefault(&amp;quot;X-Request-ID&amp;quot;,Guid.NewGuid().ToString());lv[&amp;quot;dur&amp;quot;]=(DateTime.UtcNow-context.Variables.GetValueOrDefault&amp;lt;DateTime&amp;gt;(&amp;quot;request-start-time&amp;quot;,DateTime.UtcNow)).TotalMilliseconds.ToString(&amp;quot;0&amp;quot;);lv[&amp;quot;ts&amp;quot;]=DateTime.UtcNow.ToString(&amp;quot;yyyy-MM-ddTHH:mm:ss.fffZ&amp;quot;);lv[&amp;quot;tid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tid&amp;quot;,&amp;quot;&amp;quot;);lv[&amp;quot;runid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;rid&amp;quot;,&amp;quot;&amp;quot;);lv[&amp;quot;aid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;aid&amp;quot;,&amp;quot;&amp;quot;);lv[&amp;quot;pid&amp;quot;]=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pid&amp;quot;,&amp;quot;&amp;quot;);lv[&amp;quot;status&amp;quot;]=context.Response!=null?context.Response.StatusCode.ToString():&amp;quot;0&amp;quot;;return lv;}" />\r\n\t<!-- Auth failure message setup -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response!=null)">\r\n\t\t\t<set-variable name="auth-fail-msg" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;var lv = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;lv&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;var status = context.Response.StatusCode.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;var statusReason = context.Response.StatusCode == 403 ? &amp;quot;Forbidden&amp;quot; : &amp;quot;Unauthorized&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;var msg = &amp;quot;Backend authorization failed | Status: &amp;quot; + status + &amp;quot; &amp;quot; + statusReason;&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | ModelId: &amp;quot; + lv[&amp;quot;mod&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | Backend: &amp;quot; + lv[&amp;quot;be&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | ApiType: &amp;quot; + lv[&amp;quot;api&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | Operation: &amp;quot; + lv[&amp;quot;op&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | ClientIP: &amp;quot; + lv[&amp;quot;cip&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | UserId: &amp;quot; + lv[&amp;quot;uid&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | Subscription: &amp;quot; + lv[&amp;quot;sub&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;tid&amp;quot;].ToString())) { msg += &amp;quot; | ThreadId: &amp;quot; + lv[&amp;quot;tid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;runid&amp;quot;].ToString())) { msg += &amp;quot; | RunId: &amp;quot; + lv[&amp;quot;runid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;aid&amp;quot;].ToString())) { msg += &amp;quot; | AssistantId: &amp;quot; + lv[&amp;quot;aid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;pid&amp;quot;].ToString())) { msg += &amp;quot; | ProjectId: &amp;quot; + lv[&amp;quot;pid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | RequestId: &amp;quot; + lv[&amp;quot;rid&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | DurationMs: &amp;quot; + lv[&amp;quot;dur&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | Timestamp: &amp;quot; + lv[&amp;quot;ts&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;msg += &amp;quot; | COMPLETE&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;return msg;&#xD;&#xA;&#x9;&#x9;}" />\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Additional variables for processing -->\r\n\t<set-variable name="is-streaming" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot; ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;)" />\r\n\t<set-variable name="is-embed" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embeddings-request&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot; || context.Request.OriginalUrl.Path.ToLower().IndexOf(&amp;quot;/embeddings&amp;quot;) &amp;gt;= 0 ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;)" />\r\n\t<set-variable name="token-log-created" value="@(&amp;quot;false&amp;quot;)" />\r\n\t<choose>\r\n\t\t<!-- Standard token tracking for model operations -->\r\n\t\t<when condition="@(context.Response!=null&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;lt&amp;quot;)&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;mr&amp;quot;)==&amp;quot;true&amp;quot;&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tt&amp;quot;)==&amp;quot;true&amp;quot;&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;token-log-created&amp;quot;,&amp;quot;false&amp;quot;)!=&amp;quot;true&amp;quot;)">\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Response.StatusCode==200)">\r\n\t\t\t\t\t<!-- Token extraction mode determination -->\r\n\t\t\t\t\t<set-variable name="tt-mode" value="@{var at=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;,&amp;quot;&amp;quot;);var s=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;,&amp;quot;false&amp;quot;);var e=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embed&amp;quot;,&amp;quot;false&amp;quot;);return e==&amp;quot;true&amp;quot;?&amp;quot;embeddings&amp;quot;:(s==&amp;quot;true&amp;quot;?(at==&amp;quot;responses-v1&amp;quot;?&amp;quot;streaming-deferred&amp;quot;:&amp;quot;streaming&amp;quot;):&amp;quot;standard&amp;quot;);}" />\r\n\t\t\t\t\t<!-- Extract actual model from response for model-router -->\r\n\t\t\t\t\t<set-variable name="actual-model" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var actualModel = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelId == &amp;quot;aiworks-model-router&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var rb = context.Response.Body.As&amp;lt;string&amp;gt;(preserveContent:true);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(rb)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var bo = JObject.Parse(rb);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (bo[&amp;quot;model&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;actualModel = bo[&amp;quot;model&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return actualModel;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Token extraction based on mode -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<!-- Embeddings mode -->\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embed&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-variable name="pt" value="@{try{var rb=context.Response.Body.As&amp;lt;string&amp;gt;(preserveContent:true);if(!string.IsNullOrEmpty(rb)){var ro=JObject.Parse(rb);if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;prompt_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;prompt_tokens&amp;quot;].ToString();}if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;total_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;total_tokens&amp;quot;].ToString();}}var r=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-body-text&amp;quot;,&amp;quot;&amp;quot;);return Math.Max(50,(int)(r.Length*0.15)).ToString();}catch{return&amp;quot;50&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ct" value="@(&amp;quot;0&amp;quot;)" />\r\n\t\t\t\t\t\t\t<set-variable name="ttu" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;,&amp;quot;0&amp;quot;))" />\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<!-- Streaming deferred (Responses API) -->\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tt-mode&amp;quot;)==&amp;quot;streaming-deferred&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-variable name="pt" value="@{try{var h=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Prompt-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(h)){return h;}var uh=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Usage-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(uh)){var uo=JObject.Parse(uh);if(uo[&amp;quot;prompt_tokens&amp;quot;]!=null){return uo[&amp;quot;prompt_tokens&amp;quot;].ToString();}if(uo[&amp;quot;input_tokens&amp;quot;]!=null){return uo[&amp;quot;input_tokens&amp;quot;].ToString();}}var r=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-body-text&amp;quot;,&amp;quot;&amp;quot;);return Math.Max(100,(int)(r.Length*0.25)).ToString();}catch{return&amp;quot;100&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ct" value="@{try{var h=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Completion-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(h)){return h;}var uh=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Usage-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(uh)){var uo=JObject.Parse(uh);if(uo[&amp;quot;completion_tokens&amp;quot;]!=null){return uo[&amp;quot;completion_tokens&amp;quot;].ToString();}if(uo[&amp;quot;output_tokens&amp;quot;]!=null){return uo[&amp;quot;output_tokens&amp;quot;].ToString();}}return&amp;quot;200&amp;quot;;}catch{return&amp;quot;200&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ttu" value="@{try{var p=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;,&amp;quot;0&amp;quot;));var c=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ct&amp;quot;,&amp;quot;0&amp;quot;));return(p+c).ToString();}catch{return&amp;quot;0&amp;quot;;}}" />\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<!-- Regular streaming -->\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;)">\r\n\t\t\t\t\t\t\t<set-variable name="pt" value="@{try{var h=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Prompt-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(h)){return h;}var r=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-body-text&amp;quot;,&amp;quot;&amp;quot;);return Math.Max(100,(int)(r.Length*0.25)).ToString();}catch{return&amp;quot;100&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ct" value="@{try{var h=context.Response.Headers.GetValueOrDefault(&amp;quot;X-Completion-Tokens&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(h)){return h;}return&amp;quot;200&amp;quot;;}catch{return&amp;quot;200&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ttu" value="@{try{var p=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;,&amp;quot;0&amp;quot;));var c=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ct&amp;quot;,&amp;quot;0&amp;quot;));return(p+c).ToString();}catch{return&amp;quot;0&amp;quot;;}}" />\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t\t<!-- Standard mode -->\r\n\t\t\t\t\t\t<otherwise>\r\n\t\t\t\t\t\t\t<set-variable name="pt" value="@{try{var rb=context.Response.Body.As&amp;lt;string&amp;gt;(preserveContent:true);if(!string.IsNullOrEmpty(rb)&amp;amp;&amp;amp;context.Response.Headers.GetValueOrDefault(&amp;quot;Content-Type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;octet-stream&amp;quot;)&amp;lt;0){var ro=JObject.Parse(rb);if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;prompt_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;prompt_tokens&amp;quot;].ToString();}if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;input_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;input_tokens&amp;quot;].ToString();}if(ro[&amp;quot;token_usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;token_usage&amp;quot;][&amp;quot;prompt&amp;quot;]!=null){return ro[&amp;quot;token_usage&amp;quot;][&amp;quot;prompt&amp;quot;].ToString();}}var r=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-body-text&amp;quot;,&amp;quot;&amp;quot;);return Math.Max(20,(int)(r.Length*0.25)).ToString();}catch{return&amp;quot;20&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ct" value="@{try{var rb=context.Response.Body.As&amp;lt;string&amp;gt;(preserveContent:true);if(!string.IsNullOrEmpty(rb)&amp;amp;&amp;amp;context.Response.Headers.GetValueOrDefault(&amp;quot;Content-Type&amp;quot;,&amp;quot;&amp;quot;).IndexOf(&amp;quot;octet-stream&amp;quot;)&amp;lt;0){var ro=JObject.Parse(rb);if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;completion_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;completion_tokens&amp;quot;].ToString();}if(ro[&amp;quot;usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;usage&amp;quot;][&amp;quot;output_tokens&amp;quot;]!=null){return ro[&amp;quot;usage&amp;quot;][&amp;quot;output_tokens&amp;quot;].ToString();}if(ro[&amp;quot;token_usage&amp;quot;]!=null&amp;amp;&amp;amp;ro[&amp;quot;token_usage&amp;quot;][&amp;quot;completion&amp;quot;]!=null){return ro[&amp;quot;token_usage&amp;quot;][&amp;quot;completion&amp;quot;].ToString();}}return&amp;quot;150&amp;quot;;}catch{return&amp;quot;150&amp;quot;;}}" />\r\n\t\t\t\t\t\t\t<set-variable name="ttu" value="@{try{var p=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;,&amp;quot;0&amp;quot;));var c=int.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ct&amp;quot;,&amp;quot;0&amp;quot;));return(p+c).ToString();}catch{return&amp;quot;0&amp;quot;;}}" />\r\n\t\t\t\t\t\t</otherwise>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Token usage logging -->\r\n\t\t\t\t\t<set-variable name="tu-log" value="@{var lv=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;lv&amp;quot;);var stream=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-streaming&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;?&amp;quot;True&amp;quot;:&amp;quot;False&amp;quot;;var embed=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;is-embed&amp;quot;,&amp;quot;false&amp;quot;)==&amp;quot;true&amp;quot;?&amp;quot;True&amp;quot;:&amp;quot;False&amp;quot;;var log=&amp;quot;TokenUsage|SubscriptionName:&amp;quot;+lv[&amp;quot;sub&amp;quot;]+&amp;quot;|SubscriptionId:&amp;quot;+lv[&amp;quot;subid&amp;quot;]+&amp;quot;|UserId:&amp;quot;+lv[&amp;quot;uid&amp;quot;]+&amp;quot;|AuthMethod:&amp;quot;+lv[&amp;quot;auth&amp;quot;]+&amp;quot;|ClientIP:&amp;quot;+lv[&amp;quot;cip&amp;quot;]+&amp;quot;|JWTIP:&amp;quot;+lv[&amp;quot;jip&amp;quot;]+&amp;quot;|ModelId:&amp;quot;+lv[&amp;quot;mod&amp;quot;]+&amp;quot;|ApiType:&amp;quot;+lv[&amp;quot;api&amp;quot;]+&amp;quot;|Operation:&amp;quot;+lv[&amp;quot;op&amp;quot;]+&amp;quot;|Streaming:&amp;quot;+stream+&amp;quot;|Embeddings:&amp;quot;+embed+&amp;quot;|PromptTokens:&amp;quot;+context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;,&amp;quot;0&amp;quot;)+&amp;quot;|CompletionTokens:&amp;quot;+context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ct&amp;quot;,&amp;quot;0&amp;quot;)+&amp;quot;|TotalTokens:&amp;quot;+context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ttu&amp;quot;,&amp;quot;0&amp;quot;);var actualModel=context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;actual-model&amp;quot;,&amp;quot;&amp;quot;);if(!string.IsNullOrEmpty(actualModel)){log+=&amp;quot;|ActualModel:&amp;quot;+actualModel;}if(!string.IsNullOrEmpty(lv[&amp;quot;tid&amp;quot;].ToString())){log+=&amp;quot;|ThreadId:&amp;quot;+lv[&amp;quot;tid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;runid&amp;quot;].ToString())){log+=&amp;quot;|RunId:&amp;quot;+lv[&amp;quot;runid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;aid&amp;quot;].ToString())){log+=&amp;quot;|AssistantId:&amp;quot;+lv[&amp;quot;aid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;pid&amp;quot;].ToString())){log+=&amp;quot;|ProjectId:&amp;quot;+lv[&amp;quot;pid&amp;quot;];}log+=&amp;quot;|RequestId:&amp;quot;+lv[&amp;quot;rid&amp;quot;]+&amp;quot;|DurationMs:&amp;quot;+lv[&amp;quot;dur&amp;quot;]+&amp;quot;|Backend:&amp;quot;+lv[&amp;quot;be&amp;quot;]+&amp;quot;|ResponseStatus:&amp;quot;+lv[&amp;quot;status&amp;quot;]+&amp;quot;|Timestamp:&amp;quot;+lv[&amp;quot;ts&amp;quot;];return log;}" />\r\n\t\t\t\t\t<trace source="Token-Usage" severity="information">\r\n\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tu-log&amp;quot;))</message>\r\n\t\t\t\t\t\t<metadata name="subscription" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;subscription-name&amp;quot;))" />\r\n\t\t\t\t\t\t<metadata name="model" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;))" />\r\n\t\t\t\t\t\t<metadata name="total-tokens" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ttu&amp;quot;))" />\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<set-variable name="token-log-created" value="@(&amp;quot;true&amp;quot;)" />\r\n\t\t\t\t\t<!-- AI Metrics logging -->\r\n\t\t\t\t\t<set-variable name="metric-message" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var lv = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;lv&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var tt = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ttu&amp;quot;,&amp;quot;0&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;{\\&amp;quot;name\\&amp;quot;:\\&amp;quot;AIWorks.TokenUsage\\&amp;quot;,\\&amp;quot;value\\&amp;quot;:&amp;quot; + tt + &amp;quot;,\\&amp;quot;dimensions\\&amp;quot;:{\\&amp;quot;modelId\\&amp;quot;:\\&amp;quot;&amp;quot; + lv[&amp;quot;mod&amp;quot;] + &amp;quot;\\&amp;quot;,\\&amp;quot;apiType\\&amp;quot;:\\&amp;quot;&amp;quot; + lv[&amp;quot;api&amp;quot;] + &amp;quot;\\&amp;quot;}}&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<trace source="AI-Metric-Token-Usage" severity="information">\r\n\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;metric-message&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<!-- Set response headers -->\r\n\t\t\t\t\t<set-header name="X-Prompt-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;pt&amp;quot;, &amp;quot;0&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Completion-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ct&amp;quot;, &amp;quot;0&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Total-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;ttu&amp;quot;, &amp;quot;0&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Billing-Model" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(!string.IsNullOrEmpty(context.Request.Headers.GetValueOrDefault(&amp;quot;X-Correlation-ID&amp;quot;,&amp;quot;&amp;quot;)))">\r\n\t\t\t\t\t\t\t<set-header name="X-Correlation-ID" exists-action="override">\r\n\t\t\t\t\t\t\t\t<value>@(context.Request.Headers.GetValueOrDefault(&amp;quot;X-Correlation-ID&amp;quot;))</value>\r\n\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t\t<!-- Backend auth failure -->\r\n\t\t\t\t<when condition="@(context.Response.StatusCode == 403 | context.Response.StatusCode == 401)">\r\n\t\t\t\t\t<trace source="BACKEND-AUTH-FAILURE" severity="error">\r\n\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-fail-msg&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<!-- Non-token operations (no model required or projects API) -->\r\n\t\t<when condition="@(context.Response!=null&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;bool&amp;gt;(&amp;quot;lt&amp;quot;)&amp;amp;&amp;amp;(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tt&amp;quot;)==&amp;quot;false&amp;quot;||(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;)==&amp;quot;projects&amp;quot;||context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;)==&amp;quot;threads&amp;quot;||context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;)==&amp;quot;assistants&amp;quot;))&amp;amp;&amp;amp;context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;token-log-created&amp;quot;,&amp;quot;false&amp;quot;)!=&amp;quot;true&amp;quot;)">\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Response.StatusCode==200||context.Response.StatusCode==403||context.Response.StatusCode==401)">\r\n\t\t\t\t\t<!-- Log operation with 0 tokens -->\r\n\t\t\t\t\t<set-variable name="tu-log" value="@{var lv=context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;lv&amp;quot;);var log=&amp;quot;TokenUsage|SubscriptionName:&amp;quot;+lv[&amp;quot;sub&amp;quot;]+&amp;quot;|SubscriptionId:&amp;quot;+lv[&amp;quot;subid&amp;quot;]+&amp;quot;|UserId:&amp;quot;+lv[&amp;quot;uid&amp;quot;]+&amp;quot;|AuthMethod:&amp;quot;+lv[&amp;quot;auth&amp;quot;]+&amp;quot;|ClientIP:&amp;quot;+lv[&amp;quot;cip&amp;quot;]+&amp;quot;|JWTIP:&amp;quot;+lv[&amp;quot;jip&amp;quot;]+&amp;quot;|ModelId:&amp;quot;+lv[&amp;quot;mod&amp;quot;]+&amp;quot;|ApiType:&amp;quot;+lv[&amp;quot;api&amp;quot;]+&amp;quot;|Operation:&amp;quot;+lv[&amp;quot;op&amp;quot;]+&amp;quot;|Streaming:False|Embeddings:False|PromptTokens:0|CompletionTokens:0|TotalTokens:0&amp;quot;;if(!string.IsNullOrEmpty(lv[&amp;quot;tid&amp;quot;].ToString())){log+=&amp;quot;|ThreadId:&amp;quot;+lv[&amp;quot;tid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;runid&amp;quot;].ToString())){log+=&amp;quot;|RunId:&amp;quot;+lv[&amp;quot;runid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;aid&amp;quot;].ToString())){log+=&amp;quot;|AssistantId:&amp;quot;+lv[&amp;quot;aid&amp;quot;];}if(!string.IsNullOrEmpty(lv[&amp;quot;pid&amp;quot;].ToString())){log+=&amp;quot;|ProjectId:&amp;quot;+lv[&amp;quot;pid&amp;quot;];}log+=&amp;quot;|RequestId:&amp;quot;+lv[&amp;quot;rid&amp;quot;]+&amp;quot;|DurationMs:&amp;quot;+lv[&amp;quot;dur&amp;quot;]+&amp;quot;|Backend:&amp;quot;+lv[&amp;quot;be&amp;quot;]+&amp;quot;|ResponseStatus:&amp;quot;+lv[&amp;quot;status&amp;quot;]+&amp;quot;|Timestamp:&amp;quot;+lv[&amp;quot;ts&amp;quot;];return log;}" />\r\n\t\t\t\t\t<trace source="Token-Usage" severity="information">\r\n\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;tu-log&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t\t<set-variable name="token-log-created" value="@(&amp;quot;true&amp;quot;)" />\r\n\t\t\t\t\t<!-- Check for auth failures -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Response.StatusCode == 403 | context.Response.StatusCode == 401)">\r\n\t\t\t\t\t\t\t<trace source="BACKEND-AUTH-FAILURE" severity="error">\r\n\t\t\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;auth-fail-msg&amp;quot;))</message>\r\n\t\t\t\t\t\t\t</trace>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t\t<!-- Set response headers with 0 tokens -->\r\n\t\t\t\t\t<set-header name="X-Prompt-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>0</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Completion-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>0</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Total-Tokens" exists-action="override">\r\n\t\t\t\t\t\t<value>0</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t\t<set-header name="X-Billing-Model" exists-action="override">\r\n\t\t\t\t\t\t<value>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;,&amp;quot;unknown&amp;quot;))</value>\r\n\t\t\t\t\t</set-header>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Content Filter Detection for both 400 errors and 200 Responses API -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Response != null &amp;amp;&amp;amp; (context.Response.StatusCode == 400 || (context.Response.StatusCode == 200 &amp;amp;&amp;amp; context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;) == &amp;quot;responses-v1&amp;quot;)))">\r\n\t\t\t<set-variable name="content-filter-data" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;var cfData = new JObject();&#xD;&#xA;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Check for Azure OpenAI content filter responses&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var responseBody = context.Response.Body.As&amp;lt;string&amp;gt;(preserveContent: true);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(responseBody)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var responseObj = JObject.Parse(responseBody);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for Responses API incomplete status due to content filter (200-incomplete)&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (context.Response.StatusCode == 200 &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;&amp;quot;) == &amp;quot;responses-v1&amp;quot; &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;    responseObj[&amp;quot;status&amp;quot;] != null &amp;amp;&amp;amp; responseObj[&amp;quot;status&amp;quot;].ToString().ToLower() == &amp;quot;incomplete&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var incompleteDetails = responseObj[&amp;quot;incomplete_details&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (incompleteDetails != null &amp;amp;&amp;amp; incompleteDetails[&amp;quot;reason&amp;quot;] != null &amp;amp;&amp;amp;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;    incompleteDetails[&amp;quot;reason&amp;quot;].ToString().ToLower() == &amp;quot;content_filter&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;is_content_filter&amp;quot;] = true;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;status&amp;quot;] = &amp;quot;incomplete&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;response_type&amp;quot;] = &amp;quot;responses_api_filter&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (responseObj[&amp;quot;content_filter_results&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;content_filter_results&amp;quot;] = responseObj[&amp;quot;content_filter_results&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for content_filter_results in successful responses&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;else if (responseObj[&amp;quot;content_filter_results&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;content_filter_results&amp;quot;] = responseObj[&amp;quot;content_filter_results&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;response_type&amp;quot;] = &amp;quot;success_with_filters&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Check for error responses with content filter violations&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;else if (responseObj[&amp;quot;error&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var error = responseObj[&amp;quot;error&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (error[&amp;quot;code&amp;quot;] != null &amp;amp;&amp;amp; error[&amp;quot;code&amp;quot;].ToString().IndexOf(&amp;quot;content_filter&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;error_code&amp;quot;] = error[&amp;quot;code&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;error_message&amp;quot;] = error[&amp;quot;message&amp;quot;] != null ? error[&amp;quot;message&amp;quot;] : &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;response_type&amp;quot;] = &amp;quot;error_content_filter&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Extract content filter details from error if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (error[&amp;quot;innererror&amp;quot;] != null &amp;amp;&amp;amp; error[&amp;quot;innererror&amp;quot;][&amp;quot;content_filter_result&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;cfData[&amp;quot;content_filter_result&amp;quot;] = error[&amp;quot;innererror&amp;quot;][&amp;quot;content_filter_result&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;// Ignore parsing errors&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;return cfData;&#xD;&#xA;&#x9;&#x9;}" />\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var cfData = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;content-filter-data&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return cfData != null &amp;amp;&amp;amp; (cfData[&amp;quot;content_filter_results&amp;quot;] != null || cfData[&amp;quot;content_filter_result&amp;quot;] != null || cfData[&amp;quot;error_code&amp;quot;] != null || cfData[&amp;quot;is_content_filter&amp;quot;] != null);&#xD;&#xA;&#x9;&#x9;&#x9;}">\r\n\t\t\t\t\t<set-variable name="content-filter-log" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var cfData = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;content-filter-data&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var lv = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;lv&amp;quot;);&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Determine status code representation&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var status = context.Response.StatusCode == 200 &amp;amp;&amp;amp; cfData[&amp;quot;is_content_filter&amp;quot;] != null&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;? &amp;quot;200-incomplete&amp;quot; : context.Response.StatusCode.ToString();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var categories = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var severities = &amp;quot;&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var filtered = &amp;quot;false&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Process successful responses with content filter results&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cfData[&amp;quot;content_filter_results&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cfResults = cfData[&amp;quot;content_filter_results&amp;quot;];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check prompt filters&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cfResults[&amp;quot;prompt&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var category in cfResults[&amp;quot;prompt&amp;quot;]) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var prop = (JProperty)category;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryName = prop.Name;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryData = prop.Value;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if category was filtered OR detected&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isFiltered = categoryData[&amp;quot;filtered&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;filtered&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isDetected = categoryData[&amp;quot;detected&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;detected&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isFiltered || isDetected) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categories != &amp;quot;&amp;quot;) { categories += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;categories += categoryName;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categoryData[&amp;quot;severity&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (severities != &amp;quot;&amp;quot;) { severities += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;severities += categoryData[&amp;quot;severity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isFiltered) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;filtered = &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check completion filters&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (cfResults[&amp;quot;completion&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var category in cfResults[&amp;quot;completion&amp;quot;]) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var prop = (JProperty)category;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryName = prop.Name;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryData = prop.Value;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if category was filtered OR detected&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isFiltered = categoryData[&amp;quot;filtered&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;filtered&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isDetected = categoryData[&amp;quot;detected&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;detected&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isFiltered || isDetected) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categories != &amp;quot;&amp;quot;) { categories += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;categories += categoryName;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categoryData[&amp;quot;severity&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (severities != &amp;quot;&amp;quot;) { severities += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;severities += categoryData[&amp;quot;severity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isFiltered) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;filtered = &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Process error responses with content filter violations&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;else if (cfData[&amp;quot;content_filter_result&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var cfResult = cfData[&amp;quot;content_filter_result&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;filtered = &amp;quot;true&amp;quot;; // Error responses indicate filtering occurred&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;foreach (var category in cfResult) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var prop = (JProperty)category;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryName = prop.Name;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var categoryData = prop.Value;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Check if category was filtered OR detected&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isFiltered = categoryData[&amp;quot;filtered&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;filtered&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var isDetected = categoryData[&amp;quot;detected&amp;quot;] != null &amp;amp;&amp;amp; categoryData[&amp;quot;detected&amp;quot;].Value&amp;lt;bool&amp;gt;();&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (isFiltered || isDetected) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categories != &amp;quot;&amp;quot;) { categories += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;categories += categoryName;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (categoryData[&amp;quot;severity&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (severities != &amp;quot;&amp;quot;) { severities += &amp;quot;,&amp;quot;; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;severities += categoryData[&amp;quot;severity&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Error case without detailed results&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;else if (cfData[&amp;quot;error_code&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;filtered = &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;categories = &amp;quot;content_filter&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;severities = &amp;quot;high&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// Fallback for parsing errors&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;categories = &amp;quot;parsing_error&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;severities = &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Build the log message with abbreviated format&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var log = &amp;quot;CFV|Status:&amp;quot; + status;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|SN:&amp;quot; + lv[&amp;quot;sub&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Model:&amp;quot; + lv[&amp;quot;mod&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Cat:&amp;quot; + categories;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Sev:&amp;quot; + severities;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Flt:&amp;quot; + filtered;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|CIP:&amp;quot; + lv[&amp;quot;cip&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|UID:&amp;quot; + lv[&amp;quot;uid&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Auth:&amp;quot; + lv[&amp;quot;auth&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Api:&amp;quot; + (status == &amp;quot;200-incomplete&amp;quot; ? &amp;quot;responses-v1&amp;quot; : lv[&amp;quot;api&amp;quot;]);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Op:&amp;quot; + lv[&amp;quot;op&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|BE:&amp;quot; + lv[&amp;quot;be&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|ReqID:&amp;quot; + lv[&amp;quot;rid&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|Dur:&amp;quot; + lv[&amp;quot;dur&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;log += &amp;quot;|TS:&amp;quot; + lv[&amp;quot;ts&amp;quot;];&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// Add Projects API context if available&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;tid&amp;quot;].ToString())) { log += &amp;quot;|TID:&amp;quot; + lv[&amp;quot;tid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;runid&amp;quot;].ToString())) { log += &amp;quot;|RID:&amp;quot; + lv[&amp;quot;runid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;aid&amp;quot;].ToString())) { log += &amp;quot;|AID:&amp;quot; + lv[&amp;quot;aid&amp;quot;]; }&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (!string.IsNullOrEmpty(lv[&amp;quot;pid&amp;quot;].ToString())) { log += &amp;quot;|PID:&amp;quot; + lv[&amp;quot;pid&amp;quot;]; }&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return log;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Log the content filter violation -->\r\n\t\t\t\t\t<trace source="Content-Filter-Violation" severity="error">\r\n\t\t\t\t\t\t<message>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;content-filter-log&amp;quot;))</message>\r\n\t\t\t\t\t</trace>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_TraceLogging 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-TraceLogging'
  properties: {
    description: 'AIWorks Defines the Core Logging configuration'
    value: '<!--\r\nFragment: AIWorks-TraceLogging\r\nVersion: 1.0\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nProvides helper functions for conditional trace logging throughout the gateway.\r\nSets up trace configuration variables that other fragments can check before logging.\r\n\r\nFEATURES:\r\n- Global trace enable/disable flag extraction\r\n- Always-trace sources list management\r\n- Model-specific trace overrides\r\n- Configuration loading result logging\r\n- Pipe-delimited source list for efficient checking\r\n- Safe error handling with defaults\r\n\r\nVARIABLES CONSUMED:\r\n- model-config: Configuration with trace settings\r\n- model-id: Model identifier for overrides\r\n\r\nVARIABLES PRODUCED:\r\n- global-trace-enabled: Master trace flag ("true"/"false")\r\n- always-trace-sources: Pipe-delimited list of always-trace sources\r\n- model-trace-override: Model-specific trace setting ("true"/"false"/"none")\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Provides trace configuration\r\n- Should be included early in policy to set up configuration\r\n-->\r\n<fragment fragment-id="AIWorks-TraceLogging">\r\n\t<!-- Extract global trace enabled flag -->\r\n\t<set-variable name="global-trace-enabled" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var traceSettings = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-trace-settings&amp;quot;);&#xD;&#xA;            if (traceSettings != null &amp;&amp; traceSettings[&amp;quot;enable-trace&amp;quot;] != null) {&#xD;&#xA;                return traceSettings[&amp;quot;enable-trace&amp;quot;].Value&lt;bool&gt;() ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            // Fallback to config if trace settings not cached&#xD;&#xA;            var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;            if (config == null) {&#xD;&#xA;                // Fallback if cache not initialized&#xD;&#xA;                var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;                config = JObject.Parse(configStr);&#xD;&#xA;            }&#xD;&#xA;            if (config != null &amp;&amp; config[&amp;quot;trace-settings&amp;quot;] != null &amp;&amp; config[&amp;quot;trace-settings&amp;quot;][&amp;quot;enable-trace&amp;quot;] != null) {&#xD;&#xA;                return config[&amp;quot;trace-settings&amp;quot;][&amp;quot;enable-trace&amp;quot;].Value&lt;bool&gt;() ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;false&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;        catch {&#xD;&#xA;            return &amp;quot;false&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<!-- Extract always-trace-sources as a pipe-delimited string for easy checking -->\r\n\t<set-variable name="always-trace-sources" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var traceSettings = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-trace-settings&amp;quot;);&#xD;&#xA;            if (traceSettings != null &amp;&amp; traceSettings[&amp;quot;always-trace-sources&amp;quot;] != null) {&#xD;&#xA;                var sources = traceSettings[&amp;quot;always-trace-sources&amp;quot;] as JArray;&#xD;&#xA;                if (sources != null &amp;&amp; sources.Count &gt; 0) {&#xD;&#xA;                    return &amp;quot;|&amp;quot; + string.Join(&amp;quot;|&amp;quot;, sources.Select(s =&gt; s.ToString())) + &amp;quot;|&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            // Fallback to config if trace settings not cached&#xD;&#xA;            var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;            if (config == null) {&#xD;&#xA;                // Fallback if cache not initialized&#xD;&#xA;                var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;                config = JObject.Parse(configStr);&#xD;&#xA;            }&#xD;&#xA;            if (config != null &amp;&amp; config[&amp;quot;trace-settings&amp;quot;] != null &amp;&amp; config[&amp;quot;trace-settings&amp;quot;][&amp;quot;always-trace-sources&amp;quot;] != null) {&#xD;&#xA;                var sources = config[&amp;quot;trace-settings&amp;quot;][&amp;quot;always-trace-sources&amp;quot;] as JArray;&#xD;&#xA;                if (sources != null &amp;&amp; sources.Count &gt; 0) {&#xD;&#xA;                    return &amp;quot;|&amp;quot; + string.Join(&amp;quot;|&amp;quot;, sources.Select(s =&gt; s.ToString())) + &amp;quot;|&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;||&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;        catch {&#xD;&#xA;            return &amp;quot;||&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<!-- Set up model-specific trace override if applicable -->\r\n\t<set-variable name="model-trace-override" value="@{&#xD;&#xA;        try {&#xD;&#xA;            var modelId = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;            if (!string.IsNullOrEmpty(modelId)) {&#xD;&#xA;                var traceSettings = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-trace-settings&amp;quot;);&#xD;&#xA;                if (traceSettings != null &amp;&amp; &#xD;&#xA;                    traceSettings[&amp;quot;model-specific-trace&amp;quot;] != null &amp;&amp; &#xD;&#xA;                    traceSettings[&amp;quot;model-specific-trace&amp;quot;][modelId] != null) {&#xD;&#xA;                    return traceSettings[&amp;quot;model-specific-trace&amp;quot;][modelId].Value&lt;bool&gt;() ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;                // Fallback to config if trace settings not cached&#xD;&#xA;                var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;                if (config == null) {&#xD;&#xA;                    // Fallback if cache not initialized&#xD;&#xA;                    var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;                    config = JObject.Parse(configStr);&#xD;&#xA;                }&#xD;&#xA;                if (config != null &amp;&amp; config[&amp;quot;trace-settings&amp;quot;] != null &amp;&amp; &#xD;&#xA;                    config[&amp;quot;trace-settings&amp;quot;][&amp;quot;model-specific-trace&amp;quot;] != null &amp;&amp; &#xD;&#xA;                    config[&amp;quot;trace-settings&amp;quot;][&amp;quot;model-specific-trace&amp;quot;][modelId] != null) {&#xD;&#xA;                    return config[&amp;quot;trace-settings&amp;quot;][&amp;quot;model-specific-trace&amp;quot;][modelId].Value&lt;bool&gt;() ? &amp;quot;true&amp;quot; : &amp;quot;false&amp;quot;;&#xD;&#xA;                }&#xD;&#xA;            }&#xD;&#xA;            return &amp;quot;none&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;        catch {&#xD;&#xA;            return &amp;quot;none&amp;quot;;&#xD;&#xA;        }&#xD;&#xA;    }" />\r\n\t<!-- Always show configuration loading result (operational trace) -->\r\n\t<trace source="Config-Loading-Result" severity="information">\r\n\t\t<message>@{\r\n            try {\r\n                var config = context.Variables.GetValueOrDefault&lt;JObject&gt;(&amp;quot;config-parsed&amp;quot;);\r\n                if (config == null) {\r\n                    // Fallback if cache not initialized\r\n                    var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);\r\n                    config = JObject.Parse(configStr);\r\n                }\r\n                var globalTrace = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;global-trace-enabled&amp;quot;, &amp;quot;false&amp;quot;);\r\n                var alwaysTrace = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;always-trace-sources&amp;quot;, &amp;quot;||&amp;quot;);\r\n                var modelOverride = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-trace-override&amp;quot;, &amp;quot;none&amp;quot;);\r\n                \r\n                var sourceCount = alwaysTrace.Split(\'|\').Where(s =&gt; !string.IsNullOrEmpty(s)).Count();\r\n                var modelsCount = config[&amp;quot;models&amp;quot;] != null ? config[&amp;quot;models&amp;quot;].Count() : 0;\r\n                \r\n                return &amp;quot;Trace configuration loaded - Global: &amp;quot; + globalTrace + \r\n                       &amp;quot;, Always-trace sources: &amp;quot; + sourceCount +\r\n                       &amp;quot;, Model override: &amp;quot; + modelOverride +\r\n                       &amp;quot;, Models configured: &amp;quot; + modelsCount;\r\n            }\r\n            catch {\r\n                return &amp;quot;Error loading trace configuration&amp;quot;;\r\n            }\r\n        }</message>\r\n\t</trace>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_v1_Operations 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-v1-Operations'
  properties: {
    description: 'AIWorks Defines the V1 Operations configuration'
    value: '<!--\r\nFragment: AIWorks-v1-Operations\r\nVersion: 1.5\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nHandles v1 resource management API operation detection and variable setting.\r\nThis fragment specifically handles the NEW v1 APIs for resource management:\r\n- Conversations API (/v1/conversations)\r\n- Responses API (/v1/responses and /responses)\r\n- Files API (/v1/files)\r\n- Vector Stores API (/v1/vector_stores)\r\n- Models API (/v1/models) - operation detection only, synthetic responses in product policy\r\n- Fine-Tuning API (/v1/fine_tuning)\r\n\r\nFEATURES:\r\n- Detection Phase: Analyzes request path and method to identify v1 operations\r\n- Variable Setting: Sets operation-specific variables for downstream processing\r\n- Path Extraction: Extracts resource IDs from URL patterns\r\n\r\nIMPORTANT:\r\n- Synthetic response logic for /v1/models has been moved to the product policy\r\n- This fragment only detects model-operation and requested-model-id variables\r\n- Product policy uses these variables to intercept and return synthetic model lists\r\n\r\nVARIABLES CONSUMED:\r\n- Path and method variables from route analysis\r\n\r\nVARIABLES PRODUCED:\r\n- conversation-operation: Type of conversation operation (create, list, retrieve, update, delete)\r\n- conversation-id: ID of the conversation being accessed\r\n- responses-operation: Type of responses operation (create, read, update, delete)\r\n- responses-resource-id: ID of the response/conversation resource being accessed\r\n- file-operation: Type of file operation (upload, list, retrieve, delete)\r\n- file-id: ID of the file being accessed\r\n- vector-store-operation: Type of vector store operation (create, list, retrieve, update, delete, add-files, list-files, remove-file)\r\n- vector-store-id: ID of the vector store being accessed\r\n- vector-store-file-id: ID of the file within a vector store\r\n- model-operation: Type of model operation (list, retrieve) - used by product policy for interception\r\n- requested-model-id: ID of the model being accessed - used by product policy for interception\r\n- fine-tuning-operation: Type of fine-tuning operation (create-job, list-jobs, get-job, cancel-job, list-checkpoints, copy-checkpoint)\r\n- fine-tuning-job-id: ID of the fine-tuning job being accessed\r\n- fine-tuning-checkpoint-id: ID of the checkpoint being accessed\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Route-Analysis: Provides path and method variables\r\n- Used by product policy for /v1/models synthetic response interception\r\n- Used by backend selection for routing decisions\r\n-->\r\n<fragment fragment-id="AIWorks-v1-Operations">\r\n\t<set-variable name="v1-operation-detection" value="@{&#xD;&#xA;var result = new JObject();&#xD;&#xA;var path = context.Request.Url.Path.ToLower();&#xD;&#xA;var method = context.Request.Method.ToUpper();&#xD;&#xA;&#xD;&#xA;// Conversations v1 API operations&#xD;&#xA;if (path.IndexOf(&amp;quot;/v1/conversations&amp;quot;) &amp;gt;= 0 || path.IndexOf(&amp;quot;v1/conversations&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;string operation = &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#x9;if(method == &amp;quot;POST&amp;quot; &amp;amp;&amp;amp; (path == &amp;quot;/v1/conversations&amp;quot; || path == &amp;quot;v1/conversations&amp;quot; || path.EndsWith(&amp;quot;/v1/conversations&amp;quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &amp;quot;create&amp;quot;;&#xD;&#xA;&#x9;} else if(method == &amp;quot;GET&amp;quot; &amp;amp;&amp;amp; (path == &amp;quot;/v1/conversations&amp;quot; || path == &amp;quot;v1/conversations&amp;quot; || path.EndsWith(&amp;quot;/v1/conversations&amp;quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &amp;quot;list&amp;quot;;&#xD;&#xA;&#x9;} else if(method == &amp;quot;GET&amp;quot; &amp;amp;&amp;amp; path.IndexOf(&amp;quot;/v1/conversations/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &amp;quot;retrieve&amp;quot;;&#xD;&#xA;&#x9;} else if(method == &amp;quot;PATCH&amp;quot; &amp;amp;&amp;amp; path.IndexOf(&amp;quot;/v1/conversations/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &amp;quot;update&amp;quot;;&#xD;&#xA;&#x9;} else if(method == &amp;quot;DELETE&amp;quot; &amp;amp;&amp;amp; path.IndexOf(&amp;quot;/v1/conversations/&amp;quot;) &amp;gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &amp;quot;delete&amp;quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&amp;quot;conversation-operation&amp;quot;] = operation;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;// Extract conversation ID&#xD;&#xA;&#x9;var pattern = @&amp;quot;/v1/conversations/([^/]+)&amp;quot;;&#xD;&#xA;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, pattern);&#xD;&#xA;&#x9;if(match.Success) {&#xD;&#xA;&#x9;&#x9;result[&amp;quot;conversation-id&amp;quot;] = match.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;// Responses v1 API operations (also handles non-v1 /responses paths)&#xD;&#xA;if (path.IndexOf(&quot;/responses&quot;) &gt;= 0 || path.IndexOf(&quot;/v1/responses&quot;) &gt;= 0) {&#xD;&#xA;&#x9;string operation = &quot;unknown&quot;;&#xD;&#xA;&#x9;if(method == &quot;POST&quot; &amp;&amp; (path.IndexOf(&quot;/responses/&quot;) &lt; 0)) {&#xD;&#xA;&#x9;&#x9;operation = &quot;create&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/responses/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;read&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;PUT&quot; &amp;&amp; path.IndexOf(&quot;/responses/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;update&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;PATCH&quot; &amp;&amp; path.IndexOf(&quot;/responses/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;update&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;DELETE&quot; &amp;&amp; path.IndexOf(&quot;/responses/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;delete&quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&quot;responses-operation&quot;] = operation;&#xD;&#xA;&#xD;&#xA;&#x9;// Extract response resource ID&#xD;&#xA;&#x9;if (operation != &quot;create&quot;) {&#xD;&#xA;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;if (path.IndexOf(&quot;/responses/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var parts = path.Split(new[] { &quot;/responses/&quot; }, StringSplitOptions.None);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;if (parts.Length &gt; 1) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var resourcePart = parts[1];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var nextSlash = resourcePart.IndexOf(\'/\');&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var resourceId = nextSlash &gt;= 0 ? resourcePart.Substring(0, nextSlash) : resourcePart;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;result[&quot;responses-resource-id&quot;] = resourceId;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} catch {}&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;// Files v1 API operations&#xD;&#xA;if (path.IndexOf(&quot;/v1/files&quot;) &gt;= 0 || path.IndexOf(&quot;v1/files&quot;) &gt;= 0) {&#xD;&#xA;&#x9;string operation = &quot;unknown&quot;;&#xD;&#xA;&#x9;if(method == &quot;POST&quot; &amp;&amp; (path == &quot;/v1/files&quot; || path == &quot;v1/files&quot; || path.EndsWith(&quot;/v1/files&quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &quot;upload&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; (path == &quot;/v1/files&quot; || path == &quot;v1/files&quot; || path.EndsWith(&quot;/v1/files&quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &quot;list&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/v1/files/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;retrieve&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;DELETE&quot; &amp;&amp; path.IndexOf(&quot;/v1/files/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;delete&quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&quot;file-operation&quot;] = operation;&#xD;&#xA;&#x9;&#xD;&#xA;&#x9;// Extract file ID&#xD;&#xA;&#x9;var pattern = @&quot;/v1/files/([^/]+)&quot;;&#xD;&#xA;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, pattern);&#xD;&#xA;&#x9;if(match.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;file-id&quot;] = match.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;// Vector Stores v1 API operations&#xD;&#xA;if (path.IndexOf(&quot;/v1/vector_stores&quot;) &gt;= 0 || path.IndexOf(&quot;v1/vector_stores&quot;) &gt;= 0) {&#xD;&#xA;&#x9;string operation = &quot;unknown&quot;;&#xD;&#xA;&#x9;if(method == &quot;POST&quot; &amp;&amp; (path == &quot;/v1/vector_stores&quot; || path == &quot;v1/vector_stores&quot; || path.EndsWith(&quot;/v1/vector_stores&quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &quot;create&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; (path == &quot;/v1/vector_stores&quot; || path == &quot;v1/vector_stores&quot; || path.EndsWith(&quot;/v1/vector_stores&quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &quot;list&quot;;  &#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.IndexOf(&quot;/files&quot;) &lt; 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;retrieve&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;PATCH&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.IndexOf(&quot;/files&quot;) &lt; 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;update&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;DELETE&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.IndexOf(&quot;/files&quot;) &lt; 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;delete&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;POST&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.EndsWith(&quot;/files&quot;)) {&#xD;&#xA;&#x9;&#x9;operation = &quot;add-files&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.EndsWith(&quot;/files&quot;)) {&#xD;&#xA;&#x9;&#x9;operation = &quot;list-files&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;DELETE&quot; &amp;&amp; path.IndexOf(&quot;/v1/vector_stores/&quot;) &gt;= 0 &amp;&amp; path.IndexOf(&quot;/files/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;remove-file&quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&quot;vector-store-operation&quot;] = operation;&#xD;&#xA;&#xD;&#xA;&#x9;// Extract vector store ID and file ID&#xD;&#xA;&#x9;var vsPattern = @&quot;/v1/vector_stores/([^/]+)&quot;;&#xD;&#xA;&#x9;var vsMatch = System.Text.RegularExpressions.Regex.Match(path, vsPattern);&#xD;&#xA;&#x9;if(vsMatch.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;vector-store-id&quot;] = vsMatch.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;var filePattern = @&quot;/v1/vector_stores/[^/]+/files/([^/]+)&quot;;&#xD;&#xA;&#x9;var fileMatch = System.Text.RegularExpressions.Regex.Match(path, filePattern);&#xD;&#xA;&#x9;if(fileMatch.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;vector-store-file-id&quot;] = fileMatch.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;// Models v1 API operations&#xD;&#xA;if (path.IndexOf(&quot;/v1/models&quot;) &gt;= 0 || path.IndexOf(&quot;v1/models&quot;) &gt;= 0) {&#xD;&#xA;&#x9;string operation = &quot;unknown&quot;;&#xD;&#xA;&#x9;if(method == &quot;GET&quot; &amp;&amp; (path.IndexOf(&quot;/v1/models/&quot;) &gt;= 0 || path.IndexOf(&quot;v1/models/&quot;) &gt;= 0)) {&#xD;&#xA;&#x9;&#x9;operation = &quot;retrieve&quot;;&#xD;&#xA;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; (path == &quot;/v1/models&quot; || path == &quot;v1/models&quot; || path.EndsWith(&quot;/v1/models&quot;))) {&#xD;&#xA;&#x9;&#x9;operation = &quot;list&quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&quot;model-operation&quot;] = operation;&#xD;&#xA;&#xD;&#xA;&#x9;// Extract model ID&#xD;&#xA;&#x9;var pattern = @&quot;/v1/models/([^/]+)&quot;;&#xD;&#xA;&#x9;var match = System.Text.RegularExpressions.Regex.Match(path, pattern);&#xD;&#xA;&#x9;if(match.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;requested-model-id&quot;] = match.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;// Fine-Tuning v1 API operations&#xD;&#xA;if (path.IndexOf(&quot;/v1/fine_tuning&quot;) &gt;= 0 || path.IndexOf(&quot;/fine_tuning&quot;) &gt;= 0) {&#xD;&#xA;&#x9;string operation = &quot;unknown&quot;;&#xD;&#xA;&#xD;&#xA;&#x9;// Checkpoint copy operation&#xD;&#xA;&#x9;if (path.IndexOf(&quot;/checkpoints/&quot;) &gt;= 0 &amp;&amp; path.IndexOf(&quot;/copy&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;operation = &quot;copy-checkpoint&quot;;&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;// Alpha graders operations&#xD;&#xA;&#x9;else if (path.IndexOf(&quot;/alpha/graders&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;if(method == &quot;POST&quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;create-grader&quot;;&#xD;&#xA;&#x9;&#x9;} else if(method == &quot;GET&quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;list-graders&quot;;&#xD;&#xA;&#x9;&#x9;} else if(method == &quot;DELETE&quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;delete-grader&quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;// Jobs operations&#xD;&#xA;&#x9;else if (path.IndexOf(&quot;/fine_tuning/jobs&quot;) &gt;= 0 || path.EndsWith(&quot;/fine_tuning&quot;)) {&#xD;&#xA;&#x9;&#x9;if(method == &quot;POST&quot; &amp;&amp; path.IndexOf(&quot;/jobs/&quot;) &lt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;create-job&quot;;&#xD;&#xA;&#x9;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/jobs/&quot;) &lt; 0) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;list-jobs&quot;;&#xD;&#xA;&#x9;&#x9;} else if(method == &quot;GET&quot; &amp;&amp; path.IndexOf(&quot;/jobs/&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;if(path.IndexOf(&quot;/checkpoints&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;operation = &quot;list-checkpoints&quot;;&#xD;&#xA;&#x9;&#x9;&#x9;} else if(path.IndexOf(&quot;/events&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;operation = &quot;list-events&quot;;&#xD;&#xA;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;operation = &quot;get-job&quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;} else if(method == &quot;POST&quot; &amp;&amp; path.IndexOf(&quot;/cancel&quot;) &gt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;operation = &quot;cancel-job&quot;;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}&#xD;&#xA;&#x9;result[&quot;fine-tuning-operation&quot;] = operation;&#xD;&#xA;&#xD;&#xA;&#x9;// Extract job ID&#xD;&#xA;&#x9;var jobPattern = @&quot;/fine_tuning/jobs/([^/]+)&quot;;&#xD;&#xA;&#x9;var jobMatch = System.Text.RegularExpressions.Regex.Match(path, jobPattern);&#xD;&#xA;&#x9;if(jobMatch.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;fine-tuning-job-id&quot;] = jobMatch.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;// Extract checkpoint ID&#xD;&#xA;&#x9;var checkpointPattern = @&quot;/checkpoints/([^/]+)&quot;;&#xD;&#xA;&#x9;var checkpointMatch = System.Text.RegularExpressions.Regex.Match(path, checkpointPattern);&#xD;&#xA;&#x9;if(checkpointMatch.Success) {&#xD;&#xA;&#x9;&#x9;result[&quot;fine-tuning-checkpoint-id&quot;] = checkpointMatch.Groups[1].Value;&#xD;&#xA;&#x9;}&#xD;&#xA;}&#xD;&#xA;&#xD;&#xA;return result.ToString();&#xD;&#xA;}" />\r\n\t<!-- Set individual v1 operation variables -->\r\n\t<set-variable name="v1-operations" value="@{try{return JObject.Parse(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;v1-operation-detection&amp;quot;, &amp;quot;{}&amp;quot;));}catch{return new JObject();}}" />\r\n\t<!-- Conversation API variables -->\r\n\t<set-variable name="conversation-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;conversation-operation&amp;quot;] != null ? ops[&amp;quot;conversation-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="conversation-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;conversation-id&amp;quot;] != null ? ops[&amp;quot;conversation-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- Files v1 API variables -->\r\n\t<set-variable name="file-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;file-operation&amp;quot;] != null ? ops[&amp;quot;file-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="file-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;file-id&amp;quot;] != null ? ops[&amp;quot;file-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- Vector Stores v1 API variables -->\r\n\t<set-variable name="vector-store-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;vector-store-operation&amp;quot;] != null ? ops[&amp;quot;vector-store-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="vector-store-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;vector-store-id&amp;quot;] != null ? ops[&amp;quot;vector-store-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="vector-store-file-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;vector-store-file-id&amp;quot;] != null ? ops[&amp;quot;vector-store-file-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- Models v1 API variables -->\r\n\t<set-variable name="model-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;model-operation&amp;quot;] != null ? ops[&amp;quot;model-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="requested-model-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;requested-model-id&amp;quot;] != null ? ops[&amp;quot;requested-model-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- Responses v1 API variables -->\r\n\t<set-variable name="responses-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;responses-operation&amp;quot;] != null ? ops[&amp;quot;responses-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="responses-resource-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;responses-resource-id&amp;quot;] != null ? ops[&amp;quot;responses-resource-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- Fine-Tuning v1 API variables -->\r\n\t<set-variable name="fine-tuning-operation" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;fine-tuning-operation&amp;quot;] != null ? ops[&amp;quot;fine-tuning-operation&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="fine-tuning-job-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;fine-tuning-job-id&amp;quot;] != null ? ops[&amp;quot;fine-tuning-job-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<set-variable name="fine-tuning-checkpoint-id" value="@{try{var ops = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;v1-operations&amp;quot;); return ops != null &amp;amp;&amp;amp; ops[&amp;quot;fine-tuning-checkpoint-id&amp;quot;] != null ? ops[&amp;quot;fine-tuning-checkpoint-id&amp;quot;].ToString() : &amp;quot;&amp;quot;;} catch { return &amp;quot;&amp;quot;; }}" />\r\n\t<!-- NOTE: Synthetic response logic for /v1/models has been moved to product policy -->\r\n\t<!-- This fragment now only handles operation detection and variable setting -->\r\n\t<!-- The product policy intercepts models-v1 requests and returns synthetic responses -->\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_AIWorks_Validation 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Validation'
  properties: {
    description: 'AIWorks Defines the Validation configuration'
    value: '<!--\r\nFragment: AIWorks-Validation\r\nVersion: 1.4\r\nLast Updated: 2025-11-25 07:22 (UTC)\r\n\r\nPURPOSE:\r\nComprehensive Model and v1 API Validation\r\n\r\nFEATURES:\r\n- Model existence validation against configuration with tier-based access control\r\n- Product tier access control (standard vs private-preview model access)\r\n- Special model value handling for no-model-required operations\r\n- API-specific error response formatting (assistants, responses, openai, default)\r\n- Intelligent validation skip logic for operations that don\'t require models\r\n- APIM V2 compatible implementation with proper string handling and type safety\r\n- Comprehensive trace logging for skipped validations with detailed context\r\n- Full v1 API request validation for new resource management endpoints\r\n- Files v1 API upload validation (content-type, file size, content-length)\r\n- Vector Stores v1 API validation (create/update operations, metadata limits)\r\n- Models v1 API validation (model ID requirements for retrieve operations)\r\n- Vector store ID validation for operations requiring existing stores\r\n\r\nVARIABLES CONSUMED:\r\n- model-id: Model identifier to validate\r\n- config-parsed: Parsed configuration object\r\n- api-type: API type for error formatting\r\n- skip-validation: Whether to skip validation\r\n- product-tier: Product tier for access control\r\n- is-files-api, is-vector-stores-api, is-models-api: API type flags\r\n- file-id, vector-store-id: Resource identifiers\r\n\r\nVARIABLES PRODUCED:\r\n- validation-error: Error message if validation fails\r\n- model-exists: Whether the model exists in configuration\r\n- model-access-tier: Access tier of the model\r\n\r\nDEPENDENCIES:\r\n- AIWorks-Model-Config: Provides model definitions, access tiers, and API type configurations\r\n- AIWorks-Backend-Selection: Sets should-validate-model flag based on backend availability\r\n- AIWorks-Security-Unified: Provides should-validate-model and product-tier variables\r\n- AIWorks-Security-JWT-PassThrough: Alternative security path for should-validate-model\r\n- AIWorks-v1-Operations: Provides v1 API operation detection and resource ID extraction\r\n-->\r\n<fragment fragment-id="AIWorks-Validation">\r\n\t<!-- API type detection for error formatting -->\r\n\t<set-variable name="validation-api-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;api-type&amp;quot;, &amp;quot;openai&amp;quot;))" />\r\n\t<!-- CRITICAL FIX: Check if model requires validation -->\r\n\t<set-variable name="requires-model-validation" value="@{var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;).ToLower(); if (modelId == &amp;quot;assistants-no-model-required&amp;quot;) { return &amp;quot;false&amp;quot;;}&#xD;&#xA;    if (modelId == &amp;quot;no-model-required&amp;quot;) {&#xD;&#xA;        return &amp;quot;false&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    if (modelId == &amp;quot;responses-no-model-required&amp;quot;) {&#xD;&#xA;        return &amp;quot;false&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    if (modelId == &amp;quot;inference-no-model-required&amp;quot;) {&#xD;&#xA;        return &amp;quot;false&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    if (modelId == &amp;quot;unknown&amp;quot;) {&#xD;&#xA;        return &amp;quot;false&amp;quot;;&#xD;&#xA;    }&#xD;&#xA;    &#xD;&#xA;    return &amp;quot;true&amp;quot;;&#xD;&#xA;}" />\r\n\t<!-- MODEL VALIDATION - Only validate real models -->\r\n\t<choose>\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;should-validate-model&amp;quot;) == &amp;quot;true&amp;quot; &amp;amp;&amp;amp; &#xD;&#xA;                       context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;requires-model-validation&amp;quot;) == &amp;quot;true&amp;quot;)">\r\n\t\t\t<!-- Enhanced model validation with private-preview access check -->\r\n\t\t\t<set-variable name="model-access-check" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;&amp;quot;).ToLower();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var currentProduct = context.Product?.Name ?? &amp;quot;unknown&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var config = context.Variables.GetValueOrDefault&amp;lt;JObject&amp;gt;(&amp;quot;config-parsed&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (config == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;config = JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var models = config[&amp;quot;models&amp;quot;] as JObject;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;/* Check if model exists */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (models == null || models[modelId] == null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-not-found&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;/* Get model access tier */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var model = models[modelId] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;var modelAccessTier = model[&amp;quot;access-tier&amp;quot;]?.ToString() ?? &amp;quot;standard&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;/* ALL models available to ALL products, EXCEPT private-preview models */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;if (modelAccessTier == &amp;quot;private-preview&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Get the configured private-preview product name */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var productAccess = config[&amp;quot;product-access&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var privatePreviewProduct = productAccess?[&amp;quot;private-preview-product&amp;quot;]?.ToString() ?? &amp;quot;aiworks-private-preview&amp;quot;;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Private-preview models only available to the configured private-preview product */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if (currentProduct != privatePreviewProduct) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;model-not-found&amp;quot;; /* Return same error as if model doesn\'t exist */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;/* All other models (standard, premium, etc.) are available to all products */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;access-granted&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;validation-error&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<!-- Keep backward compatibility with existing variable name -->\r\n\t\t\t<set-variable name="model-validation-result" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;var accessCheck = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-access-check&amp;quot;, &amp;quot;validation-error&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;return (accessCheck == &amp;quot;access-granted&amp;quot;) ? &amp;quot;valid&amp;quot; : &amp;quot;invalid&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;}" />\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-validation-result&amp;quot;) == &amp;quot;invalid&amp;quot;)">\r\n\t\t\t\t\t<!-- Build error response step by step -->\r\n\t\t\t\t\t<set-variable name="error-model-id" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="error-api-type" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;validation-api-type&amp;quot;, &amp;quot;inference&amp;quot;))" />\r\n\t\t\t\t\t<set-variable name="error-request-id" value="@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;request-id&amp;quot;, context.RequestId.ToString()))" />\r\n\t\t\t\t\t<set-variable name="validation-error-body" value="@((context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-api-type&amp;quot;) == &amp;quot;assistants&amp;quot;) ? &#xD;&#xA;                    &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;message\\&amp;quot;:\\&amp;quot;The model \'&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-model-id&amp;quot;) + &amp;quot;\' does not exist or you do not have access to it.\\&amp;quot;,\\&amp;quot;type\\&amp;quot;:\\&amp;quot;not_found\\&amp;quot;,\\&amp;quot;param\\&amp;quot;:\\&amp;quot;model\\&amp;quot;,\\&amp;quot;code\\&amp;quot;:null}}&amp;quot; :&#xD;&#xA;                    (context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-api-type&amp;quot;) == &amp;quot;responses&amp;quot; || context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-api-type&amp;quot;) == &amp;quot;openai&amp;quot;) ?&#xD;&#xA;                    &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;ResourceNotFound\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;The model \'&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-model-id&amp;quot;) + &amp;quot;\' does not exist or you do not have access to it.\\&amp;quot;,\\&amp;quot;requestId\\&amp;quot;:\\&amp;quot;&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-request-id&amp;quot;) + &amp;quot;\\&amp;quot;}}&amp;quot; :&#xD;&#xA;                    &amp;quot;{\\&amp;quot;error\\&amp;quot;:{\\&amp;quot;code\\&amp;quot;:\\&amp;quot;404\\&amp;quot;,\\&amp;quot;message\\&amp;quot;:\\&amp;quot;The model \'&amp;quot; + context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;error-model-id&amp;quot;) + &amp;quot;\' does not exist or you do not have access to it.\\&amp;quot;,\\&amp;quot;target\\&amp;quot;:\\&amp;quot;model\\&amp;quot;}}&amp;quot;)" />\r\n\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t<set-status code="404" reason="Not Found"></set-status>\r\n\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t<set-body>@(context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;validation-error-body&amp;quot;))</set-body>\r\n\t\t\t\t\t</return-response>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<otherwise>\r\n\t\t\t<!-- Skip validation and log the reason -->\r\n\t\t\t<trace source="Model-Validation-Skipped" severity="information">\r\n\t\t\t\t<message>@{var modelId = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;model-id&amp;quot;, &amp;quot;unknown&amp;quot;); var shouldValidate = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;should-validate-model&amp;quot;, &amp;quot;not-set&amp;quot;); var requiresValidation = context.Variables.GetValueOrDefault&amp;lt;string&amp;gt;(&amp;quot;requires-model-validation&amp;quot;, &amp;quot;not-set&amp;quot;); return &amp;quot;Model validation SKIPPED | Model-ID: &amp;quot; + modelId + &amp;quot; | Should-Validate: &amp;quot; + shouldValidate + &amp;quot; | Requires-Validation: &amp;quot; + requiresValidation;}</message>\r\n\t\t\t</trace>\r\n\t\t</otherwise>\r\n\t</choose>\r\n\t<!-- v1 API Request Validation -->\r\n\t<!-- This consolidates validation logic from the v1 handler fragments -->\r\n\t<choose>\r\n\t\t<!-- Files v1 API validation -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;) == &amp;quot;files-v1&amp;quot;)">\r\n\t\t\t<!-- File upload validation -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;file-operation&amp;quot;) == &amp;quot;upload&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="file-validation" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Check if request is multipart/form-data */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var contentType = context.Request.Headers.GetValueOrDefault(&amp;quot;Content-Type&amp;quot;, &amp;quot;&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(!contentType.StartsWith(&amp;quot;multipart/form-data&amp;quot;)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;invalid-content-type&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Check content length */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var contentLength = context.Request.Headers.GetValueOrDefault(&amp;quot;Content-Length&amp;quot;, &amp;quot;0&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;long fileSize;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(long.TryParse(contentLength, out fileSize)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Get max file size from model config - 8GB default */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var configStr = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-config&amp;quot;, &amp;quot;{}&amp;quot;);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var config = JObject.Parse(configStr);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var apiTypes = config[&amp;quot;api-types&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var filesConfig = apiTypes?[&amp;quot;files-v1&amp;quot;] as JObject;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var maxSize = filesConfig?[&amp;quot;max-size&amp;quot;]?.Value&lt;long&gt;() ?? 8589934592L; // 8GB&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(fileSize &gt; maxSize) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;file-too-large&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(fileSize &lt;= 0) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;empty-file&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} else {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;missing-content-length&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;valid&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;validation-error&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Return file validation error if needed -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;file-validation&amp;quot;) != &amp;quot;valid&amp;quot;)">\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\t\t\tvar error = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;file-validation&amp;quot;);\r\n\t\t\t\t\t\t\t\t\tvar message = &amp;quot;Invalid file upload request&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tswitch(error) {\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;invalid-content-type&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Request must be multipart/form-data&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;file-too-large&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;File size exceeds maximum limit of 8GB&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;empty-file&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;File cannot be empty&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;missing-content-length&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Content-Length header is required&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;validation-error&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Error validating file upload request&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\treturn new JObject {\r\n\t\t\t\t\t\t\t\t\t\t[&amp;quot;error&amp;quot;] = new JObject {\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;code&amp;quot;] = &amp;quot;validation_error&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;message&amp;quot;] = message,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;type&amp;quot;] = &amp;quot;invalid_request_error&amp;quot;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}.ToString();\r\n\t\t\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<!-- Vector Stores v1 API validation -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;) == &amp;quot;vector-stores-v1&amp;quot;)">\r\n\t\t\t<!-- Vector store create/update validation -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;create&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;update&amp;quot;)">\r\n\t\t\t\t\t<set-variable name="vector-store-validation" value="@{&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;try {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var hasBody = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;has-json-body&amp;quot;,&amp;quot;false&amp;quot;) == &amp;quot;true&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(!hasBody &amp;&amp; context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;create&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Create can work without a body (defaults will be used) */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;valid&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(!hasBody &amp;&amp; context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;update&amp;quot;) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;missing-body&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var body = context.Request.Body.As&lt;string&gt;(preserveContent: true);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(!string.IsNullOrEmpty(body)) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var request = JObject.Parse(body);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Validate name length if present */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(request[&amp;quot;name&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var name = request[&amp;quot;name&amp;quot;].ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(name.Length &gt; 256) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;name-too-long&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Validate metadata if present */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(request[&amp;quot;metadata&amp;quot;] != null) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var metadata = request[&amp;quot;metadata&amp;quot;];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(metadata.Type != JTokenType.Object) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;invalid-metadata&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;/* Check metadata size (max 16KB) */&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;var metadataStr = metadata.ToString();&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;if(metadataStr.Length &gt; 16384) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;metadata-too-large&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;valid&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;} catch {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;return &amp;quot;parse-error&amp;quot;;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;}" />\r\n\t\t\t\t\t<!-- Return vector store validation error if needed -->\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-validation&amp;quot;) != &amp;quot;valid&amp;quot;)">\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\t\t\tvar error = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-validation&amp;quot;);\r\n\t\t\t\t\t\t\t\t\tvar message = &amp;quot;Invalid vector store request&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tswitch(error) {\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;missing-body&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Request body is required for update operation&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;name-too-long&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Vector store name cannot exceed 256 characters&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;invalid-metadata&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Metadata must be a valid JSON object&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;metadata-too-large&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Metadata exceeds maximum size of 16KB&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\tcase &amp;quot;parse-error&amp;quot;:\r\n\t\t\t\t\t\t\t\t\t\t\tmessage = &amp;quot;Invalid JSON in request body&amp;quot;;\r\n\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\treturn new JObject {\r\n\t\t\t\t\t\t\t\t\t\t[&amp;quot;error&amp;quot;] = new JObject {\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;code&amp;quot;] = &amp;quot;validation_error&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;message&amp;quot;] = message,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;type&amp;quot;] = &amp;quot;invalid_request_error&amp;quot;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}.ToString();\r\n\t\t\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t\t<!-- Vector store ID validation for operations that require it -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;retrieve&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;update&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;delete&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;add-files&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;list-files&amp;quot; || context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-operation&amp;quot;) == &amp;quot;remove-file&amp;quot;)">\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;vector-store-id&amp;quot;,&amp;quot;&amp;quot;)))">\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\t\t\treturn new JObject {\r\n\t\t\t\t\t\t\t\t\t\t[&amp;quot;error&amp;quot;] = new JObject {\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;code&amp;quot;] = &amp;quot;validation_error&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;message&amp;quot;] = &amp;quot;Vector store ID is required&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;type&amp;quot;] = &amp;quot;invalid_request_error&amp;quot;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}.ToString();\r\n\t\t\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t\t<!-- Models v1 API validation -->\r\n\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;api-type&amp;quot;) == &amp;quot;models-v1&amp;quot;)">\r\n\t\t\t<!-- Model ID validation for retrieve operation -->\r\n\t\t\t<choose>\r\n\t\t\t\t<when condition="@(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;model-operation&amp;quot;) == &amp;quot;retrieve&amp;quot;)">\r\n\t\t\t\t\t<choose>\r\n\t\t\t\t\t\t<when condition="@(string.IsNullOrEmpty(context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;requested-model-id&amp;quot;,&amp;quot;&amp;quot;)))">\r\n\t\t\t\t\t\t\t<return-response>\r\n\t\t\t\t\t\t\t\t<set-status code="400" reason="Bad Request" />\r\n\t\t\t\t\t\t\t\t<set-header name="Content-Type" exists-action="override">\r\n\t\t\t\t\t\t\t\t\t<value>application/json</value>\r\n\t\t\t\t\t\t\t\t</set-header>\r\n\t\t\t\t\t\t\t\t<set-body>@{\r\n\t\t\t\t\t\t\t\t\treturn new JObject {\r\n\t\t\t\t\t\t\t\t\t\t[&amp;quot;error&amp;quot;] = new JObject {\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;code&amp;quot;] = &amp;quot;validation_error&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;message&amp;quot;] = &amp;quot;Model ID is required&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;type&amp;quot;] = &amp;quot;invalid_request_error&amp;quot;,\r\n\t\t\t\t\t\t\t\t\t\t\t[&amp;quot;request_id&amp;quot;] = context.Variables.GetValueOrDefault&lt;string&gt;(&amp;quot;request-id&amp;quot;, Guid.NewGuid().ToString())\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}.ToString();\r\n\t\t\t\t\t\t\t\t}</set-body>\r\n\t\t\t\t\t\t\t</return-response>\r\n\t\t\t\t\t\t</when>\r\n\t\t\t\t\t</choose>\r\n\t\t\t\t</when>\r\n\t\t\t</choose>\r\n\t\t</when>\r\n\t</choose>\r\n\t<!-- Set default validation result -->\r\n\t<set-variable name="validation-result" value="true" />\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_crmues_policy_fragment 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-policy-fragment'
  properties: {
    description: 'policy fragment for Crmues API'
    value: '<!--\r\n    IMPORTANT:\r\n    - Policy fragment are included as-is whenever they are referenced.\r\n    - If using variables. Ensure they are setup before use.\r\n    - Copy and paste your code here or simply start coding\r\n    -test\r\n-->\r\n<fragment></fragment>'
  }
}

resource service_uniperapis_dev_name_demo_test 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-test'
  properties: {
    description: 'demo-test'
    value: '<!--\r\n    IMPORTANT:\r\n    - Policy fragment are included as-is whenever they are referenced.\r\n    - If using variables. Ensure they are setup before use.\r\n    - Copy and paste your code here or simply start coding\r\n-->\r\n<fragment></fragment>'
  }
}

resource service_uniperapis_dev_name_ForwardContext 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ForwardContext'
  properties: {
    description: 'Set a custom header to forward context information to backend service'
    value: '<!--\r\n    IMPORTANT:\r\n    - Policy fragment are included as-is whenever they are referenced.\r\n    - If using variables. Ensure they are setup before use.\r\n    - Copy and paste your code here or simply start coding\r\n-->\r\n<fragment>\r\n\t<set-header name="x-request-demo-header" exists-action="override">\r\n\t\t<value>demoheader</value>\r\n\t</set-header>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_SecurityHeaders 'Microsoft.ApiManagement/service/policyfragments@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'SecurityHeaders'
  properties: {
    description: 'Response Security Headers as Per PEN Test\nUKP-2221-RPT-01 Uniper IT GmbH Uniper Sales Areas Systems Application Test Report'
    value: '<!--\r\n    IMPORTANT:\r\n    - Policy fragment are included as-is whenever they are referenced.\r\n    - If using variables. Ensure they are setup before use.\r\n    - Copy and paste your code here or simply start coding\r\n-->\r\n<fragment>\r\n\t<set-header name="Referrer-Policy" exists-action="override">\r\n\t\t<value>no-referrer</value>\r\n\t</set-header>\r\n\t<set-header name="Strict-Transport-Security" exists-action="override">\r\n\t\t<value>Strict-Transport-Security: max-age=31536000; includeSubDomains</value>\r\n\t</set-header>\r\n\t<set-header name="X-Frame-Options" exists-action="override">\r\n\t\t<value>deny</value>\r\n\t</set-header>\r\n\t<set-header name="X-Content-Type-Options" exists-action="override">\r\n\t\t<value>nosniff</value>\r\n\t</set-header>\r\n\t<set-header name="X-Permitted-Cross-Domain-Policies" exists-action="override">\r\n\t\t<value>none</value>\r\n\t</set-header>\r\n\t<set-header name="Content-Security-Policy" exists-action="override">\r\n\t\t<value>default-src \'self\'; object-src \'none\'; child-src \'self\'; frame-ancestors \'none\'; upgrade-insecure-requests; block-all-mixed-content</value>\r\n\t</set-header>\r\n</fragment>'
  }
}

resource service_uniperapis_dev_name_default 'Microsoft.ApiManagement/service/portalconfigs@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'default'
  properties: {
    enableBasicAuth: false
    signin: {
      require: true
    }
    signup: {
      termsOfService: {
        requireConsent: false
      }
    }
    delegation: {
      delegateRegistration: false
      delegateSubscription: false
    }
    cors: {
      allowedOrigins: []
    }
    csp: {
      mode: 'disabled'
      reportUri: []
      allowedSources: [
        'https://portal-dev.apis.uniper.energy/'
        'https://mgmt-dev.apis.uniper.energy/'
        'https://scm-dev.apis.uniper.energy/'
        'https://gateway-dev.apis.uniper.energy/'
      ]
    }
  }
}

resource service_uniperapis_dev_name_20210802170746 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20210802170746'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20210916165549 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20210916165549'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20210929153044 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20210929153044'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202110211216 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202110211216'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20211129180034 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20211129180034'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20211203085449 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20211203085449'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220124123528 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220124123528'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220124124441 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220124124441'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220124141949 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220124141949'
  properties: {
    description: 'update to latest software'
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201290938 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201290938'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201290939 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201290939'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201310831 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201310831'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201310907 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201310907'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201310913 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201310913'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201310922 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201310922'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202201310924 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202201310924'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220414082855 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220414082855'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220414083100 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220414083100'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220503095904 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220503095904'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20220530124105 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20220530124105'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202205301245 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202205301245'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202205301337 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202205301337'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202205301345 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202205301345'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202205301349 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202205301349'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_202205311356 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '202205311356'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20221005104310 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20221005104310'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20221005104813 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20221005104813'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20221005104903 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20221005104903'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20221005105056 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20221005105056'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20230601114102 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20230601114102'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20240216142802 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20240216142802'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20241107151134 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20241107151134'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20250617104135 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20250617104135'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20250811081425 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20250811081425'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20250819155823 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20250819155823'
  properties: {
    isCurrent: false
  }
}

resource service_uniperapis_dev_name_20251215075231 'Microsoft.ApiManagement/service/portalRevisions@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '20251215075231'
  properties: {
    isCurrent: true
  }
}

resource service_uniperapis_dev_name_delegation 'Microsoft.ApiManagement/service/portalsettings@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'delegation'
  properties: {
    subscriptions: {
      enabled: false
    }
    userRegistration: {
      enabled: false
    }
  }
}

resource service_uniperapis_dev_name_signin 'Microsoft.ApiManagement/service/portalsettings@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'signin'
  properties: {
    enabled: true
  }
}

resource service_uniperapis_dev_name_signup 'Microsoft.ApiManagement/service/portalsettings@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'signup'
  properties: {
    enabled: false
    termsOfService: {
      enabled: false
      consentRequired: false
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_2A 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-2A'
  properties: {
    displayName: 'AIWorks-API-2A'
    description: '**AIWorks Unified API**</br>AIWorks Model as a Service - Simple, effective and resilient</br>[Full details and documentation](https://uniper.sharepoint.com/sites/CloudWorksServices/SitePages/Using-the-AIWorks-APIs.aspx?ct=1732543051916&ga=1&or=Teams-HL)'
    terms: 'You have followed the Uniper governance policies for AI and have registered an EAM ID for your usecase. 1 Subscription per App is reccomended to avoid rate limiting issues'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 1000
    state: 'published'
  }
}

resource service_uniperapis_dev_name_AIWorks_API_2A_JWT 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-2A-JWT'
  properties: {
    displayName: 'AIWorks-API-2A-JWT'
    description: '**AIWorks Unified API - JWT**</br>'
    terms: 'You have followed the Uniper governance policies for AI and have registered an EAM ID for your usecase. 1 Subscription per App is reccomended to avoid rate limiting issues'
    subscriptionRequired: false
    state: 'published'
  }
}

resource service_uniperapis_dev_name_AIWorks_API_2A_Private_Preview 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-2A-Private-Preview'
  properties: {
    displayName: 'AIWorks-API-2A-Private-Preview'
    description: '**AIWorks Unified API**</br>Private Preview Product'
    terms: 'You have followed the Uniper governance policies for AI and have registered an EAM ID for your usecase. 1 Subscription per App is reccomended to avoid rate limiting issues'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 1000
    state: 'published'
  }
}

resource service_uniperapis_dev_name_AIWorks_API_EXT_API_2A 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-EXT-API-2A'
  properties: {
    displayName: 'AIWorks-API-2A-External-API'
    description: '**AIWorks Unified API**</br>Private External API Product'
    terms: 'You have followed the Uniper governance policies for AI and have registered an EAM ID for your usecase. 1 Subscription per App is reccomended to avoid rate limiting issues'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 1000
    state: 'published'
  }
}

resource service_uniperapis_dev_name_AIWorks_Simulator_1 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-Simulator-1'
  properties: {
    displayName: 'AIWorks-Simulator-1'
    description: '**AIWorks Simulator**'
    terms: 'You have followed the Uniper governance policies for AI and have registered an EAM ID for your usecase. 1 Subscription per App is reccomended to avoid rate limiting issues'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 1000
    state: 'published'
  }
}

resource service_uniperapis_dev_name_apim_logicapp 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-logicapp'
  properties: {
    displayName: 'APIM-logicapp'
    description: 'test APIM logic app'
    subscriptionRequired: true
    approvalRequired: false
    state: 'published'
  }
}

resource service_uniperapis_dev_name_apple_developer 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apple-developer'
  properties: {
    displayName: 'Apple Developer'
    description: 'Apple App Developer API.<br/>Owner: I3313<br/>Org Code: F_OI6-F<br/>Org Name: Integration and Mobility'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ascm 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascm'
  properties: {
    displayName: 'ASCM'
    description: 'ASCM'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ascm_neso_stor_da 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascm-neso-stor-da'
  properties: {
    displayName: 'ASCM Neso Stor Da'
    description: 'This Api will return the STOR DA data based on the start data and end date API - https://api.neso.energy/api/3/action/datastore_search_sql<br/>H00635<br/>F_OI5-B7<br/>UK Trading Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_atom 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'atom'
  properties: {
    displayName: 'ATOM'
    description: 'ATOM'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_autobod3 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'autobod3'
  properties: {
    displayName: 'Autobod3'
    description: 'Provides REST API link to NGESO through autobod application'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_autodesk 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'autodesk'
  properties: {
    displayName: 'Autodesk'
    description: 'autodesk'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_aznamingtool 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aznamingtool'
  properties: {
    displayName: 'AzNamingTool'
    description: 'An ASP.NET Core Web API for managing the Azure Naming tool configuration. All API requests require the configured API Key (found in the site Admin configuration).<br/>D00619<br/>F_OI3-B4<br/>Hosting & Cloud Technology'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_azure_cognitive_services 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-cognitive-services'
  properties: {
    displayName: 'Azure Cognitive Services'
    description: 'Azure Cognitive Services<br/> \nOwner: i3313<br/> \nOrg Code:F_OI6-F<br/> \nOrg Name: Integration and Mobility<br/> '
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_azure_maps 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-maps'
  properties: {
    displayName: 'Azure Maps'
    description: 'Azure Maps Service https://azure.microsoft.com/en-gb/products/azure-maps/#azuremaps-overview<br/>  \nOwner: i3313<br/> \nOrg Code:F_OI6-F<br/> \nOrg Name: Integration and Mobility<br/> '
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_backtesting_reporting 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'backtesting-reporting'
  properties: {
    displayName: 'Backtesting Reporting'
    description: 'Backtesting Reporting'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_bitapp 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'bitapp'
  properties: {
    displayName: 'BITaPP'
    description: 'BITaPP'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_capacity_management_tool 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capacity-management-tool'
  properties: {
    displayName: 'Capacity Management Tool'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_cdc_thehiveuat 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'cdc-thehiveuat'
  properties: {
    displayName: 'CDC-theHiveUAT'
    description: 'This API is used to expose specific TheHive APIs, a case management system used by CDC.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_comstar_genstar4 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'comstar-genstar4'
  properties: {
    displayName: 'ComSTAR-Genstar4'
    description: 'Interface for transferring information regarding a trading stop from the Genstar4 application to ComSTAR.<br/>M8617<br/>F_OI5-A1<br/>Team Architecture'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_connection_test 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'connection-test'
  properties: {
    displayName: 'Connection-Test'
    description: 'A test product for connection testing<br/> \nOwner: i3313<br/> \nOrg Code:F_OI6-F<br/> \nOrg Name: Integration and Mobility'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_constraint_control 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'constraint-control'
  properties: {
    displayName: 'Constraint-Control'
    description: 'Provides Access to Constraint Control Service Api from other clusters.<br/>T00720<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_coode 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coode'
  properties: {
    displayName: 'COODE'
    description: 'All APIs in coode should be under APIM for easy maintenance is the main purpose.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_crmues_base_anon_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-base-anon-read'
  properties: {
    displayName: 'CRMUES -Base-Anon-Read'
    description: 'This api provides retrieving Business Partner informations from Dynamics 365.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_crmues_base_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-base-read'
  properties: {
    displayName: 'CRMUES-Base-Read'
    description: 'API to retrieve records from UES CRM.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_crmues_base_write 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-base-write'
  properties: {
    displayName: 'CRMUES-Base-Write'
    description: 'STP Team needs to be able to create new connections between accounts via APIM.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_crmues_creditmonitor_write 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-creditmonitor-write'
  properties: {
    displayName: 'CRMUES-Creditmonitor-Write'
    description: 'CRMUES-Creditmonitor-Write'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_curve_data_store 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'curve-data-store'
  properties: {
    displayName: 'Curve Data Store'
    description: 'Curve Data Store'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_datahub 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'datahub'
  properties: {
    displayName: 'Datahub'
    description: 'To connect to Datahub for retrieving and updating deals from Storage account.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_dataservicesesbvpc_pricerequest 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dataservicesesbvpc-pricerequest'
  properties: {
    displayName: 'Fuse DataservicesVPC Pricerequest'
    description: 'DataservicesESBVPC-Pricerequest'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_datasource_datadiscoverypoc 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'datasource-datadiscoverypoc'
  properties: {
    displayName: 'DataSource-datadiscoverypoc'
    description: 'DataSource-datadiscoverypoc'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_deltaxe_eis_esb 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'deltaxe-eis-esb'
  properties: {
    displayName: 'DeltaXe EIS ESB'
    description: 'DeltaXe EIS ESB for test soap api'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_deltaxe_endur 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'deltaxe-endur'
  properties: {
    displayName: 'DeltaXE-Endur'
    description: 'This API after added in DeltaXE , when the deals booked in DeltaXE it will reach to MW new kafka topic to be sent to Endur.<br/>C00309<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_demo 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo'
  properties: {
    displayName: 'Demo'
    description: 'Product group containing a number of different Demostration APIs<br/> \nOwner: i3313<br/> \nOrg Code: F_OI6-F<br/> \nOrg Name: Integration and Mobility<br/>'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_devops 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'devops'
  properties: {
    displayName: 'DEVOPS'
    description: 'A test api for the deployement process<br/>i3313<br/>F_OI6-F<br/>Integration and Mobility'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_digicision 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision'
  properties: {
    displayName: 'Digicision'
    description: 'Digicision is a platform which evaluates the business idea to Uniper\'s financial and strategic fit. This process involves participation of various departments evaluating correctness and impact of the project. It is an audited process where data and documents generated as part of each approval are verified. Hence, this implementation includes API\'s which requires APIM creation for Digicision'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ds_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ds-api'
  properties: {
    displayName: 'ds-api'
    description: 'This API will work as a data source for different user, who can read the data from different providers.<br/>L00577<br/>F_OI5-B1<br/>Short Term Trading Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_eai_streamingplatform 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eai-streamingplatform'
  properties: {
    displayName: 'EAI-StreamingPlatform'
    description: 'EAI-StreamingPlatform'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_eai_usip 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eai-usip'
  properties: {
    displayName: 'EAI-USIP'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_endur_eis 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis'
  properties: {
    displayName: 'Endur EIS'
    description: 'Endur EIS API for all Endur CA application'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_endur_xceptor_afs_brokerrecon 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-xceptor-afs-brokerrecon'
  properties: {
    displayName: 'endur-xceptor-afs-brokerrecon'
    description: 'endur-xceptor-afs-brokerrecon'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_enegen_g4cvn 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enegen-g4cvn'
  properties: {
    displayName: 'Enegen-G4CVN'
    description: 'A REST API provided by Enegen for synchronisation of business party, notification agent and trade data from PosMan.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_enerlytics 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enerlytics'
  properties: {
    displayName: 'Enerlytics'
    description: 'Enerlytics'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_enmacc_trading_platform 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enmacc-trading-platform'
  properties: {
    displayName: 'enmacc-trading-platform'
    description: 'enmacc-trading-platform'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ennea 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea'
  properties: {
    displayName: 'ennea'
    description: 'api for ennea<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_enterprise_application_managament_oauth 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-application-managament-oauth'
  properties: {
    displayName: 'Enterprise Application Managament OAuth'
    description: 'An API that provides Business Application information from UPMX in ServiceNow<br/> \n#PublicGroupForUniperInternalUsers<br/> \nOwner: K2989<br/> \nOrg Code: F_OI3-A<br/> \nOrg Name: CIO Office '
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_enterprise_application_management_prod 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-application-management-prod'
  properties: {
    displayName: 'Enterprise Application Management'
    description: 'An API that provides Business Application information from UPMX in ServiceNow<br/> \n#PublicGroupForUniperInternalUsers<br/> \nOwner: i3313<br/> \nOrg Code: F_OI6-F<br/> \nOrg Name: Integration and Mobility '
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fidectus 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fidectus'
  properties: {
    displayName: 'Fidectus'
    description: 'The new product should contain only ponton related operations.<br/>V7406<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse'
  properties: {
    displayName: 'FUSE'
    description: 'FUSE'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_common_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-common-api'
  properties: {
    displayName: 'FUSE-COMMON-API'
    description: 'Fuse Common API is used to create new operations for kafka connectors, like Post, Get to provide external team access we are sharing gateway urls'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_eaiesb 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-eaiesb'
  properties: {
    displayName: 'Fuse EAI ESB'
    description: 'Fuse EAI ESB DEV Environment'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_eis_esb 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-eis-esb'
  properties: {
    displayName: 'Fuse EIS ESB'
    description: 'we will recieve counter parties, user portfolios master data and process the files in middleware'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_esb_deltaxe 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-esb-deltaxe'
  properties: {
    displayName: 'Fuse ESB DeltaXE'
    description: 'Fuse ESB DeltaXE'
    terms: '<TODO />'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 50
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_ihub_middleware_ext 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-ihub-middleware-ext'
  properties: {
    displayName: 'fuse-ihub-middleware-ext'
    description: 'API Gateway product for Middleware for external request.<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_recon 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-recon'
  properties: {
    displayName: 'Fuse-Recon'
    description: 'Fuse-Recon'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_fuse_sharp_nip 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sharp-nip'
  properties: {
    displayName: 'FUSE-SHARP-NIP'
    description: 'This APIM is requested for setting up http connectivity for NBR Interface'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_future_modeling_platform 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform'
  properties: {
    displayName: 'Future Modeling Platform'
    description: 'Future Modeling Platform'
    subscriptionRequired: true
    approvalRequired: false
    state: 'published'
  }
}

resource service_uniperapis_dev_name_genstar4_availability 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'genstar4-availability'
  properties: {
    displayName: 'Genstar4-Availability'
    description: 'Availability data is provided by the third party Enegen via their Genstar4 system in the form of API, which will be consumed by the PromptOpt application for any new outage creation/outage cancellation/outage modification. We have imported the API by using the HTTP format'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_guarantee_of_origin_rest_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'guarantee-of-origin--rest-api'
  properties: {
    displayName: 'Guarantee of Origin  Rest API'
    description: 'Rest proxy will use to get data from ETRM Guarantee of Origin and it will send to kafka topic.<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_hact_security 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'hact-security'
  properties: {
    displayName: 'HaCT Security'
    description: 'HaCT Security'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_holidaycalendar 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'holidaycalendar'
  properties: {
    displayName: 'HolidayCalendar'
    description: 'Provides holiday informations for all other microservices'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_hungarian_tso 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'hungarian-tso'
  properties: {
    displayName: 'hungarian-tso'
    description: 'hungarian-tso'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_iam_b2c 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'iam-b2c'
  properties: {
    displayName: 'iam-b2c'
    description: 'This API is needed for the Azure B2C  Tenant connection<br/>I13011<br/>F_OI2-E2<br/>Identity Services'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_iiot_core_service 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'iiot-core-service'
  properties: {
    displayName: 'IIOT Core Service'
    description: 'This API is for accessing Uniper IIOT data, provided from the IIOT Core Service based on data from Uniper\'s PI Platform - PICENT.<br/>A00382<br/>O_AT1<br/>COODE'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_infobasis 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'infobasis'
  properties: {
    displayName: 'Infobasis'
    description: 'Infobasis Mobile API'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_intesi_group 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'intesi-group'
  properties: {
    displayName: 'Intesi Group'
    description: 'The API is used to apply a certificate for externals from Intesi Group<br/>Owner: M10877<br/>Org Code: F_OI6-F<br/>Org Name: Integration and Mobility\n'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_javascript_custom_connector 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'javascript-custom-connector'
  properties: {
    displayName: 'JavaScript-Custom-Connector'
    description: 'This API provides access to an Azure Function app that is used by a custom connector (JavaScript-Custom-Connector) for the power platform to allow for the execution of custom javascript code snippets.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_laser2 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser2'
  properties: {
    displayName: 'Laser2'
    description: 'In Laser 2, few of the APIs are implemented which would be consumed by the Laser3, Laser 3 connects with the  Laser2 APIs for its source of information'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_laser3 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3'
  properties: {
    displayName: 'laser3'
    description: 'Laser III service'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_lh_gas 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'lh-gas'
  properties: {
    displayName: 'LH-Gas'
    description: 'In order to achieve functional and technical decoupling, a separate REST interface is sought instead of the view, which queries the data required as part of the Aiolos batch run (in bulk for all relevant items).<br/>T00720<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_linkedinlearning 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'linkedinlearning'
  properties: {
    displayName: 'LinkedInLearning'
    description: 'LinkedIn Learning Reporting API</br>\nOwner: D24879</br>\nOrg Code: E_HR2-D</br>\nOrg Name: Uniper HR Talent & Learning'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ma_grid 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ma-grid'
  properties: {
    displayName: 'MA-Grid'
    description: 'This API is used to read and write the backend data for the new MA-Grid web application.<br/>T21642<br/>C_MA1<br/>Market Analytics'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_marie 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'marie'
  properties: {
    displayName: 'Marie'
    description: 'Marie APIs provide a solution that allows users to get faster and up-to-date predictions so that business decisions can be taken based on the latest prediction rather than predictions that have been stale by the time actions are initiated.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_mdap_ebp 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdap-ebp'
  properties: {
    displayName: 'MDAP-EBP'
    description: 'MDAP-EBP'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_mdm 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdm'
  properties: {
    displayName: 'MDM'
    description: 'To enable external access in MDM Webservice<br/>V00491<br/>F_OI3-C1<br/>Service Management Process Governance'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_membrainpoc 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'membrainpoc'
  properties: {
    displayName: 'MembrainPoC'
    description: 'API for connecting BTP to our Membrain proof of concept for a new asset mobile app<br/>F9574<br/>F_OI6-A1<br/>Architecture & Optimization'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_mia 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia'
  properties: {
    displayName: 'MIA'
    description: 'Podcasts retrieves podcast audio, video and podpourri videos.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_mira 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mira'
  properties: {
    displayName: 'MIRA'
    description: 'Investor Relations within Uniper is a team responsible for a number of reports & ad-hoc analyses, which mainly require data input from the providers Bloomberg and Vara Research. Available in both iOS and Android Devices.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_misp2sentinel 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'misp2sentinel'
  properties: {
    displayName: 'MISP2Sentinel'
    description: 'This API enables the Microsoft Upload Indicators API to sync indicators between MISP and MS Sentinel.<br/>R00816<br/>F_OI2-E3<br/>Cyber Security'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_myidentity_b2cservice 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'myidentity-b2cservice'
  properties: {
    displayName: 'myIdentity-B2CService'
    description: 'The myIdentity B2C REST API allows for fetching user details by ID or email, retrieving group memberships, and creating new users.<br/>A01304<br/>F_OI2-E2<br/>Identity Services'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_myidentity_scimservice 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'myidentity-scimservice'
  properties: {
    displayName: 'MyIdentity-SCIMService'
    description: 'The myIdentity B2C Scim API allows for fetching user details of Externals by Name, KID, Contract validity, retrieving identity related details like full name, KID, personnel number and end of contract term.\r\nThe API does not allow to query data from employees.<br/>I13011<br/>F_OI2-E2<br/>Identity Services'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_neon 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'neon'
  properties: {
    displayName: 'NEON'
    description: 'As part of the Market nominations requirement, NEON application has to communicate with TSO via AS4 solution,  that AS4 SaaS solution we are suing is Seeburger which is hosted outside Uniper landscape, NEON application need to communicate in and out communication with TSO using Seeburger AS4 solution<br/>N11205<br/>F_OI5-B1<br/>Short Term Trading Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_netscout 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'netscout'
  properties: {
    displayName: 'NetScout'
    description: 'Retrieves data from Net Scout network monitoring tool, for consumption in Power BI<br/> \nOwner: D3956<br/> \nOrg Code: F_OI6-G<br/> \nOrg Name: Enterprise Content Management and Web Technologies<br/> '
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_octopus_usip 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'octopus-usip'
  properties: {
    displayName: 'Octopus-USIP'
    description: 'APIs for Octopus for Short Term Trading<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_opengamma_middleware 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'opengamma-middleware'
  properties: {
    displayName: 'opengamma-middleware'
    description: 'public access to opengamma apis'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_pegasus_offermgmt 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-offermgmt'
  properties: {
    displayName: 'Pegasus Offer Management'
    description: 'Pegasus Offer Management DEV'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_perfect_pr 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'perfect-pr'
  properties: {
    displayName: 'Perfect PR'
    description: 'For Celonis Process Mining and statistics about the fitness of the DAR Service Models deployed to recommend attributes for the Perfect PR cockpit<br/>N14613<br/>F_OI6-A1<br/>Architecture & Optimization'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_phobos_middleware 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-middleware'
  properties: {
    displayName: 'phobos-middleware'
    description: 'This is required  for phobos project developement in the middleware area.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_pkfg_offermanagement 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pkfg-offermanagement'
  properties: {
    displayName: 'PKFG Offer Management'
    description: 'PKFG Offer Management DEV'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_prism 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prism'
  properties: {
    displayName: 'Prism'
    description: 'It is used to process the nominational processing for monthly and endur file in PRISM application.<br/>P01464<br/>F_OI2-C1<br/>Data Delivery Power & Markets'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_promptopt 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'promptopt'
  properties: {
    displayName: 'PromptOpt'
    description: 'PromptOpt'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_PromptOpt_G4PNBODAPI 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PromptOpt-G4PNBODAPI'
  properties: {
    displayName: 'PromptOpt-G4PNBODAPI'
    description: 'Submit the PNBOD submission data to Enegen via API instead of SFTP.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_prompt_optimization 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prompt-optimization'
  properties: {
    displayName: 'Prompt-Optimization'
    description: 'REST API helping in providing details of Market Price in PromptOpt application'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_rest_kafka_external 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-kafka-external'
  properties: {
    displayName: 'Rest Kafka External'
    description: 'Rest Proxy to consume or produce data. Using gateway urls external team can also access the dat<br/>P00746<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_rest_proxy_celonis 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-proxy-celonis'
  properties: {
    displayName: 'Rest Proxy Celonis'
    description: 'This API will use to get cert phys deals from ETRM and that will further process to XCEPTOR interface.<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_restproxy_edge_nordic 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'restproxy-edge-nordic'
  properties: {
    displayName: 'restproxy-edge-nordic'
    description: 'Using this api edge nordic will send position data to MW topic.<br/>C00528<br/>F_OI5-B4<br/>Trading Integr. Platforms & Operations'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_rightangle_eaiesb 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rightangle-eaiesb'
  properties: {
    displayName: 'Rightangle EAIESB'
    description: 'rightangle-eaiesb'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_riskcube 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'riskcube'
  properties: {
    displayName: 'RiskCube'
    description: 'RiskCube'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_robotron_neonicc_redispatch 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'robotron-neonicc-redispatch'
  properties: {
    displayName: 'Robotron-NeonICC-Redispatch'
    description: 'This middleware interface will take post request from Robotron and transform that data into excel file and sent generated file to NeonICC.<br/>A02224<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_rundeck_rem 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rundeck-rem'
  properties: {
    displayName: 'Rundeck-REM'
    description: 'Rundeck-REM'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sailpoint 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sailpoint'
  properties: {
    displayName: 'SailPoint'
    description: 'IdentityIQ REST Endpoint Interface for SCIM<br/>I13011<br/>F_OI2-E2<br/>Identity Services'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sales_trading_portal 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sales-trading-portal'
  properties: {
    displayName: 'Sales Trading Portal'
    description: 'Interface to query requests from the Sales Trading Portal for reporting purposes.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sales_trading_portal_enmacc_integration 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sales-trading-portal-enmacc-integration'
  properties: {
    displayName: 'Sales Trading Portal Enmacc Integration'
    description: 'Sales Trading Portal Enmacc Integration'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sampleproduct 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sampleproduct'
  properties: {
    displayName: 'Sample Product'
    description: 'Sample Product for APIM and Terraform'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_ariba_catalog_search_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ariba-catalog-search-read'
  properties: {
    displayName: 'SAP ARIBA Catalog Search-Read'
    description: 'Ariba semantic search for catalogs'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_ariba_slp_supplier_data 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ariba-slp-supplier-data'
  properties: {
    displayName: 'SAP Ariba SLP Supplier Data'
    description: 'Using this API, you can create a client application to retrieve supplier data from your SAP Ariba Supplier Lifecycle and Performance or SAP Ariba Supplier Information and Performance Management (new architecture) solution, including supplier names, addresses, registration, qualification, and preferred statuses, and questionnaire details.<br/>E8164<br/>F_OI3-A<br/>CIO Office & IT Strategy'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_btp 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp'
  properties: {
    displayName: 'SAP BTP'
    description: 'This API will be used for hosting procurement related API\'s on APIM using Principal Propagation<br/>N01382<br/>F_OI6-B2<br/>Digital Enablement  & Automation'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_cloud_platform 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-cloud-platform'
  properties: {
    displayName: 'SAP Cloud Platform'
    description: 'SAP Cloud Platform (SCP) - 156892'
    subscriptionRequired: true
    approvalRequired: true
    state: 'notPublished'
  }
}

resource service_uniperapis_dev_name_sap_cpi011_sailpoint_legallocations 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-cpi011_sailpoint_legallocations'
  properties: {
    displayName: 'SAP CPI011_SailPoint_LegalLocations'
    description: 'SAP CPI interface to retrieve legal locations data in JSON format from SailPoint via REST API and send to SAP PGC after conversion.<br/>J37176<br/>F_OI6-F<br/>Integration & Mobility'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_cpi650_logicapp_cr_status 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-cpi650_logicapp_cr_status'
  properties: {
    displayName: 'SAP CPI650_LogicAPP_CR_Status'
    description: 'Interface for transferring Change Requests (CR) status (planning to be estimated & DXC VROOM tick & Not duplicate) data from the Solman system (PSU) to the LogicApp application. Data will be pushed on the event when user do the action on Change Requests(CR).<br/>  \nOwner: j37176<br/> \nOrg Code:F_OI6-F<br/> \nOrg Name: Integration and Mobility<br/> \n\n'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_deal_transfer 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-deal-transfer'
  properties: {
    displayName: 'SAP-Deal-Transfer'
    description: 'This SOAP API will be used by SAP to push deals to Middleware Kafka.<br/>L00361<br/>P_OI5-B4<br/>Trading Integr. Platforms & Operations'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_invoice 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-invoice'
  properties: {
    displayName: 'SAP Invoice'
    description: 'SAP Invoice services'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_sap_is_u_p63_forecast_prod 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p63-forecast-prod'
  properties: {
    displayName: 'SAP IS-U P63-Forecast-PROD'
    description: 'API to receive forecast values which are being utilizied in Uniper\'s imbalance management.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_sap_is_u_p63_idoc_prod 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p63-idoc-prod'
  properties: {
    displayName: 'SAP IS-U P63-IDOC-PROD'
    description: 'The production (P63) SAP IS-U IDOC service.\nUPMX/Iteraplan ref: 3741'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_is_u_p68_tipware 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p68-tipware'
  properties: {
    displayName: 'SAP IS-U P68 TIPWARE'
    description: 'Tipware (external vendor) pushes data like business partners to SAP IS-U P68. Access comes from outside Uniper Corporate Network. Interface needs to be made available through external APIM gateway to enable public internet access.<br/>O2096<br/>P_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_is_u_x63_aiolos 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-x63-aiolos'
  properties: {
    displayName: 'SAP IS-U X63-AIOLOS'
    description: 'Inbound web service for importing forecast data for imbalance management.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_is_u_x63_mako_inbound 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-x63-mako-inbound'
  properties: {
    displayName: 'SAP IS-U X63-MaKo Inbound'
    description: 'SAP IS-U X63-MaKo Inbound'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_lmra 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-lmra'
  properties: {
    displayName: 'SAP-LMRA'
    description: 'SAP-LMRA'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_procurement 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-procurement'
  properties: {
    displayName: 'sap-procurement'
    description: 'The API, developed by SAPLAB is for providing access to Purchase requisitions (ODATA).<br/>C00168<br/>E_PR3-B1<br/>Procurement Digitalization'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_sales_contracts 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-sales-contracts'
  properties: {
    displayName: 'SAP Sales Contracts'
    description: 'SAP Sales Contracts'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sap_successfactors 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-successfactors'
  properties: {
    displayName: 'SAP SuccessFactors'
    description: 'We want to expose a limited set of job requisition data to an external jobboard (ForSuxess) via the standard SAP SuccessFactors ODATA API to make job offers visible to external applicants. ForSuxess sends a query to this ODATA API. At the moment to many unnecessary fields are returned which causes dataprotection problems.<br/>O1909<br/>F_OI6-C2<br/>HR Technology'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_seeburger_e_invoicing 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-e-invoicing'
  properties: {
    displayName: 'Seeburger E-Invoicing'
    description: 'Seeburger E-Invoicing'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_seeburger_mako_cloud_prod 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-mako-cloud-prod'
  properties: {
    displayName: 'Seeburger-MaKo Cloud-PROD'
    description: 'Seeburger\'s MaKo Cloud service for market communications.\nThis is a passthrough service.\nUPMX/Iteraplan ref:160269'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_seeburger_x63_mako_outbound 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-x63-mako-outbound'
  properties: {
    displayName: 'Seeburger x63-MaKo Outbound'
    description: 'Seeburger x63-MaKo Outbound'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_servicenow 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow'
  properties: {
    displayName: 'ServiceNow'
    description: 'ServiceNow is Uniper\'s incident and change management platform. You can use these APIs to raise and search for incidents.'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_servicenow_catalog 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-catalog'
  properties: {
    displayName: 'ServiceNow Catalog'
    description: 'The Service Catalog API provides endpoints that access Service Catalog configuration and actions from within a Service Portal.<br/> \nOwner: N1801<br/> \nOrg Code: F_OI3-C1<br/> \nOrg Name: Service Management Process Governance'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_servicenowtest 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenowtest'
  properties: {
    displayName: 'servicenowtest'
    description: 'servicenowtest'
    subscriptionRequired: true
    approvalRequired: true
    state: 'notPublished'
  }
}

resource service_uniperapis_dev_name_sharepoint_business_process_automation 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sharepoint-business-process-automation'
  properties: {
    displayName: 'SharePoint-Business-Process-Automation'
    description: 'SharePoint process automation for logic apps and Azure Functions<br/>J02038<br/>F_OI6-E2<br/>CorpTech Infrastructure'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sherlock_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sherlock-api'
  properties: {
    displayName: 'Sherlock-API'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sherlocktest 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sherlocktest'
  properties: {
    displayName: 'Sherlocktest'
    description: 'Sherlocktest'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_skynet_rest_proxy 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'skynet-rest-proxy'
  properties: {
    displayName: 'Skynet Rest Proxy'
    description: 'Rest Proxy to consume data from topic using gateway urls external team can also access the data'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_slowreserve_neso 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'slowreserve-neso'
  properties: {
    displayName: 'SlowReserve-NESO'
    description: 'Fetching the auction results of slow reserve from NESO API<br/>S48065<br/>F_OI5-B7<br/>UK Trading Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_slowreserve_nesoeac 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'slowreserve-nesoeac'
  properties: {
    displayName: 'SlowReserve-NESOEAC'
    description: 'Fetching the auction results of slow reserve from NESO API<br/>R3867<br/>F_OI5-B7<br/>UK Trading Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_snake 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snake'
  properties: {
    displayName: 'Snake'
    description: 'It is used to process the nominational processing for monthly and endur file in PRISM application.<br/>P01464<br/>F_OI2-C1<br/>Data Delivery Power & Markets'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource Microsoft_ApiManagement_service_products_service_uniperapis_dev_name_snowflake 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snowflake'
  properties: {
    displayName: 'Snowflake'
    description: 'Snowflake'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sos_berlin_jobscheduler 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sos-berlin-jobscheduler'
  properties: {
    displayName: 'SOS Berlin JobScheduler'
    description: 'SOS Berlin JobScheduler'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sos_berlin_jobscheduler_reporting 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sos-berlin-jobscheduler-reporting'
  properties: {
    displayName: 'SOS Berlin JobScheduler Reporting'
    description: 'SOS Berlin JobScheduler Reporting'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_starcb 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'starcb'
  properties: {
    displayName: 'StarCB'
    description: 'The SCB API is based on REST'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_streaming_platform 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'streaming-platform'
  properties: {
    displayName: 'Streaming Platform'
    description: 'API used for Usplatform-REST-Proxy.<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_streaming_platform_sap 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'streaming-platform-sap'
  properties: {
    displayName: 'Streaming Platform SAP'
    description: 'streaming-platform-sap'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_sync_master_rest 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sync-master-rest'
  properties: {
    displayName: 'sync master rest'
    description: 'this API will use by sync master team to get data from kafka topic<br/>S27716<br/>F_OI5-B4<br/>Trading Integr. Platforms & Operations'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tagetik_odatauniper 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tagetik-odatauniper'
  properties: {
    displayName: 'tagetik-odatauniper'
    description: 'Establish a communication between Uniper and Tagetik.<br/>P24552<br/>F_AF3-C2<br/>Business Support Group Controlling'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tempora_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tempora-api'
  properties: {
    displayName: 'Tempora-API'
    description: 'CTG Tempora API<br/>B19737<br/>C_MA3-D<br/>Platform Engineering'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tenoris_rest_api 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tenoris--rest-api'
  properties: {
    displayName: 'Tenoris  Rest API'
    description: 'Rest proxy will use to get data from tenoris and it will send to kafka topic.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_terraform_test_product 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'terraform-test-product'
  properties: {
    displayName: 'Terraform-Test-Product'
    description: 'Test product for terraform tests'
    subscriptionRequired: true
    approvalRequired: true
    state: 'notPublished'
  }
}

resource service_uniperapis_dev_name_transferpricingmanager 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'transferpricingmanager'
  properties: {
    displayName: 'TransferPricingManager'
    description: 'This API is meant for managing the APIs of TPM Modernization project<br/>V00863<br/>F_OI2-C2<br/>Data Delivery Gas & Horizontals'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_treasuryintelligencesolutions 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'treasuryintelligencesolutions'
  properties: {
    displayName: 'TreasuryIntelligenceSolutions'
    description: 'Managing of  the API endpoint.<br/>O0642<br/>F_OI6-D1<br/>FinTec Solutions'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tufin_decommission 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-decommission'
  properties: {
    displayName: 'Tufin-Decommission'
    description: 'Description: Tufin-Decommission\nOwner: Manuel Schossig\nOrg Code: F_OI2-E3\nOrg Name: Uniper Cyber Defense Center (CDC)'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tufin_secure_change 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-secure-change'
  properties: {
    displayName: 'Tufin Secure Change'
    description: 'Tufin Process Reporting For FW Team<br/>C17471<br/>F_OI2-E3<br/>Cyber Security'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_tufin_vulnerabilitymitigation 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-vulnerabilitymitigation'
  properties: {
    displayName: 'Tufin-VulnerabilityMitigation'
    description: 'Tufin API for Vulnerability Mitigation app<br/>M50576<br/>F_OI2-E3<br/>Cyber Security'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_business_partner_service_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-business-partner-service-read'
  properties: {
    displayName: 'UES Business Partner Service Read'
    description: 'UES Business Partner Service interface to read master data'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_business_partner_service_write 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-business-partner-service-write'
  properties: {
    displayName: 'UES Business Partner Service Write'
    description: 'UES Business Partner Service Write'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_uesco2service 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uesco2service'
  properties: {
    displayName: 'UESCO2Service'
    description: 'From 2026, the distributor of fuels must take care of the procurement of corresponding amounts of CO2 certificates. To process these transactions, a system is required that provides the data basis for the customer view in Uniper Digital on the one hand and supplies the downstream systems (e.g. IS-U) accordingly on the other.<br/>T25551<br/>F_OI3-C1<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_credit_risk_service_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-credit-risk-service-read'
  properties: {
    displayName: 'UES Credit Risk Service Read'
    description: 'Provides a static credit report document'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_credit_risk_service_write 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-credit-risk-service-write'
  properties: {
    displayName: 'UES Credit Risk Service Write'
    description: 'An API for the Credit Check Service with write permissions.<br/>T00720<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_email_service 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-email-service'
  properties: {
    displayName: 'UES Email Service'
    description: 'UES Email Service'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_enmacc_service_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-enmacc-service-read'
  properties: {
    displayName: 'UES Enmacc Service Read'
    description: 'Expose Masterdata to other systems, for example Sales Portal.<br/>T00720<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_loadcurve_service 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-loadcurve-service'
  properties: {
    displayName: 'UES Loadcurve Service'
    description: 'UES Loadcurve Service'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_pegasusgas_read 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-pegasusgas-read'
  properties: {
    displayName: 'UES-PegasusGas-Read'
    description: 'All Read API Endpoints for the Pegasus Gas Service<br/>T25551<br/>F_OI6-F<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_pegasusgas_write 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-pegasusgas-write'
  properties: {
    displayName: 'UES-PegasusGas-Write'
    description: 'Schreibzugriff auf Pegasus Gas<br/>T25551<br/>F_OI3-C1<br/>Service Management Process Governance'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_price_service 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-price-service'
  properties: {
    displayName: 'UES Price-Service'
    description: 'Pricing Services of the sales trading portal to get the BestQuotes.<br/>T25551<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_sales_portal 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-sales-portal'
  properties: {
    displayName: 'UES Sales Portal'
    description: 'This API provides datasets that are needed by Sales Date Reporting to accurately report on Biomethane sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_shapemanger 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-shapemanger'
  properties: {
    displayName: 'UES Shapemanger'
    description: 'The shape manager is an microservie designed to store data for the sales trading activities of Uniper Energy Sales in the field of shape trading.<br/>T25551<br/>F_OI5-C3<br/>Team German Sales'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ues_user_management 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-user-management'
  properties: {
    displayName: 'UES User Management'
    description: 'UES User Management'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ukloadfreq 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ukloadfreq'
  properties: {
    displayName: 'UKLoadFreq'
    description: 'UKLoadFreq'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_uk_usip_int 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uk-usip-int'
  properties: {
    displayName: 'UK-USIP-INT'
    description: 'UK USIP Integration API is to create new operations for the uk connectors like Get operation on connectors to see connectors status, Post operation to create new connectors'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ukw_hydro 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ukw-hydro'
  properties: {
    displayName: 'UKW-Hydro'
    description: 'Test f端r die Bereitstellung von Prozessdaten der UKW Hydro.<br/>M63626<br/>O_EA4-B2<br/>Produktionsplanung'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ukw_hydro_datenmanagement 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ukw-hydro-datenmanagement'
  properties: {
    displayName: 'UKW Hydro Datenmanagement'
    description: 'Test-API for provisioning process data by UKW Hydro to the corporate network.<br/>M63626<br/>O_EA4-B2<br/>Produktionsplanung'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ummcomstar 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ummcomstar'
  properties: {
    displayName: 'ummcomstar'
    description: 'Normally we use this API for our application UMM COMSTAR'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_ums 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums'
  properties: {
    displayName: 'UMS'
    description: 'API returns mail configurations and used to send mails'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_uniper_data_lake 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uniper-data-lake'
  properties: {
    displayName: 'Uniper Data Lake'
    description: 'Uniper Data Lake'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_uniper_digital 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uniper-digital'
  properties: {
    displayName: 'Uniper Digital'
    description: 'This API will report the current technical state (operating normally OR error state) of the Uniper Digital system.'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_uniper_digital_offer_management 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uniper-digital-offer-management'
  properties: {
    displayName: 'Uniper Digital Offer Management'
    description: 'Uniper Digital Offer Management'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_usip_aiolos 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-aiolos'
  properties: {
    displayName: 'USIP-Aiolos'
    description: 'This is for Aiolos application to send data to USIP kafka'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_usip_migration 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-migration'
  properties: {
    displayName: 'USIP 2.0'
    description: 'Uniper streaming Integration platform (USIP 2.0)<br/>S27716<br/>F_OI5-B4<br/>Trading Integration Sol & Product Dev'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_veslink_eis 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'veslink-eis'
  properties: {
    displayName: 'Veslink EIS'
    description: 'Endur Veslink EIS'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_xceptor 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xceptor'
  properties: {
    displayName: 'Xceptor'
    description: 'Xceptor'
    subscriptionRequired: true
    approvalRequired: true
    subscriptionsLimit: 100
    state: 'published'
  }
}

resource service_uniperapis_dev_name_xkey 'Microsoft.ApiManagement/service/products@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xkey'
  properties: {
    displayName: 'xkey'
    description: 'API for SMIME long-term archive project.this API endpoint sole purpose is to be called by a PKI client software that will download the SMIME email encryption certificate using AAD auth.<br/>E00537<br/>F_OI2-E2<br/>Identity Services'
    subscriptionRequired: true
    approvalRequired: true
    state: 'published'
  }
}

resource service_uniperapis_dev_name_AccountClosedDeveloper 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AccountClosedDeveloper'
  properties: {
    subject: 'Thank you for using the $OrganizationName API! (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          On behalf of $OrganizationName and our customers we thank you for giving us a try. Your $OrganizationName API account is now closed.\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Your $OrganizationName Team</p>\r\n    <a href="https://portal-dev.apis.uniper.energy">https://portal-dev.apis.uniper.energy</a>\r\n    <p />\r\n  </body>\r\n</html>'
    title: 'Developer farewell letter'
    description: 'Developers receive this farewell email after they close their account.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_ApplicationApprovedNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ApplicationApprovedNotificationMessage'
  properties: {
    subject: 'Your application $AppName is published in the application gallery (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          We are happy to let you know that your request to publish the $AppName application in the application gallery has been approved. Your application has been published and can be viewed <a href="http://$DevPortalUrl/Applications/Details/$AppId">here</a>.\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Best,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n  </body>\r\n</html>'
    title: 'Application gallery submission approved (deprecated)'
    description: 'Developers who submitted their application for publication in the application gallery on the developer portal receive this email after their submission is approved.'
    parameters: [
      {
        name: 'AppId'
        title: 'Application id'
      }
      {
        name: 'AppName'
        title: 'Application name'
      }
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_ConfirmSignUpIdentityDefault 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ConfirmSignUpIdentityDefault'
  properties: {
    subject: 'Please confirm your new $OrganizationName API account (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <title>Letter</title>\r\n  </head>\r\n  <body>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'"></p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you for joining the $OrganizationName API program! We host a growing number of cool APIs and strive to provide an awesome experience for API developers.</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">First order of business is to activate your account and get you going. To that end, please click on the following link:</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a id="confirmUrl" href="$ConfirmUrl" style="text-decoration:none">\r\n              <strong>$ConfirmUrl</strong>\r\n            </a>\r\n          </p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">If clicking the link does not work, please copy-and-paste or re-type it into your browser\'s address bar and hit "Enter".</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">$OrganizationName API Team</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a href="https://portal-dev.apis.uniper.energy/">https://portal-dev.apis.uniper.energy/</a>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n</html>'
    title: 'New developer account confirmation'
    description: 'Developers receive this email to confirm their e-mail address after they sign up for a new account.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
      {
        name: 'ConfirmUrl'
        title: 'Developer activation URL'
      }
      {
        name: 'DevPortalHost'
        title: 'Developer portal hostname'
      }
      {
        name: 'ConfirmQuery'
        title: 'Query string part of the activation URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_EmailChangeIdentityDefault 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'EmailChangeIdentityDefault'
  properties: {
    subject: 'Please confirm the new email associated with your $OrganizationName API account (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <title>Letter</title>\r\n  </head>\r\n  <body>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'"></p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">You are receiving this email because you made a change to the email address on your $OrganizationName API account.</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Please click on the following link to confirm the change:</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a id="confirmUrl" href="$ConfirmUrl" style="text-decoration:none">\r\n              <strong>$ConfirmUrl</strong>\r\n            </a>\r\n          </p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">If clicking the link does not work, please copy-and-paste or re-type it into your browser\'s address bar and hit "Enter".</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">$OrganizationName API Team</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a href="https://portal-dev.apis.uniper.energy/">https://portal-dev.apis.uniper.energy/</a>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n</html>'
    title: 'Email change confirmation'
    description: 'Developers receive this email to confirm a new e-mail address after they change their existing one associated with their account.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
      {
        name: 'ConfirmUrl'
        title: 'Developer confirmation URL'
      }
      {
        name: 'DevPortalHost'
        title: 'Developer portal hostname'
      }
      {
        name: 'ConfirmQuery'
        title: 'Query string part of the confirmation URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_InviteUserNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'InviteUserNotificationMessage'
  properties: {
    subject: 'You are invited to join the $OrganizationName developer network (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          Your account has been created. Please follow the link below to visit the $OrganizationName developer portal and claim it:\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n      <a href="$ConfirmUrl">$ConfirmUrl</a>\r\n    </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Best,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n  </body>\r\n</html>'
    title: 'Invite user'
    description: 'An e-mail invitation to create an account, sent on request by API publishers.'
    parameters: [
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'ConfirmUrl'
        title: 'Confirmation link'
      }
      {
        name: 'DevPortalHost'
        title: 'Developer portal hostname'
      }
      {
        name: 'ConfirmQuery'
        title: 'Query string part of the confirmation link'
      }
    ]
  }
}

resource service_uniperapis_dev_name_NewCommentNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'NewCommentNotificationMessage'
  properties: {
    subject: '$IssueName issue has a new comment (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">This is a brief note to let you know that $CommenterFirstName $CommenterLastName made the following comment on the issue $IssueName you created:</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">$CommentText</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          To view the issue on the developer portal click <a href="http://$DevPortalUrl/issues/$IssueId">here</a>.\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Best,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n  </body>\r\n</html>'
    title: 'New comment added to an issue (deprecated)'
    description: 'Developers receive this email when someone comments on the issue they created on the Issues page of the developer portal.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'CommenterFirstName'
        title: 'Commenter first name'
      }
      {
        name: 'CommenterLastName'
        title: 'Commenter last name'
      }
      {
        name: 'IssueId'
        title: 'Issue id'
      }
      {
        name: 'IssueName'
        title: 'Issue name'
      }
      {
        name: 'CommentText'
        title: 'Comment text'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_NewDeveloperNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'NewDeveloperNotificationMessage'
  properties: {
    subject: 'Welcome to the $OrganizationName API! (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <title>Letter</title>\r\n  </head>\r\n  <body>\r\n    <h1 style="color:#000505;font-size:18pt;font-family:\'Segoe UI\'">\r\n          Welcome to <span style="color:#003363">$OrganizationName API!</span></h1>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Your $OrganizationName API program registration is completed and we are thrilled to have you as a customer. Here are a few important bits of information for your reference:</p>\r\n    <table width="100%" style="margin:20px 0">\r\n      <tr>\r\n            #if ($IdentityProvider == "Basic")\r\n            <td width="50%" style="height:40px;vertical-align:top;font-family:\'Segoe UI\';font-size:12pt">\r\n              Please use the following <strong>username</strong> when signing into any of the \${OrganizationName}-hosted developer portals:\r\n            </td><td style="vertical-align:top;font-family:\'Segoe UI\';font-size:12pt"><strong>$DevUsername</strong></td>\r\n            #else\r\n            <td width="50%" style="height:40px;vertical-align:top;font-family:\'Segoe UI\';font-size:12pt">\r\n              Please use the following <strong>$IdentityProvider account</strong> when signing into any of the \${OrganizationName}-hosted developer portals:\r\n            </td><td style="vertical-align:top;font-family:\'Segoe UI\';font-size:12pt"><strong>$DevUsername</strong></td>            \r\n            #end\r\n          </tr>\r\n      <tr>\r\n        <td style="height:40px;vertical-align:top;font-family:\'Segoe UI\';font-size:12pt">\r\n              We will direct all communications to the following <strong>email address</strong>:\r\n            </td>\r\n        <td style="vertical-align:top;font-family:\'Segoe UI\';font-size:12pt">\r\n          <a href="mailto:$DevEmail" style="text-decoration:none">\r\n            <strong>$DevEmail</strong>\r\n          </a>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Best of luck in your API pursuits!</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">$OrganizationName API Team</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n      <a href="https://portal-dev.apis.uniper.energy">https://portal-dev.apis.uniper.energy</a>\r\n    </p>\r\n  </body>\r\n</html>'
    title: 'Developer welcome letter'
    description: 'Developers receive this welcome email after they confirm their new account.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'DevUsername'
        title: 'Developer user name'
      }
      {
        name: 'DevEmail'
        title: 'Developer email'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
      {
        name: 'IdentityProvider'
        title: 'Identity Provider selected by Organization'
      }
    ]
  }
}

resource service_uniperapis_dev_name_NewIssueNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'NewIssueNotificationMessage'
  properties: {
    subject: 'Your request $IssueName was received (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you for contacting us. Our API team will review your issue and get back to you soon.</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          Click this <a href="http://$DevPortalUrl/issues/$IssueId">link</a> to view or edit your request.\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Best,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n  </body>\r\n</html>'
    title: 'New issue received (deprecated)'
    description: 'This email is sent to developers after they create a new topic on the Issues page of the developer portal.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'IssueId'
        title: 'Issue id'
      }
      {
        name: 'IssueName'
        title: 'Issue name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_PasswordResetByAdminNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PasswordResetByAdminNotificationMessage'
  properties: {
    subject: 'Your password was reset'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'"></p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">The password of your $OrganizationName API account has been reset, per your request.</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n                Your new password is: <strong>$DevPassword</strong></p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Please make sure to change it next time you sign in.</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">$OrganizationName API Team</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a href="$DevPortalUrl">$DevPortalUrl</a>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n</html>'
    title: 'Password reset by publisher notification (Password reset by admin)'
    description: 'Developers receive this email when the publisher resets their password.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'DevPassword'
        title: 'New Developer password'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_PasswordResetIdentityDefault 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PasswordResetIdentityDefault'
  properties: {
    subject: 'Your password change request (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head>\r\n    <meta charset="UTF-8" />\r\n    <title>Letter</title>\r\n  </head>\r\n  <body>\r\n    <table width="100%">\r\n      <tr>\r\n        <td>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'"></p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">You are receiving this email because you requested to change the password on your $OrganizationName API account.</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Please click on the link below and follow instructions to create your new password:</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a id="resetUrl" href="$ConfirmUrl" style="text-decoration:none">\r\n              <strong>$ConfirmUrl</strong>\r\n            </a>\r\n          </p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">If clicking the link does not work, please copy-and-paste or re-type it into your browser\'s address bar and hit "Enter".</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">$OrganizationName API Team</p>\r\n          <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            <a href="$DevPortalUrl">$DevPortalUrl</a>\r\n          </p>\r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n</html>'
    title: 'Password change confirmation'
    description: 'Developers receive this email when they request a password change of their account. The purpose of the email is to verify that the account owner made the request and to provide a one-time perishable URL for changing the password.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
      {
        name: 'ConfirmUrl'
        title: 'Developer new password instruction URL'
      }
      {
        name: 'DevPortalHost'
        title: 'Developer portal hostname'
      }
      {
        name: 'ConfirmQuery'
        title: 'Query string part of the instruction URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_PurchaseDeveloperNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'PurchaseDeveloperNotificationMessage'
  properties: {
    subject: 'Your subscription to $ProdName (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Greetings $DevFirstName $DevLastName!</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          Thank you for subscribing to the <a href="https://portal-dev.apis.uniper.energy/product#product=$ProdId"><strong>$ProdName</strong></a> and welcome to the $OrganizationName developer community. We are delighted to have you as part of the team and are looking forward to the amazing applications you will build using our API!\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Below are a few subscription details for your reference:</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n      <ul>\r\n            #if ($SubStartDate != "")\r\n            <li style="font-size:12pt;font-family:\'Segoe UI\'">Start date: $SubStartDate</li>\r\n            #end\r\n            \r\n            #if ($SubTerm != "")\r\n            <li style="font-size:12pt;font-family:\'Segoe UI\'">Subscription term: $SubTerm</li>\r\n            #end\r\n          </ul>\r\n    </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n            Visit the developer <a href="https://portal-dev.apis.uniper.energy/profile">profile area</a> to manage your subscription and subscription keys\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">A couple of pointers to help get you started:</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n      <strong>\r\n        <a href="https://portal-dev.apis.uniper.energy/product#product=$ProdId">Learn about the API</a>\r\n      </strong>\r\n    </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The API documentation provides all information necessary to make a request and to process a response. Code samples are provided per API operation in a variety of languages. Moreover, an interactive console allows making API calls directly from the developer portal without writing any code.</p>\r\n\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n    <a style="font-size:12pt;font-family:\'Segoe UI\'" href="https://portal-dev.apis.uniper.energy">https://portal-dev.apis.uniper.energy</a>\r\n  </body>\r\n</html>'
    title: 'New subscription activated'
    description: 'Developers receive this acknowledgement email after subscribing to a product.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'ProdId'
        title: 'Product ID'
      }
      {
        name: 'ProdName'
        title: 'Product name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'SubStartDate'
        title: 'Subscription start date'
      }
      {
        name: 'SubTerm'
        title: 'Subscription term'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_QuotaLimitApproachingDeveloperNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'QuotaLimitApproachingDeveloperNotificationMessage'
  properties: {
    subject: 'You are approaching an API quota limit (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head>\r\n    <style>\r\n          body {font-size:12pt; font-family:"Segoe UI","Segoe WP","Tahoma","Arial","sans-serif";}\r\n          .alert { color: red; }\r\n          .child1 { padding-left: 20px; }\r\n          .child2 { padding-left: 40px; }\r\n          .number { text-align: right; }\r\n          .text { text-align: left; }\r\n          th, td { padding: 4px 10px; min-width: 100px; }\r\n          th { background-color: #DDDDDD;}\r\n        </style>\r\n  </head>\r\n  <body>\r\n    <p>Greetings $DevFirstName $DevLastName!</p>\r\n    <p>\r\n          You are approaching the quota limit on you subscription to the <strong>$ProdName</strong> product (primary key $SubPrimaryKey).\r\n          #if ($QuotaResetDate != "")\r\n          This quota will be renewed on $QuotaResetDate.\r\n          #else\r\n          This quota will not be renewed.\r\n          #end\r\n        </p>\r\n    <p>Below are details on quota usage for the subscription:</p>\r\n    <p>\r\n      <table>\r\n        <thead>\r\n          <th class="text">Quota Scope</th>\r\n          <th class="number">Calls</th>\r\n          <th class="number">Call Quota</th>\r\n          <th class="number">Bandwidth</th>\r\n          <th class="number">Bandwidth Quota</th>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td class="text">Subscription</td>\r\n            <td class="number">\r\n                  #if ($CallsAlert == true)\r\n                  <span class="alert">$Calls</span>\r\n                  #else\r\n                  $Calls\r\n                  #end\r\n                </td>\r\n            <td class="number">$CallQuota</td>\r\n            <td class="number">\r\n                  #if ($BandwidthAlert == true)\r\n                  <span class="alert">$Bandwidth</span>\r\n                  #else\r\n                  $Bandwidth\r\n                  #end\r\n                </td>\r\n            <td class="number">$BandwidthQuota</td>\r\n          </tr>\r\n              #foreach ($api in $Apis)\r\n              <tr><td class="child1 text">API: $api.Name</td><td class="number">\r\n                  #if ($api.CallsAlert == true)\r\n                  <span class="alert">$api.Calls</span>\r\n                  #else\r\n                  $api.Calls\r\n                  #end\r\n                </td><td class="number">$api.CallQuota</td><td class="number">\r\n                  #if ($api.BandwidthAlert == true)\r\n                  <span class="alert">$api.Bandwidth</span>\r\n                  #else\r\n                  $api.Bandwidth\r\n                  #end\r\n                </td><td class="number">$api.BandwidthQuota</td></tr>\r\n              #foreach ($operation in $api.Operations)\r\n              <tr><td class="child2 text">Operation: $operation.Name</td><td class="number">\r\n                  #if ($operation.CallsAlert == true)\r\n                  <span class="alert">$operation.Calls</span>\r\n                  #else\r\n                  $operation.Calls\r\n                  #end\r\n                </td><td class="number">$operation.CallQuota</td><td class="number">\r\n                  #if ($operation.BandwidthAlert == true)\r\n                  <span class="alert">$operation.Bandwidth</span>\r\n                  #else\r\n                  $operation.Bandwidth\r\n                  #end\r\n                </td><td class="number">$operation.BandwidthQuota</td></tr>\r\n              #end\r\n              #end\r\n            </tbody>\r\n      </table>\r\n    </p>\r\n    <p>Thank you,</p>\r\n    <p>$OrganizationName API Team</p>\r\n    <a href="https://portal-dev.apis.uniper.energy">https://portal-dev.apis.uniper.energy</a>\r\n    <p />\r\n  </body>\r\n</html>'
    title: 'Developer quota limit approaching notification'
    description: 'Developers receive this email to alert them when they are approaching a quota limit.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'ProdName'
        title: 'Product name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'SubPrimaryKey'
        title: 'Primary Subscription key'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
      {
        name: 'QuotaResetDate'
        title: 'Quota reset date'
      }
    ]
  }
}

resource service_uniperapis_dev_name_RejectDeveloperNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'RejectDeveloperNotificationMessage'
  properties: {
    subject: 'Your subscription request for $ProdName (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n        We would like to inform you that we reviewed your subscription request for the <strong>$ProdName</strong>.\r\n    </p>\r\n        #if ($SubDeclineReason == "")\r\n        <p style="font-size:12pt;font-family:\'Segoe UI\'">Regretfully, we were unable to approve it, as subscriptions are temporarily suspended at this time.</p>\r\n        #else\r\n        <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          Regretfully, we were unable to approve it at this time for the following reason:\r\n          <div style="margin-left: 1.5em;"> $SubDeclineReason </div>\r\n\t\t</p>\r\n        #end\r\n        <p style="font-size:12pt;font-family:\'Segoe UI\'">We truly appreciate your interest. </p>\r\n\t\t<p style="font-size:12pt;font-family:\'Segoe UI\'">All the best,</p>\r\n\t\t<p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n\t\t<a style="font-size:12pt;font-family:\'Segoe UI\'" href="https://portal-dev.apis.uniper.energy/">https://portal-dev.apis.uniper.energy/</a>\r\n</body>\r\n</html>'
    title: 'Subscription request declined'
    description: 'This email is sent to developers when their subscription requests for products requiring publisher approval is declined.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'SubDeclineReason'
        title: 'Reason for declining subscription'
      }
      {
        name: 'ProdName'
        title: 'Product name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_RequestDeveloperNotificationMessage 'Microsoft.ApiManagement/service/templates@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'RequestDeveloperNotificationMessage'
  properties: {
    subject: 'Your subscription request for $ProdName (DEV)'
    body: '<!DOCTYPE html >\r\n<html>\r\n  <head />\r\n  <body>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Dear $DevFirstName $DevLastName,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          Thank you for your interest in our <strong>$ProdName</strong> API product!\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">\r\n          We were delighted to receive your subscription request. We will promptly review it and get back to you at <strong>$DevEmail</strong>.\r\n        </p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">Thank you,</p>\r\n    <p style="font-size:12pt;font-family:\'Segoe UI\'">The $OrganizationName API Team</p>\r\n    <a style="font-size:12pt;font-family:\'Segoe UI\'" href="https://portal-dev.apis.uniper.energy/">https://portal-dev.apis.uniper.energy/</a>\r\n  </body>\r\n</html>'
    title: 'Subscription request received'
    description: 'This email is sent to developers to acknowledge receipt of their subscription requests for products requiring publisher approval.'
    parameters: [
      {
        name: 'DevFirstName'
        title: 'Developer first name'
      }
      {
        name: 'DevLastName'
        title: 'Developer last name'
      }
      {
        name: 'DevEmail'
        title: 'Developer email'
      }
      {
        name: 'ProdName'
        title: 'Product name'
      }
      {
        name: 'OrganizationName'
        title: 'Organization name'
      }
      {
        name: 'DevPortalUrl'
        title: 'Developer portal URL'
      }
    ]
  }
}

resource service_uniperapis_dev_name_1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '1'
  properties: {
    firstName: 'Administrator'
    email: 'S17340@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Azure'
        id: 'S17340@uniper.energy'
      }
    ]
    lastName: users_1_lastName
  }
}

resource service_uniperapis_dev_name_5f44c09c8bddbf0e1c02ae06 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f44c09c8bddbf0e1c02ae06'
  properties: {
    firstName: 'Gareth'
    lastName: 'Richards'
    email: 'gareth.richards@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '725d01d3-cc1c-47ef-aa96-78b42aaebda1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f450ea68bddbf0e8038d514 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f450ea68bddbf0e8038d514'
  properties: {
    firstName: 'Axel'
    lastName: 'Wetekam'
    email: 'axel.wetekam@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ea530b08-201f-4924-bf02-fcff1254dcf4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f450ee58bddbf0e8038d519 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f450ee58bddbf0e8038d519'
  properties: {
    firstName: 'J端rgen'
    lastName: 'Hahn'
    email: 'juergen.hahn1@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dfdcb592-3488-4790-a007-40d646b79c8a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f5f43428bddbf15e8f9727b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f5f43428bddbf15e8f9727b'
  properties: {
    firstName: 'Rahul'
    lastName: 'Jonnal'
    email: 'rahul.jonnal@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ea73159e-55b4-4643-b405-2324d2e72251'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f61c5c18bddbf15e8f97288 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f61c5c18bddbf15e8f97288'
  properties: {
    firstName: 'Scott'
    lastName: 'Caldwell'
    email: 'scott.caldwell@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'df3b5ed6-504c-407d-8911-69153ae44289'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f6c93538bddbf0fac2855e2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f6c93538bddbf0fac2855e2'
  properties: {
    firstName: 'Thomas'
    lastName: 'Mertens'
    email: 'thomas.mertens@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4f96c362-79dd-4fd4-9ba5-8878dca24be0'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f72f12e8bddbf0c90c758f0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f72f12e8bddbf0c90c758f0'
  properties: {
    firstName: 'Nageswara'
    lastName: 'Gadesina'
    email: 'N11205@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bb80209b-855a-4b00-ae77-7668cde9c78f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f7c3c588bddbf136cf476fb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f7c3c588bddbf136cf476fb'
  properties: {
    firstName: 'Marcus'
    lastName: 'Hausdorf'
    email: 'marcus.hausdorf@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fb0a7315-fc7f-4cd7-b9ca-e7d45d46a93c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f7c431b8bddbf136cf47705 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f7c431b8bddbf136cf47705'
  properties: {
    firstName: 'Waleed'
    lastName: 'Zafar'
    email: 'waleed.zafar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '935619db-c0bc-4247-9b27-6fc0602336fe'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5f7da7af8bddbf113c8b710f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5f7da7af8bddbf113c8b710f'
  properties: {
    firstName: 'Nico'
    lastName: 'Albrecht'
    email: 'n9445@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5dc08ffc-1156-4de5-9f47-ea8556abdf27'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fa25f578bddbf113c8b73ff 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fa25f578bddbf113c8b73ff'
  properties: {
    firstName: 'Praneeth'
    lastName: 'Vadloori'
    email: 'praneeth.vadloori@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f519e01c-e2e0-4088-9c71-3bd5f875ad34'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fad55ba8bddbf12d863c640 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fad55ba8bddbf12d863c640'
  properties: {
    firstName: 'Kalyan'
    lastName: 'Jampana'
    email: 'Kalyan.Jampana@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4574f5f4-7ac4-49b5-baf8-af4b57c49f29'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fb240b38bddbf12d863c658 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fb240b38bddbf12d863c658'
  properties: {
    firstName: 'Alexander'
    lastName: 'Esseling'
    email: 'a38362@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '06e650f9-49f4-4e88-ae32-1515f4b3177f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fb7b6d08bddbf0fb422c526 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fb7b6d08bddbf0fb422c526'
  properties: {
    firstName: 'Volodymyr'
    lastName: 'Sorokoumov'
    email: 'Volodymyr.Sorokoumov@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd2ba4f14-86b6-46d1-83ff-efd8c8602328'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fbb83038bddbf0fb422c54e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fbb83038bddbf0fb422c54e'
  properties: {
    firstName: 'Minh Dan'
    lastName: 'Nguyen'
    email: 'minh-dan.nguyen.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '156bc651-7311-463e-b3bf-9a648a0649a6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fbb8f958bddbf0fb422c55d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fbb8f958bddbf0fb422c55d'
  properties: {
    firstName: 'Christian'
    lastName: 'Meier'
    email: 'christian.meier@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ed611311-e4f9-4b09-9ce8-b7032185932a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fbbac688bddbf0fb422c56c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fbbac688bddbf0fb422c56c'
  properties: {
    firstName: 'Thanh Hung'
    lastName: 'Ton'
    email: 'thanh-hung.ton@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '23ba0943-1995-46ac-937f-413f77f75dd7'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fbbad258bddbf0fb422c579 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fbbad258bddbf0fb422c579'
  properties: {
    firstName: 'Quang Vinh'
    lastName: 'Bui'
    email: 'quang-vinh.bui@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7c870393-833e-41c1-808b-7a88799a1582'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fc646238bddbf0fb422c714 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fc646238bddbf0fb422c714'
  properties: {
    firstName: 'Atonyx'
    lastName: 'Atonyx'
    email: 'atonyxsupport@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd0d0ad32-8fce-4e94-b655-1cfd3b369e6c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5fe34db38bddbf0b6caf6df5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5fe34db38bddbf0b6caf6df5'
  properties: {
    firstName: 'Shobhit'
    lastName: 'Tiwari'
    email: 's48429@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e30c468f-e617-4aa2-b860-3e96bdf23239'
      }
    ]
  }
}

resource service_uniperapis_dev_name_5ffd6cdd8bddbf139cae8cf3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '5ffd6cdd8bddbf139cae8cf3'
  properties: {
    firstName: 'Wolfgang'
    lastName: 'Prymas'
    email: 'wolfgang.prymas@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '97179578-92a1-401b-9b02-9797484e6c97'
      }
    ]
  }
}

resource service_uniperapis_dev_name_600ecc6f8bddbf214c505bd3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '600ecc6f8bddbf214c505bd3'
  properties: {
    firstName: 'Volker'
    lastName: 'Bardenhorst'
    email: 'volker.bardenhorst@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7781b525-f227-4f8c-81a2-8bf63c8f0cd9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6011111c8bddbf214c505d83 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6011111c8bddbf214c505d83'
  properties: {
    firstName: 'Christian'
    lastName: 'Wilhelm'
    email: 'christian.wilhelm@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0713b518-9a93-4ad8-8ebd-12e648b53bd4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_601168368bddbf214c505d9a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '601168368bddbf214c505d9a'
  properties: {
    firstName: 'Bernd'
    lastName: 'Kelchner'
    email: 'b8082@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9b375eb0-138e-4b67-aa4e-b3655cb77881'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6018fe888bddbf13c4dcd7e8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6018fe888bddbf13c4dcd7e8'
  properties: {
    firstName: 'Sebastian'
    lastName: 'Schild'
    email: 'sebastian.schild@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dec5e7ae-a605-4146-b391-d65d19e73eab'
      }
    ]
  }
}

resource service_uniperapis_dev_name_601d61598bddbf13c4dcdae4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '601d61598bddbf13c4dcdae4'
  properties: {
    firstName: 'Vivek Kumar'
    lastName: 'Singh'
    email: 'vivek.kumar-singh@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '478ae390-31bb-4d90-9cb1-aa37d68b7473'
      }
    ]
  }
}

resource service_uniperapis_dev_name_60227bcf8bddbf13c4dcdbe0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60227bcf8bddbf13c4dcdbe0'
  properties: {
    firstName: 'Abolfazl'
    lastName: 'Roustaei'
    email: 'abolfazl.rooustaei@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6e238df3-26ad-4636-8b08-95d56308a8cc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_602f8c418bddbf045c1ce51b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '602f8c418bddbf045c1ce51b'
  properties: {
    firstName: 'Alexandros'
    lastName: 'Mikelis'
    email: 'alexandros.mikelis@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c4f4fcd5-59c4-4b97-ac62-eee33ed40a3d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6033a8dd8bddbf045c1ce541 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6033a8dd8bddbf045c1ce541'
  properties: {
    firstName: 'Peter'
    lastName: 'Ngoh'
    email: 'peter.ngoh@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8dbcb535-19e2-47c5-b1aa-7236dd802cf4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_60462cc98bddbf045c1d0135 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60462cc98bddbf045c1d0135'
  properties: {
    firstName: 'Heinz-Christian'
    lastName: 'Goedecker'
    email: 'heinz-christian.goedecker@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a17a68d1-44ed-4ef6-9c59-6a965eef44bf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_60462df78bddbf045c1d013c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60462df78bddbf045c1d013c'
  properties: {
    firstName: 'Nazif'
    lastName: 'Berisha'
    email: 'N14613@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '750a5609-c0c9-4dab-a52d-edf4ba246863'
      }
    ]
  }
}

resource service_uniperapis_dev_name_604a07598bddbf045c1d02dd 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '604a07598bddbf045c1d02dd'
  properties: {
    firstName: 'Barbod'
    lastName: 'Nassirian'
    email: 'barbod.nassirian@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2a8164f3-1f80-40dc-8503-bd5e683141de'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6059f6e18bddbf476c222233 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6059f6e18bddbf476c222233'
  properties: {
    firstName: 'Luis'
    lastName: 'Rodrigues'
    email: 'l19794@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0eff90e3-f06e-40a1-bf5f-be7b30e3cb37'
      }
    ]
  }
}

resource service_uniperapis_dev_name_606471458bddbf0468201290 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '606471458bddbf0468201290'
  properties: {
    firstName: 'Tunay'
    lastName: 'Okumus'
    email: 't00238@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bef878ab-775d-4595-a599-1e4862b2ce7e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_606e86608bddbf125863cb0d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '606e86608bddbf125863cb0d'
  properties: {
    firstName: 'Florian'
    lastName: 'Dorau'
    email: 'florian.dorau@uniper.energy'
    state: 'blocked'
    identities: [
      {
        provider: 'Aad'
        id: '83762bb3-7725-44b3-ae8b-bcb2787d0067'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6076dc258bddbf125863cfd0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6076dc258bddbf125863cfd0'
  properties: {
    firstName: 'Sebastian'
    lastName: 'Heil'
    email: 'sebastian.heil@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b5b387fa-6be0-41e4-baf0-d4d38bc4d0a2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6087b7e68bddbf17ccbea51b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6087b7e68bddbf17ccbea51b'
  properties: {
    firstName: 'Jochhan'
    lastName: 'Banerjee'
    email: 'Jochhan.Banerjee.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5172dbc4-27a0-4fda-989b-aa50741da54d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_608bc99d8bddbf13f87f550c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '608bc99d8bddbf13f87f550c'
  properties: {
    firstName: 'Martin'
    lastName: 'Pavlov'
    email: 'M00647@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4fb8c5c2-907d-40d4-b05a-e1bc4012e87d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_608da9ab8bddbf13f87f5539 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '608da9ab8bddbf13f87f5539'
  properties: {
    firstName: 'Tempo'
    lastName: 'Support'
    email: 'A00766@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '02364f56-ddd8-490a-ac6e-e5ea8a113b61'
      }
    ]
  }
}

resource service_uniperapis_dev_name_60b4ee818bddbf023c248f91 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '60b4ee818bddbf023c248f91'
  properties: {
    firstName: 'Daniel'
    lastName: 'Genchev'
    email: 'd000045@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3569937c-ce88-4e59-8950-ca06039d71a6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_610271d68bddbf1988b3f44d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '610271d68bddbf1988b3f44d'
  properties: {
    firstName: 'Tetyana'
    lastName: 'Ohurok'
    email: 't00436@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8b7fb885-c7ac-4360-8638-f00de1e80933'
      }
    ]
  }
}

resource service_uniperapis_dev_name_611d234b8bddbf11ec4fd5f2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '611d234b8bddbf11ec4fd5f2'
  properties: {
    firstName: 'Ian'
    lastName: 'Beeson'
    email: 'ian.beeson@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1f112f66-b014-4bf5-b4e6-06a895ea0649'
      }
    ]
  }
}

resource service_uniperapis_dev_name_611e49c58bddbf11ec4fd5fa 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '611e49c58bddbf11ec4fd5fa'
  properties: {
    firstName: 'Sneha Raj'
    lastName: 'Manandhar'
    email: 'sneha-raj.manandhar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3414dcf9-1db8-4885-a0f1-41cefa0bc9a3'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6154779c8bddbf0918ec0842 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6154779c8bddbf0918ec0842'
  properties: {
    firstName: 'Sitha Mahalakshmi'
    lastName: 'Panidapu'
    email: 'S48065@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a5f38dd0-c0e5-4faa-a202-c125fe5c7323'
      }
    ]
  }
}

resource service_uniperapis_dev_name_615db4a18bddbf0918ec0903 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '615db4a18bddbf0918ec0903'
  properties: {
    firstName: 'Shalom'
    lastName: 'Alexander'
    email: 'S43440@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '411ad9a1-c41b-47a3-b6da-47bbfb8919e9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_618905688bddbf137060927c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '618905688bddbf137060927c'
  properties: {
    firstName: 'Sandeep'
    lastName: 'Ghosh'
    email: 'S00721@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6da60d3a-d5c5-4233-ac2e-7b2681b43b59'
      }
    ]
  }
}

resource service_uniperapis_dev_name_618bc6108bddbf137060940d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '618bc6108bddbf137060940d'
  properties: {
    firstName: 'Abraham Thomas'
    lastName: 'Joby'
    email: 'abraham-thomas.joby.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e8afab90-51e1-44b9-b7e4-d48d41da36b2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_619b786a8bddbf1decf39634 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '619b786a8bddbf1decf39634'
  properties: {
    firstName: 'Edith'
    lastName: 'Dumitru'
    email: 'edith.dumitru.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f5508f66-4ad7-4b67-9670-bc858eaf2d0a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_619b92f28bddbf1decf396db 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '619b92f28bddbf1decf396db'
  properties: {
    firstName: 'Simon'
    lastName: 'Tocker'
    email: 'simon.tocker@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '10d1ea81-5da0-4c40-bac1-12e00078e90f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61a5e2ad8bddbf1decf39865 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61a5e2ad8bddbf1decf39865'
  properties: {
    firstName: 'Saurav'
    lastName: 'Raj'
    email: 'Saurav.Raj.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2695057d-f892-4678-87b5-341f48740607'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61bc29778bddbf1decf39f63 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61bc29778bddbf1decf39f63'
  properties: {
    firstName: 'Adrian Paul'
    lastName: 'Nutiu'
    email: 'P00217@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '49fba55c-ecbb-4eac-bb37-a1efa541f226'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61e7cd818bddbf12689b9af8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61e7cd818bddbf12689b9af8'
  properties: {
    firstName: 'Sheshi Kumar'
    lastName: 'Kuchi'
    email: 'sheshikumar.kuchi.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '13dfc20b-0b1b-42cc-a59a-b28484b5427c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61f95ae48bddbf12689ba239 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61f95ae48bddbf12689ba239'
  properties: {
    firstName: 'Angela'
    lastName: 'M旦ller'
    email: 'Angela.Moeller@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '26d18b48-c91e-4e74-9fa1-7e4be7e3a594'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61f95bec8bddbf12689ba23f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61f95bec8bddbf12689ba23f'
  properties: {
    firstName: 'Stefan'
    lastName: 'Schneider'
    email: 'Stefan.Schneider@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3ae02a7a-e999-480a-84c4-c27441afdbc8'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61f96aff8bddbf12689ba249 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61f96aff8bddbf12689ba249'
  properties: {
    firstName: 'Paola'
    lastName: 'Farrera'
    email: 'paola.farrera@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bc85c23e-d47e-4421-a1af-285abf08f3af'
      }
    ]
  }
}

resource service_uniperapis_dev_name_61fcbdf38bddbf12689ba2e6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '61fcbdf38bddbf12689ba2e6'
  properties: {
    firstName: 'Brajesh'
    lastName: 'Kumar'
    email: 'b00888@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'be2bc338-12d2-4bfe-8c9c-8e3706f5f31c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_620a44648bddbf09e00cf991 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '620a44648bddbf09e00cf991'
  properties: {
    firstName: 'Dino John Samuel'
    lastName: 'Arulraj'
    email: 'D00515@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'eb168eed-bbf0-43d9-8383-b17f139dfee1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_621df3768bddbf09e00d0e31 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '621df3768bddbf09e00d0e31'
  properties: {
    firstName: 'Gurdeep'
    lastName: 'Singh'
    email: 'G00057@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1fc79177-250a-4aaa-9bfb-e0de372088b9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62223a238bddbf080cf4ecae 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62223a238bddbf080cf4ecae'
  properties: {
    firstName: 'Sumit'
    lastName: 'Mehrotra'
    email: 'sumit.mehrotra@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3e6a4c3a-12ed-47c4-8836-73de877a99c6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_622899ee8bddbf080cf4ed38 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '622899ee8bddbf080cf4ed38'
  properties: {
    firstName: 'Avinash'
    lastName: 'Kumar'
    email: 'avinash.kumar2@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5762470f-718f-4e8b-a157-26f8d3882ad7'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62319ae48bddbf080cf4eea6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62319ae48bddbf080cf4eea6'
  properties: {
    firstName: 'Priyasha'
    lastName: 'Mukherjee'
    email: 'P00237@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3d5247be-bc2b-4994-ab3b-081921f734e5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6231b6ef8bddbf080cf4eeb0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6231b6ef8bddbf080cf4eeb0'
  properties: {
    firstName: 'James'
    lastName: 'Byram'
    email: 'james.byram@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8d0e06b3-11ab-4335-94f9-17a165914f9c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6233164e8bddbf080cf4eed0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6233164e8bddbf080cf4eed0'
  properties: {
    firstName: 'Lalit'
    lastName: 'Patil'
    email: 'L00361@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'af6b0ac8-1da3-41d9-88f0-9169b6076925'
      }
    ]
  }
}

resource service_uniperapis_dev_name_623442c28bddbf0cc861d99d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '623442c28bddbf0cc861d99d'
  properties: {
    firstName: 'Aravind'
    lastName: 'Sankararaman Muthusubramanian'
    email: 'aravind.sankararamanmuthusubramanian@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ff6bfba4-3701-47c1-a479-a17467d8a64e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6239c1c78bddbf0cc861d9e9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6239c1c78bddbf0cc861d9e9'
  properties: {
    firstName: 'Palvinder'
    lastName: 'Tiensa'
    email: 'palvinder.singhtiensa@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1fbfd22a-f78a-4e29-bd5f-c29ea8e12b0b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_623b5d988bddbf0cc861da08 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '623b5d988bddbf0cc861da08'
  properties: {
    firstName: 'Andras'
    lastName: 'Kabdebon'
    email: 'andras.kabdebon@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a95f4b89-b565-4646-a816-9c4831675629'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6245aeee8bddbf1054d80d30 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6245aeee8bddbf1054d80d30'
  properties: {
    firstName: 'Radoslav'
    lastName: 'Stoyanov'
    email: 'radoslav.stoyanov@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ee4a664e-d639-49eb-a4ea-37d824378678'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6260ec698bddbf1054d81273 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6260ec698bddbf1054d81273'
  properties: {
    firstName: 'Solomon'
    lastName: 'Durai'
    email: 'solomon.durai.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '024b0750-1798-4869-a585-0e9c304b113e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_627be7518bddbf06c0a8c455 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '627be7518bddbf06c0a8c455'
  properties: {
    firstName: 'Rowan'
    lastName: 'Moore'
    email: 'r3867@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e39c15d5-754e-4516-9af6-98b934e73cde'
      }
    ]
  }
}

resource service_uniperapis_dev_name_628b600b8bddbf06c0a8c55d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '628b600b8bddbf06c0a8c55d'
  properties: {
    firstName: 'Sameera'
    lastName: 'Ramesh'
    email: 'sameera.ramesh.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fbedbc93-06c7-4791-a5b5-b6a04dd7a057'
      }
    ]
  }
}

resource service_uniperapis_dev_name_628f8cfa8bddbf114c4efed2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '628f8cfa8bddbf114c4efed2'
  properties: {
    firstName: 'Reg'
    lastName: 'Lobee'
    email: 'reg.lobee@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '93791877-5e02-4a5d-b092-756a63a8caf9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6299ebde8bddbf03c89412e8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6299ebde8bddbf03c89412e8'
  properties: {
    firstName: 'Sachin Banda'
    lastName: 'Patil'
    email: 'SachinBanda.Patil.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ecfd0454-a21f-4f0f-9143-6543da05070f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62a30fb58bddbf03c8941371 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62a30fb58bddbf03c8941371'
  properties: {
    firstName: 'Marco'
    lastName: 'Bick'
    email: 'marco.bick@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '947eaadd-8740-470b-b5d0-732d53620273'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62a846d88bddbf03c89413c8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62a846d88bddbf03c89413c8'
  properties: {
    firstName: 'Sudha'
    lastName: 'Ramraj'
    email: 'sudha.ramraj@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '70a19065-dfc4-4921-9cff-c09a0dbaaf8b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62ac70a78bddbf03c8941bcf 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62ac70a78bddbf03c8941bcf'
  properties: {
    firstName: 'Vigneshwaran'
    lastName: 'Padmanaban'
    email: 'V00491@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fce761ea-4aa9-4202-b03b-d154a586dc75'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62c3f8918bddbf12b0ac91e6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62c3f8918bddbf12b0ac91e6'
  properties: {
    firstName: 'Furkan'
    lastName: 'Karacan'
    email: 'furkan.karacan.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '922629d2-1ee0-4636-a4b7-4e72785d67ab'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62da5dca8bddbf0590f45fa2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62da5dca8bddbf0590f45fa2'
  properties: {
    firstName: 'Sai Kiran'
    lastName: 'Peraveni'
    email: 's01054@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '130f0eee-82be-47d1-8583-66dc0921a1b2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62f4d2d58bddbf1b2465b7cb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62f4d2d58bddbf1b2465b7cb'
  properties: {
    firstName: 'Siddheshwar'
    lastName: 'Suryawanshi'
    email: 'S01465@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '299c28ff-9059-42cb-8fbf-aa6d5198c8d4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_62ff73878bddbf1068557381 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '62ff73878bddbf1068557381'
  properties: {
    firstName: 'Wolf-R端diger'
    lastName: 'Sacher'
    email: 'wolf-ruediger.sacher@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '86c43561-0cd6-4509-9d18-89a12880003f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_631afd668bddbf1a50f6580d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '631afd668bddbf1a50f6580d'
  properties: {
    firstName: 'Priyanka'
    lastName: 'Smriti'
    email: 'P00856@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ba229b2e-9360-4787-8f88-a766c757bd38'
      }
    ]
  }
}

resource service_uniperapis_dev_name_631f39c18bddbf169c833b87 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '631f39c18bddbf169c833b87'
  properties: {
    firstName: 'Anatoli'
    lastName: 'Atanasov'
    email: 'A00625@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '518b9b04-59fe-43dd-aead-9f71e9b6162c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63243c888bddbf069ca64e89 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63243c888bddbf069ca64e89'
  properties: {
    firstName: 'Lakshmi Narayanan'
    lastName: 'Dhamodharan'
    email: 'L00165@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '244d063c-69e5-4142-b64a-c82e49e10f51'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6328736c8bddbf069ca66322 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6328736c8bddbf069ca66322'
  properties: {
    firstName: 'Sinduraja'
    lastName: 'Muruganandam'
    email: 'sinduraja.muruganandam.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '48b17ec3-d106-420c-a096-1944c1a2b80e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_634582558bddbf08448445f6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '634582558bddbf08448445f6'
  properties: {
    firstName: 'B辰rbel'
    lastName: 'Schlitt'
    email: 'baerbel.schlitt@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9db8c1a5-7762-40a7-a015-ee10eaab7f7d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63465d2e8bddbf0844844617 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63465d2e8bddbf0844844617'
  properties: {
    firstName: 'Dirk'
    lastName: 'Steuber'
    email: 'D14246@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '752dc1c7-7e0d-4636-955c-d2a1135f795b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_634b3e2c8bddbf13b08f4c70 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '634b3e2c8bddbf13b08f4c70'
  properties: {
    firstName: 'Pascal'
    lastName: 'Goertz'
    email: 'p24433@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4a35890d-8790-4abc-900b-2cbfbed4deaa'
      }
    ]
  }
}

resource service_uniperapis_dev_name_634d077e8bddbf13b08f4c83 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '634d077e8bddbf13b08f4c83'
  properties: {
    firstName: 'Frank'
    lastName: 'Steidinger'
    email: 'frank.steidinger.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1f8feade-ad03-4a1b-99ab-aba3c3a63d2b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6360fb6d8bddbf13b08fc9de 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6360fb6d8bddbf13b08fc9de'
  properties: {
    firstName: 'Katie'
    lastName: 'Shepley'
    email: 'katie.shepley@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '073ab9d6-5fce-44e5-b0ce-b74f36ed5cc4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6368d2058bddbf0eb451cc69 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6368d2058bddbf0eb451cc69'
  properties: {
    firstName: 'Roopa'
    lastName: 'Patil'
    email: 'r00776@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5751bd2c-f575-4ba8-903f-b9e8661c175a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_636cf7598bddbf0eb451cdc3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '636cf7598bddbf0eb451cdc3'
  properties: {
    firstName: 'Vigesh'
    lastName: 'Kumar'
    email: 'V00497@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1d68e085-0432-4422-a2ba-c11f6d97f702'
      }
    ]
  }
}

resource service_uniperapis_dev_name_637244868bddbf0eb451ce4f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '637244868bddbf0eb451ce4f'
  properties: {
    firstName: 'Moslem'
    lastName: 'Neji'
    email: 'moslem.neji@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd58666d7-101b-4b68-88c5-fabc657f554e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63736d608bddbf0eb451cea5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63736d608bddbf0eb451cea5'
  properties: {
    firstName: 'Michael'
    lastName: 'Stewart'
    email: 'michael.stewart@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '300bef94-947a-477e-a746-4f77baf868dc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63748f8a8bddbf0eb451cec6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63748f8a8bddbf0eb451cec6'
  properties: {
    firstName: 'Ramamoorthi'
    lastName: 'K'
    email: 'Ramamoorthi.K.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1b9119d3-7ae6-46da-af5a-6ab97f30abd9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63749dc28bddbf0eb451cee1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63749dc28bddbf0eb451cee1'
  properties: {
    firstName: 'Vignesh'
    lastName: 'Murali'
    email: 'vignesh.murali.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '45511be9-b1d1-4a77-b874-a2a627eeaae7'
      }
    ]
  }
}

resource service_uniperapis_dev_name_637df6a38bddbf0eb451d4fb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '637df6a38bddbf0eb451d4fb'
  properties: {
    firstName: 'Himangshu'
    lastName: 'Das'
    email: 'himangshu.das.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '77846540-142f-44ac-9d0c-79d733e48cd5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_637e16ef8bddbf0eb451d51e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '637e16ef8bddbf0eb451d51e'
  properties: {
    firstName: 'Pascal'
    lastName: 'Gr端n'
    email: 'pascal.gruen.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4add400e-cdb2-4c4d-9535-0bb3653619f9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_638a020f8bddbf0eb451d8a9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '638a020f8bddbf0eb451d8a9'
  properties: {
    firstName: 'Rene'
    lastName: 'Koch'
    email: 'rene.koch@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bb7a8974-9a3a-42d1-b583-1f72b7cf1382'
      }
    ]
  }
}

resource service_uniperapis_dev_name_638f1f488bddbf0eb451d91e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '638f1f488bddbf0eb451d91e'
  properties: {
    firstName: 'Michael'
    lastName: 'Schlenger'
    email: 'michael.schlenger@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1a55f46e-89d3-4e93-9ac0-18a2c427f49d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63905a568bddbf0eb451d987 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63905a568bddbf0eb451d987'
  properties: {
    firstName: 'Yerrannagari'
    lastName: 'Likhitha'
    email: 'yerrannagari.likhitha.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '82c37913-b6e1-423f-aa20-c1b508603c53'
      }
    ]
  }
}

resource service_uniperapis_dev_name_639074a38bddbf0eb451d99b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '639074a38bddbf0eb451d99b'
  properties: {
    firstName: 'Peter'
    lastName: 'Todorov'
    email: 'P00562@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd3b393fb-5b97-46ce-9aab-cca9daa09577'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63ce9ee58bddbf12cc34fdbb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63ce9ee58bddbf12cc34fdbb'
  properties: {
    firstName: 'Nils'
    lastName: 'Engelhardt'
    email: 'nils.engelhardt@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '15f2e078-0101-4e20-8afd-7f4db1ecf4f4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63dbc0c08bddbf104459ed70 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63dbc0c08bddbf104459ed70'
  properties: {
    firstName: 'Sascha'
    lastName: 'Engel'
    email: 'sascha.engel@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '632d8566-90af-46f2-b571-23b38463c7bb'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63e2571b8bddbf1150736997 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63e2571b8bddbf1150736997'
  properties: {
    firstName: 'Kunal'
    lastName: 'Aggarwal'
    email: 'k08242@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1d6ecc6a-8a6a-4bfb-89fb-1cfc7dfefe82'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63eca4ba8bddbf12c03c27f5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63eca4ba8bddbf12c03c27f5'
  properties: {
    firstName: 'Mel'
    lastName: 'Schickel'
    email: 'mel.schickel@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '29adb628-c1ec-4929-a66f-e3ed0b395177'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63ee48b88bddbf12c03c2830 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63ee48b88bddbf12c03c2830'
  properties: {
    firstName: 'zg端r'
    lastName: 'Akyazi'
    email: 'oezguer.akyazi@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8d4f985b-f43a-45f0-9999-3d95e5803b56'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63fc54828bddbf151034f44f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63fc54828bddbf151034f44f'
  properties: {
    firstName: 'Swarnalatha'
    lastName: 'Kondula'
    email: 'soo688@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'cb7d39b3-ce4c-4937-b3aa-e52c641ddd92'
      }
    ]
  }
}

resource service_uniperapis_dev_name_63fde4a88bddbf09c88598ee 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '63fde4a88bddbf09c88598ee'
  properties: {
    firstName: 'Yalamanchi'
    lastName: 'Suraj'
    email: 'y4438@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5f9e21a7-d02d-40cf-8f03-d2849de0b693'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64103a1d8bddbf09c8859cc9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64103a1d8bddbf09c8859cc9'
  properties: {
    firstName: 'Martin'
    lastName: 'Meyer'
    email: 'martin.meyer@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '09ef98a7-c853-4023-ac14-65aad2424c4e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_641192628bddbf09c8859ce8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '641192628bddbf09c8859ce8'
  properties: {
    firstName: 'Olena'
    lastName: 'Fiedler'
    email: 'olena.fiedler@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0fa04091-b931-4389-b310-66fd4bd40d92'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6413115b8bddbf09c8859e37 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6413115b8bddbf09c8859e37'
  properties: {
    firstName: 'Sai Dheeraj Kumar'
    lastName: 'Kasarapu'
    email: 'S01675@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c61d3ca8-538f-459a-bb0b-3a19012ddccb'
      }
    ]
  }
}

resource service_uniperapis_dev_name_641c08c48bddbf09c8859f01 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '641c08c48bddbf09c8859f01'
  properties: {
    firstName: 'Sebastian'
    lastName: 'Sacherer'
    email: 'S00982@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b4cf6372-0e86-41bf-86ca-dcc7de05469f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_643fdeae8bddbf1af0817fbc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '643fdeae8bddbf1af0817fbc'
  properties: {
    firstName: 'Bheemireddy'
    lastName: 'Manohar Reddy'
    email: 'B00820@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6688a5b4-1729-43c4-93b0-93d79fbaed02'
      }
    ]
  }
}

resource service_uniperapis_dev_name_644775bc8bddbf0d309d8559 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '644775bc8bddbf0d309d8559'
  properties: {
    firstName: 'Ingo'
    lastName: 'Mairose'
    email: 'Ingo.Mairose@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4e7ae11d-ee4e-4a0f-8156-5a256673059c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_645a38708bddbf0d309d87c4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '645a38708bddbf0d309d87c4'
  properties: {
    firstName: 'Oleksii'
    lastName: 'Pominovskyi'
    email: 'oleksii.pominovskyi@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'da53152f-493d-4cc9-9e48-50b7eb6d5da7'
      }
    ]
  }
}

resource service_uniperapis_dev_name_645ca3298bddbf0d309d881b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '645ca3298bddbf0d309d881b'
  properties: {
    firstName: 'Gerhard'
    lastName: 'H端ter'
    email: 'gerd.hueter@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '021d88e2-f7b0-456e-809f-804c916289d5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6463310a8bddbf1218e4ce1e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6463310a8bddbf1218e4ce1e'
  properties: {
    firstName: 'Daniel'
    lastName: 'Drinhausen'
    email: 'Daniel.Drinhausen.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a083e6fc-0768-4ca2-bf35-2725ea6b5ea5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_646b5c938bddbf1218e4cf6b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '646b5c938bddbf1218e4cf6b'
  properties: {
    firstName: 'Tim'
    lastName: 'Holdschlag'
    email: 'tim.holdschlag@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '51afa3c1-0bda-42df-9d0f-a739bda82364'
      }
    ]
  }
}

resource service_uniperapis_dev_name_646f0f1d8bddbf1218e4cffa 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '646f0f1d8bddbf1218e4cffa'
  properties: {
    firstName: 'Kishore'
    lastName: 'Puliparthi'
    email: 'kishore.puliparthi.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '71b5741a-d2e3-4877-b60d-d17d3e24c93b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64744e568bddbf1218e4d16c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64744e568bddbf1218e4d16c'
  properties: {
    firstName: 'Rajib'
    lastName: 'Ghosh'
    email: 'r00160@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '26e054b7-4ed8-44b9-863e-1c8b248ccfd2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_647701ac8bddbf1218e4d1c0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '647701ac8bddbf1218e4d1c0'
  properties: {
    firstName: 'Dafni'
    lastName: 'Pythara'
    email: 'dafni.pythara@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '966250ab-0c05-4a8a-8fd5-c1561eb656ff'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64783a668bddbf1218e4d239 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64783a668bddbf1218e4d239'
  properties: {
    firstName: 'Durga Prasad'
    lastName: 'Booga'
    email: 'durgaprasad.booga@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4b5a589d-0312-44d3-93f6-ca61a7723a72'
      }
    ]
  }
}

resource service_uniperapis_dev_name_647ed8048bddbf1218e4d2c0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '647ed8048bddbf1218e4d2c0'
  properties: {
    firstName: 'Swapna'
    lastName: 'C'
    email: 's00936@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1dfa0f42-0c27-43f5-a426-054fbac11cae'
      }
    ]
  }
}

resource service_uniperapis_dev_name_647ed82c8bddbf1218e4d2c9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '647ed82c8bddbf1218e4d2c9'
  properties: {
    firstName: 'Ravi Kishore'
    lastName: 'Mannem'
    email: 'R00772@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '40fea1ee-d09a-4c86-a033-3ad1a4ed175b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_648163a98bddbf1218e4d321 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '648163a98bddbf1218e4d321'
  properties: {
    firstName: 'Rajasekhar'
    lastName: 'R'
    email: 'r00741@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'afbae360-415c-4738-8c6a-17a94dd2097f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_648ae2ee8bddbf1218e4d3cf 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '648ae2ee8bddbf1218e4d3cf'
  properties: {
    firstName: 'Jayakrishna'
    lastName: 'Chilakala'
    email: 'J01634@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b57b7930-7442-4ba9-aa61-b8b5497fa281'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6492da058bddbf1928a29f62 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6492da058bddbf1928a29f62'
  properties: {
    firstName: 'Nagendra Krishna'
    lastName: 'K'
    email: 'nagendrakrishna.k.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '20f18e71-bf26-41eb-88a8-9f3c9f675f59'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64ace10b8bddbf1658ad5e8b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64ace10b8bddbf1658ad5e8b'
  properties: {
    firstName: 'Tobias'
    lastName: 'Rahn'
    email: 'tobias.rahn@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '80bf3311-e386-4533-96c8-17c19101d2b9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64c366ce8bddbf12a4d53e54 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64c366ce8bddbf12a4d53e54'
  properties: {
    firstName: 'Anand'
    lastName: 'Kumar'
    email: 'A01935@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ed8f431f-ff08-4977-9b6d-c14cc7217729'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64d361ba8bddbf15d81d330e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64d361ba8bddbf15d81d330e'
  properties: {
    firstName: 'Stephan'
    lastName: 'Oberreuter'
    email: 'S01366@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '844dd9a7-bc94-4a03-b69d-c9aa33bc797d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64e469668bddbf1568767267 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64e469668bddbf1568767267'
  properties: {
    firstName: 'Engala'
    lastName: 'Vamshi Krishna'
    email: 'e00724@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ca9c3592-7c69-4cff-a3e8-da6c77957414'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64e4d5628bddbf1568767278 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64e4d5628bddbf1568767278'
  properties: {
    firstName: 'Vinyasha'
    lastName: 'Vanamareddy'
    email: 'v00698@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bd0bc132-0518-48ee-a13c-894164fd73c1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64ec45e88bddbf0288eb3e3d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64ec45e88bddbf0288eb3e3d'
  properties: {
    firstName: 'Andreas'
    lastName: 'Opalinski'
    email: 'andreas.opalinski@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5a447bca-8134-4826-bc48-5c5d993615f3'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64eca0138bddbf0288eb3e69 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64eca0138bddbf0288eb3e69'
  properties: {
    firstName: 'Nuvvula'
    lastName: 'Kaveri'
    email: 'N00967@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ce73a98f-99a6-43b8-bc9b-491f8dbc75c4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64ef0a988bddbf0288eb3f52 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64ef0a988bddbf0288eb3f52'
  properties: {
    firstName: 'Tobias'
    lastName: 'Junklewitz'
    email: 'tobias.junklewitz@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd11b7c7b-7bdc-4b07-a54d-37b372ecead2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64f89b388bddbf0288eb4189 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64f89b388bddbf0288eb4189'
  properties: {
    firstName: 'Mohammed'
    lastName: 'Aboobakkar'
    email: 'Mohammed.Aboobakkar.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '995cde19-a32a-4bdd-a308-1ca80bed37cf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_64f98b158bddbf0288eb419b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '64f98b158bddbf0288eb419b'
  properties: {
    firstName: 'Madhusudhana'
    lastName: 'Karri'
    email: 'm02525@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '34ff362a-2b09-4b8f-9f70-2beb8b4a5da5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6500229e8bddbf0288eb4752 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6500229e8bddbf0288eb4752'
  properties: {
    firstName: 'Alakendu'
    lastName: 'Hazra'
    email: 'alakendu.hazra.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fdefe129-f0bf-4806-9a33-8a985288c430'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6512b1918bddbf030041b163 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6512b1918bddbf030041b163'
  properties: {
    firstName: 'Shanti'
    lastName: 'Battina'
    email: 'Battina.Shanti.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c2dcb17f-6252-4631-9044-7c3831d6a542'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6513ce078bddbf030041b1ac 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6513ce078bddbf030041b1ac'
  properties: {
    firstName: 'Kopal'
    lastName: 'Nema'
    email: 'K01340@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1a202304-42b8-4360-8167-a258ca802b94'
      }
    ]
  }
}

resource service_uniperapis_dev_name_651ff9f58bddbf169432ef58 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '651ff9f58bddbf169432ef58'
  properties: {
    firstName: 'Sai Madhurima'
    lastName: 'Ponnapalli'
    email: 'saimadhurima.ponnapalli@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '449ce8fe-3c26-4b09-aca6-292ffda3a6bf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_652000958bddbf169432ef63 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '652000958bddbf169432ef63'
  properties: {
    firstName: 'Lakshmi Naga Sai'
    lastName: 'Manubothu'
    email: 'L00587@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '84011dbe-5c22-466b-8b21-69bceba464df'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65264f948bddbf169432f0cc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65264f948bddbf169432f0cc'
  properties: {
    firstName: 'Vairam'
    lastName: 'Lakshumanasamy'
    email: 'Vairam.Lakshumanasamy.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'cf433554-448d-42dc-a87e-6009b06ff033'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65268bfa8bddbf169432f0e8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65268bfa8bddbf169432f0e8'
  properties: {
    firstName: 'Rajeshkumar'
    lastName: 'Pitchaimuthu'
    email: 'R00979@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c9b93b16-1b6f-42a3-a173-493f6ae7371c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_653136aa8bddbf0d90636e35 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '653136aa8bddbf0d90636e35'
  properties: {
    firstName: 'Raghava'
    lastName: 'Popuri'
    email: 'raghava.popuri.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0a944ad0-9b5e-4d07-b8bc-99e68a7c1326'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6561a7e58bddbf13e845c707 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6561a7e58bddbf13e845c707'
  properties: {
    firstName: 'Mayowa'
    lastName: 'Onalaja'
    email: 'mayowa.onalaja@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e3595eb3-a702-48da-bc93-e406e86ce840'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65770dac8bddbf0954e9aac1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65770dac8bddbf0954e9aac1'
  properties: {
    firstName: 'Lakshmi Narayan'
    lastName: 'Verma'
    email: 'l00577@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c9f77e91-c119-4c6e-9aa1-d2a8cb27d975'
      }
    ]
  }
}

resource service_uniperapis_dev_name_657feb128bddbf1fe88b674f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '657feb128bddbf1fe88b674f'
  properties: {
    firstName: 'Peddiraju'
    lastName: 'Simhadri'
    email: 'peddiraju.simhadri.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5cd31592-ecaa-4fc9-b6bb-c03566d30800'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65816fc08bddbf1fe88b67c6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65816fc08bddbf1fe88b67c6'
  properties: {
    firstName: 'SHUBHAM'
    lastName: 'KUMAR'
    email: 'S01970@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3d451054-1238-472c-ad6c-2a204884fa8c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_659685218bddbf1158d620d8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '659685218bddbf1158d620d8'
  properties: {
    firstName: 'Frank-Christian'
    lastName: 'Sander'
    email: 'Frank-Christian.Sander@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e1258726-4a48-424a-b0c6-acadb01ece4a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_659be7d48bddbf1158d6219c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '659be7d48bddbf1158d6219c'
  properties: {
    firstName: 'Vikram'
    lastName: 'Kokkonda'
    email: 'V7406@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '70e3113f-c833-48d4-af9d-e7b24c957587'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65a78d268bddbf087091d3fb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65a78d268bddbf087091d3fb'
  properties: {
    firstName: 'Shailendra'
    lastName: 'Kumar'
    email: 'Shailendra.Kumar.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '673cd90d-e0c7-455d-b3cb-8f90cb67d669'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65bb76418bddbf1068c9a114 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65bb76418bddbf1068c9a114'
  properties: {
    firstName: 'Shivendra Singh'
    lastName: 'Sisodiya'
    email: 's01823@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7461ec90-e2a0-4f5d-b19c-793547c8146a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65c1e1e38bddbf1154bf0b09 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65c1e1e38bddbf1154bf0b09'
  properties: {
    firstName: 'Hendrik'
    lastName: 'Kirsch'
    email: 'hendrik.kirsch.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '351cb812-e92b-4aa6-ad83-a3338edf2caa'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65e1cc638bddbf14ec99d702 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e1cc638bddbf14ec99d702'
  properties: {
    firstName: 'Keith'
    lastName: 'Clancy'
    email: 'keith.clancy@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ffc6f45c-bbdb-4ee9-9e21-0292343fb82a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65e6f24a8bddbf14ec99d91a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65e6f24a8bddbf14ec99d91a'
  properties: {
    firstName: 'Adam'
    lastName: 'Mazurkiewicz'
    email: 'A01304@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '3cebb931-09b0-49ab-863c-0e18c9892c22'
      }
    ]
  }
}

resource service_uniperapis_dev_name_65fd321b8bddbf120463b7db 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '65fd321b8bddbf120463b7db'
  properties: {
    firstName: 'Andreas'
    lastName: 'Mular'
    email: 'A00322@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a9ddfe5e-a776-44c6-8bca-1c6766096d7b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_660567bd8bddbf120463bc42 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '660567bd8bddbf120463bc42'
  properties: {
    firstName: 'Khushal'
    lastName: 'Marem'
    email: 'khushal.marem.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '55990b58-c9c0-49a7-9678-7b893d12c168'
      }
    ]
  }
}

resource service_uniperapis_dev_name_660f905d8bddbf120463c035 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '660f905d8bddbf120463c035'
  properties: {
    firstName: 'Ramesh'
    lastName: 'Avula'
    email: 'ramesh.avula.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c5069bec-b823-482c-a62a-7359308be7f5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6615485d8bddbf15743125f9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6615485d8bddbf15743125f9'
  properties: {
    firstName: 'Henrik'
    lastName: 'Lechte'
    email: 'henrik.lechte@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'eedfa127-f4fa-4c30-ac3f-78e4cde2b18e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_661639a88bddbf157431266e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '661639a88bddbf157431266e'
  properties: {
    firstName: 'Chaitanya'
    lastName: 'Mamidi'
    email: 'chaitanya.mamidi@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4268538b-ec48-45f1-a055-f378150a0d9b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_661d11878bddbf1574312913 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '661d11878bddbf1574312913'
  properties: {
    firstName: 'Naga'
    lastName: 'Devarapalli'
    email: 'N01367@UNIPER.ENERGY'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6801e087-35a8-46fe-a7c2-77b33cf7d206'
      }
    ]
  }
}

resource service_uniperapis_dev_name_661d2f8c8bddbf157431291d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '661d2f8c8bddbf157431291d'
  properties: {
    firstName: 'Rajasree'
    lastName: 'Mohan'
    email: 'r00991@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f13abf2c-5108-41db-9b96-b066dd118f7c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6620eb118bddbf1394645d93 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6620eb118bddbf1394645d93'
  properties: {
    firstName: 'Neil'
    lastName: 'Smith'
    email: 'neil.smith@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1cd93324-33e7-4d21-b638-d45f4477a433'
      }
    ]
  }
}

resource service_uniperapis_dev_name_662a0c50217d2017d043a005 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '662a0c50217d2017d043a005'
  properties: {
    firstName: 'Sujoy Kumar'
    lastName: 'Paul'
    email: 'SujoyKumar.Paul.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '62f87e70-da58-4441-998b-c976a76804aa'
      }
    ]
  }
}

resource service_uniperapis_dev_name_664c4486217d2015ec7416b3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '664c4486217d2015ec7416b3'
  properties: {
    firstName: 'Chandrasekhar'
    lastName: 'Dabbada'
    email: 'C00309@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b0e28ea6-c3fb-4183-aeef-8cd4b05fff47'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6655c694fb42680fd0cab64a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6655c694fb42680fd0cab64a'
  properties: {
    firstName: 'Fabian'
    lastName: 'Peters'
    email: 'fabian.peters@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5d1306ea-cb0e-468a-a80f-fb8d703cc033'
      }
    ]
  }
}

resource service_uniperapis_dev_name_665ddddafb426811b082a9a1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '665ddddafb426811b082a9a1'
  properties: {
    firstName: 'Lokesh Reddy'
    lastName: 'Bhimavarapu'
    email: 'lokeshreddy.bhimavarapu.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ee83d714-ff1e-4d51-98f0-b873feb5a98c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_665dde63fb426811b082a9a8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '665dde63fb426811b082a9a8'
  properties: {
    firstName: 'Harvey'
    lastName: 'Marples'
    email: 'h00740@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a0910b86-b69f-4389-a81e-d1135f1c1059'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6660477efb426811b082aaa8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6660477efb426811b082aaa8'
  properties: {
    firstName: 'Nadeem'
    lastName: 'Shaik'
    email: 'nadeem.shaik.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '47fd06e9-769c-46d2-961d-25287f8ace16'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66616490fb426811b082ab05 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66616490fb426811b082ab05'
  properties: {
    firstName: 'Arvind'
    lastName: 'Sahu'
    email: 'A02224@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f4d73931-1bfa-45e9-9517-0a807d6373f5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6666fcc0fb426811b082b366 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6666fcc0fb426811b082b366'
  properties: {
    firstName: 'Bet端l'
    lastName: 'Celik'
    email: 'B01293@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c3a56688-7753-47df-a1d6-7a405071212d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66700e23fb426811b082b749 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66700e23fb426811b082b749'
  properties: {
    firstName: 'Ngamboulou'
    lastName: 'Mekok'
    email: 'Ngamboulou.Mekok@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '57f7c19f-1265-4131-8073-ead1d27d3eac'
      }
    ]
  }
}

resource service_uniperapis_dev_name_667042e5fb426811b082b759 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '667042e5fb426811b082b759'
  properties: {
    firstName: 'Hardeep'
    lastName: 'Singh'
    email: 'Hardeep.Singh.Ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '43a43cd7-9f7b-4e21-8596-8c16350bc69b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66714e80fb426811b082b7b3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66714e80fb426811b082b7b3'
  properties: {
    firstName: 'Kavya'
    lastName: 'Divakar Patil'
    email: 'k08446@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1dedcaf6-ce13-4c6d-ab3e-0ec3ed6b8a27'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66728bc9fb426811b082b88b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66728bc9fb426811b082b88b'
  properties: {
    firstName: 'Amit'
    lastName: 'Pandey'
    email: 'amit.pandey@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '97593deb-5c6f-4d9d-a8fd-3419f98d7332'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6672e5dbfb42681b8c0760ac 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6672e5dbfb42681b8c0760ac'
  properties: {
    firstName: 'Selvam'
    lastName: 'Arunachalam'
    email: 'Selvam.Arunachalam@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '57bb3e96-8fac-44ce-999e-70b7246b5bae'
      }
    ]
  }
}

resource service_uniperapis_dev_name_667ed792fb42680d3ca8faa6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '667ed792fb42680d3ca8faa6'
  properties: {
    firstName: 'Ranjith Kumar'
    lastName: 'Karanam'
    email: 'RanjithKumar.Karanam.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dc6817ee-0cef-432c-b249-2d521ff4aa06'
      }
    ]
  }
}

resource service_uniperapis_dev_name_668697e8fb42680d3ca904bb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '668697e8fb42680d3ca904bb'
  properties: {
    firstName: 'Holger'
    lastName: 'Leppkes'
    email: 'holger.leppkes@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '98fe871f-83e2-4e91-be26-e57daa515c8e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_668b9c8cfb42680d3ca907ec 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '668b9c8cfb42680d3ca907ec'
  properties: {
    firstName: 'Vedant Prasad'
    lastName: 'Nayak'
    email: 'V00870@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7d260763-2a82-4db8-b6e7-a12e537c8f7d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6690ed6bfb42680d3ca90a9b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6690ed6bfb42680d3ca90a9b'
  properties: {
    firstName: 'Andrej'
    lastName: 'Ovchinnikov'
    email: 'andrej.ovchinnikov@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ea3b57a3-3ab5-41d0-80d7-3d09289e2e9e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66a797defb42681b347713c3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66a797defb42681b347713c3'
  properties: {
    firstName: 'Jens'
    lastName: 'Hoffmann'
    email: 'jens.hoffmann@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '205f6304-8e46-4480-9a15-c7819d00816f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66a88d51fb42681b34771435 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66a88d51fb42681b34771435'
  properties: {
    firstName: 'Adisa'
    lastName: 'Hanic'
    email: 'adisa.hanic@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0187c344-d479-49c4-93bf-a963228fc977'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66b33bf6fb42681b347719a7 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66b33bf6fb42681b347719a7'
  properties: {
    firstName: 'Bogdan'
    lastName: 'Aioanei'
    email: 'Bogdan.Aioanei.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '011001cf-7c56-4c71-9fb6-54172c7cf480'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66b366a9fb42681b347719bf 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66b366a9fb42681b347719bf'
  properties: {
    firstName: 'Monnil'
    lastName: 'Roy'
    email: 'Monnil.Roy.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e52852d7-768a-4f93-951d-ed6d3d3dcb28'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66b38358fb42681b347719c5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66b38358fb42681b347719c5'
  properties: {
    firstName: 'Rick'
    lastName: 'Mackenbach'
    email: 'Rick.Mackenbach@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd223769b-86fc-4c24-881f-8b7721f9f863'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66bb431ffb42681c0486136c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66bb431ffb42681c0486136c'
  properties: {
    firstName: 'Matthew'
    lastName: 'Williams'
    email: 'Matthew.Williams@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '06fa02fe-50f4-4a2c-80a0-7e82ab635e42'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66bb4539fb42681c04861370 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66bb4539fb42681c04861370'
  properties: {
    firstName: 'Jan Christian'
    lastName: 'Marinesse'
    email: 'JanChristian.Marinesse.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '32c46381-058d-4477-8277-337fad642868'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66e16281fb42680690bbb375 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66e16281fb42680690bbb375'
  properties: {
    firstName: 'Alexander'
    lastName: 'Bainczyk'
    email: 'Alexander.Bainczyk.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2b976732-764d-4f65-a46c-4bfdf609d1e9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66e187defb42680690bbb3db 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66e187defb42680690bbb3db'
  properties: {
    firstName: 'Lina'
    lastName: 'Vilcinskaite'
    email: 'Lina.Vilcinskaite@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '00a76844-fb17-4098-8aa0-1edbe3836291'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66ebdc63fb42680690bbbab4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66ebdc63fb42680690bbbab4'
  properties: {
    firstName: 'Steve'
    lastName: 'Atkinson'
    email: 'Steve.Atkinson.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c1a4933d-bfb7-4cd4-b4cc-8a19b7283738'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66f12cc5fb426811a87ad38f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66f12cc5fb426811a87ad38f'
  properties: {
    firstName: 'Nico'
    lastName: 'Braun'
    email: 'Nico.Braun.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7b8a2b08-e7e5-4485-b550-dc5537b437ec'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66f568cafb426811a87ad70a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66f568cafb426811a87ad70a'
  properties: {
    firstName: 'Naidi'
    lastName: 'Cela'
    email: 'naidi.cela@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a605ac40-8b6b-445c-8c96-e83e0e82a00c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66f57d95fb426811a87ad71b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66f57d95fb426811a87ad71b'
  properties: {
    firstName: 'Michael'
    lastName: 'Knuth'
    email: 'Michael.Knuth.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e5ce68f2-c04c-4fa5-a94d-dec2f34f1e21'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66fa8a7ffb426811a87adb25 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fa8a7ffb426811a87adb25'
  properties: {
    firstName: 'Chris-Julian'
    lastName: 'Deutzer'
    email: 'Chris-Julian.Deutzer@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0737e869-98f1-4125-8ec6-a6a7df82f5af'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66fb96e5fb426811a87adbaa 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fb96e5fb426811a87adbaa'
  properties: {
    firstName: 'Stefan'
    lastName: 'Deutzer'
    email: 'stefan.deutzer@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dad3ed4b-3987-4417-98a2-4c2ecba0049b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66fba49cfb426811a87adbbc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fba49cfb426811a87adbbc'
  properties: {
    firstName: 'Nikola'
    lastName: 'Mickovski'
    email: 'Nikola.Mickovski.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '09c0c413-6169-4232-9996-d601ca21d8aa'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66fd4917fb426811a87add74 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fd4917fb426811a87add74'
  properties: {
    firstName: 'Soroor'
    lastName: 'Eskandari'
    email: 'Soroor.EskandariKhorramAbadi@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fd2d7a24-550c-4268-9e8e-06526bf4bd6f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_66fd5dd8fb426811a87add8e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '66fd5dd8fb426811a87add8e'
  properties: {
    firstName: 'Beyza'
    lastName: 'Yildirim'
    email: 'Beyza.Yildirim@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'da5251b2-397d-48d3-a7f9-985d68581630'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67038b3bfb426811a87ae16a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67038b3bfb426811a87ae16a'
  properties: {
    firstName: 'Christopher'
    lastName: 'Thiele'
    email: 'Christopher.Thiele@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '816f2687-d3b5-4287-8412-bbd64c4f5672'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6703a99dfb426811a87ae16e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6703a99dfb426811a87ae16e'
  properties: {
    firstName: 'Thomas'
    lastName: 'Leistikow'
    email: 'Thomas.Leistikow@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ea87ec60-c290-46e7-9477-ba63fa44f65b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6707b5ee67ce42139cb5b60d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6707b5ee67ce42139cb5b60d'
  properties: {
    firstName: 'Vibin Raj'
    lastName: 'Selvaraj'
    email: 'VibinRaj.Selvaraj.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '68e877f3-c5a9-47c6-8f87-431a85ac3261'
      }
    ]
  }
}

resource service_uniperapis_dev_name_670ceb3867ce42139cb5bd50 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '670ceb3867ce42139cb5bd50'
  properties: {
    firstName: 'Yinneth Lorena'
    lastName: 'Leon Velasco'
    email: 'Lorena.LeonVelasco@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '106a4172-a98a-4bbe-aaea-a5ff00cf6c20'
      }
    ]
  }
}

resource service_uniperapis_dev_name_670f7cdd67ce42139cb5beee 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '670f7cdd67ce42139cb5beee'
  properties: {
    firstName: 'Matthew'
    lastName: 'Gee'
    email: 'Matthew.Gee.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4fd430fb-822f-4dec-8819-e789d36b5f27'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67160b7067ce42139cb5c671 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67160b7067ce42139cb5c671'
  properties: {
    firstName: 'Florian'
    lastName: 'Albrecht'
    email: 'florian.albrecht@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a3c64a41-ffff-45a3-b61c-78fd3e5b01b0'
      }
    ]
  }
}

resource service_uniperapis_dev_name_671b630f67ce42139cb5ccfa 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '671b630f67ce42139cb5ccfa'
  properties: {
    firstName: 'Ethan'
    lastName: 'Moore'
    email: 'ethan.moore@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b3c76bf6-75bd-4bd6-b4e7-1fa0197cfa55'
      }
    ]
  }
}

resource service_uniperapis_dev_name_671b678167ce42139cb5cd0b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '671b678167ce42139cb5cd0b'
  properties: {
    firstName: 'Nag Vijay'
    lastName: 'Kakarapalli'
    email: 'NagVijay.Kakarapalli@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bf606103-9b62-4d6f-864d-085d96ce6635'
      }
    ]
  }
}

resource service_uniperapis_dev_name_671b98b667ce42139cb5cd32 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '671b98b667ce42139cb5cd32'
  properties: {
    firstName: 'Aditya'
    lastName: 'Pundir'
    email: 'Aditya.Pundir.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a3e1a4d7-f772-48c1-8d29-e8f7c78c476d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_671f2dc967ce42139cb5cfac 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '671f2dc967ce42139cb5cfac'
  properties: {
    firstName: 'Selvam'
    lastName: 'Arunachalam'
    email: 'selvam.arunachalam+S02510@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c39eeeb3-c4f5-4072-86e7-5a26321561bc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_671f33c667ce42139cb5cfc3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '671f33c667ce42139cb5cfc3'
  properties: {
    firstName: 'Sampras Perianayagam'
    lastName: 'Lawrence'
    email: 'SamprasPerianayagam.Lawrence.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '03c0757e-79b8-4c0f-86d7-adf32c699e87'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6720b1dd67ce42139cb5d13b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6720b1dd67ce42139cb5d13b'
  properties: {
    firstName: 'Dominik'
    lastName: 'Grupp'
    email: 'Dominik.Grupp.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2f48d214-8cfa-4b34-b56e-ae879f0083f6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6721f51c67ce42139cb5d1c7 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6721f51c67ce42139cb5d1c7'
  properties: {
    firstName: 'Priyanka'
    lastName: 'Singh'
    email: 'Priyanka.Singh.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7ab46792-44eb-42d7-9a22-9ff2bef1ed15'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67220f6967ce42139cb5d1e1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67220f6967ce42139cb5d1e1'
  properties: {
    firstName: 'Manuel'
    lastName: 'Schossig'
    email: 'manuel.schossig@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '645eb7e3-2271-4e21-85f7-3de083a0d51c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6724e5c567ce42139cb5d34c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6724e5c567ce42139cb5d34c'
  properties: {
    firstName: 'Minh Duc'
    lastName: 'Luong'
    email: 'MinhDuc.Luong.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'd5fb3e28-fd4c-4c76-9bc4-6c71a472ca35'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6731a04c67ce42139cb5e019 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6731a04c67ce42139cb5e019'
  properties: {
    firstName: 'Sudarshan'
    lastName: 'Senthilkumar'
    email: 'Sudarshan.Senthilkumar.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4d7bebe6-313e-4ad7-9ce4-8b09b6f4be35'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6735c46b67ce42139cb5e3c2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6735c46b67ce42139cb5e3c2'
  properties: {
    firstName: 'Prema'
    lastName: 'Krishnan'
    email: 'Prema.Krishnan.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6306ea46-cc9f-408c-9db1-28ae3e7e1f9f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6736012367ce42139cb5e3e6 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6736012367ce42139cb5e3e6'
  properties: {
    firstName: 'Yashwanth'
    lastName: 'Lingala'
    email: 'Yashwanth.Lingala.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '29907aba-2910-4f03-ba44-431f385b822d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67375a1367ce42139cb5e487 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67375a1367ce42139cb5e487'
  properties: {
    firstName: 'Marie Laetitia'
    lastName: 'Benimana'
    email: 'MarieLaetitia.Benimana@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fabea029-40a2-4d11-974a-a1d837fd8074'
      }
    ]
  }
}

resource service_uniperapis_dev_name_673d752067ce42139cb5ec50 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '673d752067ce42139cb5ec50'
  properties: {
    firstName: 'Tejaswi'
    lastName: 'Rayudu'
    email: 'Tejaswi.Rayudu.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '847807ac-336a-41c2-9a39-7dac8c502f29'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6740432f67ce42139cb5ee4c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6740432f67ce42139cb5ee4c'
  properties: {
    firstName: 'Oliver'
    lastName: 'Gehrig'
    email: 'oliver.gehrig@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c02e63d0-d5d7-40b4-a639-b4ad38afff0e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67404dfe67ce42139cb5ee55 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67404dfe67ce42139cb5ee55'
  properties: {
    firstName: 'Ami Nilesh'
    lastName: 'Patel'
    email: 'AmiNilesh.Patel.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '09843d63-8e66-4c7b-9438-894ba16c32d1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67404f3b67ce42139cb5ee59 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67404f3b67ce42139cb5ee59'
  properties: {
    firstName: 'Shaghayegh'
    lastName: 'Karimi Naeini'
    email: 'Shaghayegh.KarimiNaeini@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2a6c3b65-8a2c-4bad-910f-0e2e3d3416bd'
      }
    ]
  }
}

resource service_uniperapis_dev_name_674085e467ce42139cb5ee9e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '674085e467ce42139cb5ee9e'
  properties: {
    firstName: 'Alexander'
    lastName: 'Sosedko'
    email: 'Alexander.Sosedko.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '47c442c3-99bf-44cc-806c-3c4aed90705d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67443abe67ce42139cb5f172 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67443abe67ce42139cb5f172'
  properties: {
    firstName: 'Nigamaanth'
    lastName: 'Sridhar'
    email: 'Nigamaanth.Sridhar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2bc76343-374d-406b-a4b7-b10d7b6f9e70'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6750651d67ce42139cb5fecd 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6750651d67ce42139cb5fecd'
  properties: {
    firstName: 'Karan'
    lastName: 'Sanan'
    email: 'Karan.Sanan@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '31439695-8c31-4173-9360-6cbd19cd6abb'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6758555a67ce42139cb605bd 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6758555a67ce42139cb605bd'
  properties: {
    firstName: 'H端seyin'
    lastName: 'Karaman'
    email: 'Hueseyin.Karaman@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a6c46967-7c4e-4461-8bad-95e57c1f2e7e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_675c3e4c67ce42139cb6083b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '675c3e4c67ce42139cb6083b'
  properties: {
    firstName: 'Christian'
    lastName: 'Nieh端sener'
    email: 'christian.niehuesener@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '54f3cbd3-d8d3-4bf4-9d08-cd03b7cf0bb7'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6763cff967ce42139cb60d3a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6763cff967ce42139cb60d3a'
  properties: {
    firstName: 'Shivam'
    lastName: 'Sharda'
    email: 'Shivam.Sharda.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dfdd4859-fb0e-4501-9b01-543f7db1d7a9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_677691c167ce42139cb619cd 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '677691c167ce42139cb619cd'
  properties: {
    firstName: 'Shirisha'
    lastName: 'Vasala'
    email: 'Shirisha.Vasala.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ac288d1f-3978-4e89-8ff7-b6d7214aeb00'
      }
    ]
  }
}

resource service_uniperapis_dev_name_677d379467ce420f94ec87d0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '677d379467ce420f94ec87d0'
  properties: {
    firstName: 'Debanjan'
    lastName: 'Chaudhuri'
    email: 'Debanjan.Chaudhuri@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '227c7ce1-c654-4454-a679-142e713a3663'
      }
    ]
  }
}

resource service_uniperapis_dev_name_677f70da67ce420f94ec88f1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '677f70da67ce420f94ec88f1'
  properties: {
    firstName: 'Harsh'
    lastName: 'Sharma'
    email: 'Harsh.Sharma.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '750966a6-7ee3-40f9-9374-77c89d9d45cf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6790df5167ce420f94ec9b54 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6790df5167ce420f94ec9b54'
  properties: {
    firstName: 'Kevin'
    lastName: 'Zinta'
    email: 'kevin.zinta@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e930ac3f-dbda-4681-b246-cd4515e7c68a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6790e2c167ce420f94ec9b58 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6790e2c167ce420f94ec9b58'
  properties: {
    firstName: 'Stephan'
    lastName: 'Uchtmann'
    email: 'Stephan.Uchtmann.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f8d538b3-7970-48ba-8f07-ad092f4d08ed'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6790e7c667ce420f94ec9b5c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6790e7c667ce420f94ec9b5c'
  properties: {
    firstName: 'Dinesh'
    lastName: 'Vadlani'
    email: 'Dinesh.Vadlani.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b37b5785-4903-4d2f-9c7b-58505d415d72'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6798c98467ce420f94eca1b5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6798c98467ce420f94eca1b5'
  properties: {
    firstName: 'Abhilash'
    lastName: 'Kozhikkot'
    email: 'Abhilash.Kozhikkot.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '560bb3da-8f23-431e-a7bb-c287945a322a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_679a0f2f67ce420f94ecb051 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '679a0f2f67ce420f94ecb051'
  properties: {
    firstName: 'Harika'
    lastName: 'Virupakshi'
    email: 'Harika.Virupakshi.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f61a6c76-9960-467e-8ba2-1e2941995e18'
      }
    ]
  }
}

resource service_uniperapis_dev_name_679a457867ce420f94ecb082 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '679a457867ce420f94ecb082'
  properties: {
    firstName: 'Eleanor'
    lastName: 'Alvarez'
    email: 'Eleanor.Alvarez@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e94109d8-2d37-480d-895c-3708793f2f6b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67a3502867ce420f94ecbd95 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67a3502867ce420f94ecbd95'
  properties: {
    firstName: 'Matthew'
    lastName: 'Gee'
    email: 'Matthew.Gee.ext+M03597@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ec4c10c9-956b-498d-90e5-234fb77c45e6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67ac8e37b949c3053cf66e9b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67ac8e37b949c3053cf66e9b'
  properties: {
    firstName: 'Venu Madhav'
    lastName: 'Vennelakanti'
    email: 'VenuMadhav.Vennelakanti.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bdc0c54b-4dff-4a88-8a45-3b4380c5512d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67ac8e47b949c3053cf66e9f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67ac8e47b949c3053cf66e9f'
  properties: {
    firstName: 'Hariharan'
    lastName: 'T'
    email: 'Hariharan.T.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2759ccf9-4c59-4a99-897a-647e5c05f633'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67aca83bb949c3053cf66eb5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67aca83bb949c3053cf66eb5'
  properties: {
    firstName: 'Rakeshwari'
    lastName: 'Ramalingam'
    email: 'Rakeshwari.Ramalingam.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'a291f920-a34d-411a-b5e0-10f4fd0bd7a5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67acae66b949c3053cf66ebe 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67acae66b949c3053cf66ebe'
  properties: {
    firstName: 'Jyotijeeban'
    lastName: 'Jena'
    email: 'Jyotijeeban.Jena.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7085a4b3-cabf-4061-89fa-d53eb942e3d1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67ade041b949c3053cf66f85 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67ade041b949c3053cf66f85'
  properties: {
    firstName: 'Stefan'
    lastName: 'Spasovski'
    email: 'S02754@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '95bcb0c3-69b1-4e1d-8f2d-2e1d0f6e6aa0'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67af40ebb949c30c14f0aa7b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67af40ebb949c30c14f0aa7b'
  properties: {
    firstName: 'Mahaveer'
    lastName: 'Hada'
    email: 'Mahaveer.Hada.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '625a9f4c-bda0-44c8-9592-5775880b4368'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67b2e980b949c30c14f0b21a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67b2e980b949c30c14f0b21a'
  properties: {
    firstName: 'Shubhra'
    lastName: 'Mallik'
    email: 'Shubhra.Mallik.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7898e293-f5a6-43c6-938b-68e4cbcc7175'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67b304acb949c30c14f0b256 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67b304acb949c30c14f0b256'
  properties: {
    firstName: 'Tomasz'
    lastName: 'Domerecki'
    email: 'Tomasz.Domerecki.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '276d2da9-bced-4cef-a3d7-9eca3940dbdc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67b312cab949c30c14f0b275 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67b312cab949c30c14f0b275'
  properties: {
    firstName: 'Michael'
    lastName: 'Hannecke'
    email: 'Michael.Hannecke.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7803eae0-9760-45aa-9025-ae85d990a0c9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67bc0227b949c3147465b189 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67bc0227b949c3147465b189'
  properties: {
    firstName: 'Prajwal'
    lastName: 'Babu'
    email: 'Prajwal.Babu.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ce2c8a10-1fd8-4c71-bc26-786521a6e5f9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67bdea2eb949c30354de8abc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67bdea2eb949c30354de8abc'
  properties: {
    firstName: 'Lucy'
    lastName: 'Woodland'
    email: 'Lucy.Woodland@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1facbecf-a8f0-4323-9945-458d591c2c2d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67c1a033b949c30354de92d0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67c1a033b949c30354de92d0'
  properties: {
    firstName: 'Arpan'
    lastName: 'Majumdar'
    email: 'Arpan.Majumdar.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '843fbb0e-e42c-40a9-ba01-e77acbd7be50'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67d3f07fb949c30354deb5fd 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67d3f07fb949c30354deb5fd'
  properties: {
    firstName: 'Harsha'
    lastName: 'M'
    email: 'Harsha.M.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9adb7ea3-2052-48b1-b3e1-53de7443e4ad'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67da7cb2b949c30354dec736 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67da7cb2b949c30354dec736'
  properties: {
    firstName: 'Martin'
    lastName: 'Drischmann'
    email: 'martin.drischmann@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dd9c8e7d-52df-4e55-bbbb-bbdce54d8d89'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67da7d3cb949c30354dec73a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67da7d3cb949c30354dec73a'
  properties: {
    firstName: 'Steffen'
    lastName: 'Kupke'
    email: 'steffen.kupke@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fb6ed43c-2f15-449e-8da5-0917b76536a9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67da829bb949c30354dec73e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67da829bb949c30354dec73e'
  properties: {
    firstName: 'Stefan'
    lastName: 'Tataran'
    email: 'Stefan.Tataran.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '4758293f-ca95-445f-bf15-cf5649d3440f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67dbea60b949c30354deca01 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67dbea60b949c30354deca01'
  properties: {
    firstName: 'Tushar'
    lastName: 'Gupta'
    email: 'Tushar.Gupta.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dd48bcca-320e-468b-8fe7-8d7007aa70a9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67dbeb26b949c30354deca08 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67dbeb26b949c30354deca08'
  properties: {
    firstName: 'Venkata Satya Surya Bheema Sankar'
    lastName: 'Battini'
    email: 'VenkataSatyaSuryaBheemaSankar.Battini.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f33ab122-073c-4b6f-ada0-838c72a85edf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67dd5590b949c30354decd01 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67dd5590b949c30354decd01'
  properties: {
    firstName: 'Ufuk'
    lastName: 'Gr端nes'
    email: 'Ufuk.Gruenes.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b1c7a989-be9c-4395-95f3-0d7aaa07ae94'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67e3a8d1b949c30354deda42 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67e3a8d1b949c30354deda42'
  properties: {
    firstName: 'Swathi'
    lastName: 'Mavuri'
    email: 'Swathi.Mavuri.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9301db3c-fb4f-40e8-8a34-4365f25ebd02'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67e3e8bab949c30354dedb5d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67e3e8bab949c30354dedb5d'
  properties: {
    firstName: 'Pradeep'
    lastName: 'Mukhopadhyay'
    email: 'Pradeep.Mukhopadhyay.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '36a2af67-cd36-401d-932c-13361d6a8cbc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67e3ef78b949c30354dedb7f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67e3ef78b949c30354dedb7f'
  properties: {
    firstName: 'Nikita'
    lastName: 'Thakur'
    email: 'Nikita.Thakur.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bd1057d1-33ad-48fb-9ddf-3b6496cee216'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67eda432b949c30dd8946e75 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67eda432b949c30dd8946e75'
  properties: {
    firstName: 'Maja'
    lastName: 'Kusmis'
    email: 'Maja.Kusmis.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1c5b0693-c93d-492e-8ba7-abad045b38be'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67fd201eb949c31a206a083f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67fd201eb949c31a206a083f'
  properties: {
    firstName: 'Steve'
    lastName: 'Atkinson'
    email: 'Steve.Atkinson.ext+S02873@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dc393394-d514-4a4e-95ac-eda7564c2085'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67fe0852b949c31a206a0bd5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67fe0852b949c31a206a0bd5'
  properties: {
    firstName: 'Argha'
    lastName: 'Sen'
    email: 'Argha.Sen.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '067c382f-9db1-47bf-92e8-f47c7f90d985'
      }
    ]
  }
}

resource service_uniperapis_dev_name_67ffa364b949c31a206a1768 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '67ffa364b949c31a206a1768'
  properties: {
    firstName: 'Krupanandam'
    lastName: 'Amma'
    email: 'Krupanandam.Amma@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '458e7055-97c7-413f-a02b-1efeb4cdf144'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68073278b949c3027070b39a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68073278b949c3027070b39a'
  properties: {
    firstName: 'SELVASWAROOPA'
    lastName: 'RAJAVIJAYAKAMARAJ'
    email: 'SELVASWAROOPA.RAJAVIJAYAKAMARAJ.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '31cb6189-4c4c-4e66-913e-b6f9f0f5a970'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6807960bb949c3027070b467 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6807960bb949c3027070b467'
  properties: {
    firstName: 'Martin'
    lastName: 'Witte'
    email: 'martin.witte@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '80690e1e-a358-4972-af0a-395fdafda6af'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6812311eb949c30a4c14e7ab 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6812311eb949c30a4c14e7ab'
  properties: {
    firstName: 'Aidan'
    lastName: 'Law'
    email: 'Aidan.Law@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0be1e238-745b-409b-9707-940dc9503b0c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_681a09beb949c30a4c14ffae 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '681a09beb949c30a4c14ffae'
  properties: {
    firstName: 'Chandini'
    lastName: 'Shaik'
    email: 'Chandini.Shaik.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6f324301-5d5f-49ec-bc88-9289cdacb000'
      }
    ]
  }
}

resource service_uniperapis_dev_name_681b65a5b949c30a4c151619 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '681b65a5b949c30a4c151619'
  properties: {
    firstName: 'Tom'
    lastName: 'Lichtenstein'
    email: 'Tom.Lichtenstein.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1a796c73-ff89-4499-b814-87e9d9fc3cbc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_682427c0b949c30a4c15a264 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '682427c0b949c30a4c15a264'
  properties: {
    firstName: 'Kaamini'
    lastName: 'Rajasekar'
    email: 'Kaamini.Rajasekar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '731cb99a-00b3-46d4-a63b-5f3510323a4a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6825925cb949c30a4c15a365 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6825925cb949c30a4c15a365'
  properties: {
    firstName: 'Gouse Pasha'
    lastName: 'Shaik'
    email: 'gouse-pasha.shaik.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '890d8918-a5cf-405d-b69e-452ff5454773'
      }
    ]
  }
}

resource service_uniperapis_dev_name_682b078fb949c30a4c16b2d9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '682b078fb949c30a4c16b2d9'
  properties: {
    firstName: 'Saranya'
    lastName: 'Mulagani'
    email: 'Saranya.Mulagani.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '425fb710-3f31-4e92-bda3-f0c679aa2680'
      }
    ]
  }
}

resource service_uniperapis_dev_name_682c2b6bb949c30a4c16b441 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '682c2b6bb949c30a4c16b441'
  properties: {
    firstName: 'Sravan Kumar'
    lastName: 'Kolichala'
    email: 'SravanKumar.Kolichala.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'fb8d3352-1c28-4a28-a335-6cee15a18da4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68356e5db949c30a4c16ff87 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68356e5db949c30a4c16ff87'
  properties: {
    firstName: 'Suryakant'
    lastName: 'Bhalke'
    email: 'Suryakant.Bhalke.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8aa54a8a-6570-4c3e-929f-13580586544a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_683efcb8b949c31224e78dfe 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '683efcb8b949c31224e78dfe'
  properties: {
    firstName: 'Ankit'
    lastName: 'Kumar'
    email: 'Ankit.Kumar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '75ca963e-9b77-4cf5-95b1-caa6c4bd589c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684185a4b949c31224e78fba 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684185a4b949c31224e78fba'
  properties: {
    firstName: 'Priyotosh'
    lastName: 'Bagchi'
    email: 'Priyotosh.Bagchi.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9713762a-bda1-46d0-a8f2-980d5f95d303'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684819efb949c31224e79911 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684819efb949c31224e79911'
  properties: {
    firstName: 'Ralf'
    lastName: 'Kulessa'
    email: 'Ralf.Kulessa.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5e70402d-416f-4d4e-98eb-53b9161d827d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68482b64b949c31224e7992d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68482b64b949c31224e7992d'
  properties: {
    firstName: 'Wladimir'
    lastName: 'Kopilevich'
    email: 'wladimir.kopilevich@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0190dab2-bc5a-4849-8aec-cc83fa15b81e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68482b94b949c31224e79931 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68482b94b949c31224e79931'
  properties: {
    firstName: 'Manuel'
    lastName: 'Rehpenn'
    email: 'Manuel.Rehpenn@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0f57c3c1-d2b6-4474-937e-698ffb7099ce'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684974b6b949c31224e79a6c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684974b6b949c31224e79a6c'
  properties: {
    firstName: 'Martin'
    lastName: 'Brugger'
    email: 'Martin.Brugger.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e62908e9-23d6-4c71-b9c4-378cb54687d8'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684974c6b949c31224e79a70 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684974c6b949c31224e79a70'
  properties: {
    firstName: 'Martin'
    lastName: 'Burchard'
    email: 'martin.burchard.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ada4cbae-a52f-49d9-aae6-1e563385844b'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684aa7a5445a961c4c81d7c7 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684aa7a5445a961c4c81d7c7'
  properties: {
    firstName: 'Ankit'
    lastName: 'Mourya'
    email: 'Ankit.Mourya.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7aa38b7f-ddb5-4987-975b-5ec1fda30892'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684ad34e445a961c4c81d802 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684ad34e445a961c4c81d802'
  properties: {
    firstName: 'Michael'
    lastName: 'Dorn'
    email: 'michael.dorn@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8e80cf66-48bd-46fd-be8f-22b1821fdd79'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684fbe09b949c3048c430e9d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684fbe09b949c3048c430e9d'
  properties: {
    firstName: 'Sriram'
    lastName: 'N V'
    email: 'Sriram.NV.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '756f0523-461e-4dab-beaf-85ef96413976'
      }
    ]
  }
}

resource service_uniperapis_dev_name_684fe232445a961c4c81d8bb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '684fe232445a961c4c81d8bb'
  properties: {
    firstName: 'Edgar'
    lastName: 'Bodiaj'
    email: 'Edgar.Bodiaj@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'cda98f8d-2253-4565-aa88-7530573155c6'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68501076b949c3048c430f13 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68501076b949c3048c430f13'
  properties: {
    firstName: 'Emilia'
    lastName: 'Lewin'
    email: 'Emilia.Lewin.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'be8e880f-db5e-40d7-be75-3ffc214b4992'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68501cb9b949c3048c430f66 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68501cb9b949c3048c430f66'
  properties: {
    firstName: 'Shay'
    lastName: 'Parmar'
    email: 'Shay.Parmar@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '765c5f49-1f3e-4494-83c9-f27a4a744e29'
      }
    ]
  }
}

resource service_uniperapis_dev_name_685282dd445a9610a0df2cf2 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '685282dd445a9610a0df2cf2'
  properties: {
    firstName: 'Garvit'
    lastName: 'Singhal'
    email: 'Garvit.Singhal.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '25103f7c-0cff-48cb-bf78-8f00587515b9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6854fcd1b949c318241e21ae 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6854fcd1b949c318241e21ae'
  properties: {
    firstName: 'Shubham'
    lastName: 'Dhumavat'
    email: 'Shubham.Dhumavat.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e7de36c2-4bb5-40da-8193-b66a0a193877'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68594c38b949c318241e250b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68594c38b949c318241e250b'
  properties: {
    firstName: 'Kumararaja'
    lastName: 'Palaniswamy'
    email: 'Kumararaja.Palaniswamy.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5ad39244-d873-41f5-b998-bb8eb8f00dbf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_685ac69c445a961b40634624 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '685ac69c445a961b40634624'
  properties: {
    firstName: 'Boyang'
    lastName: 'Fu'
    email: 'boyang.fu@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b4eebd2b-edda-4372-94f5-78e6da6083bd'
      }
    ]
  }
}

resource service_uniperapis_dev_name_685ba237445a961b40634629 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '685ba237445a961b40634629'
  properties: {
    firstName: 'Janine'
    lastName: 'Trebbe'
    email: 'Janine.Trebbe@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '807783cc-11d6-4820-ad57-a0865553d13e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_685bca5067ce420d24618563 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '685bca5067ce420d24618563'
  properties: {
    firstName: 'Prasanna Kumar'
    lastName: 'Panda'
    email: 'PrasannaKumar.Panda.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '7a82399a-00a1-4755-87bc-e085bfce025c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_685d2ab6445a961b4063476e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '685d2ab6445a961b4063476e'
  properties: {
    firstName: 'Muhammad'
    lastName: 'Younas'
    email: 'Muhammad.Younas@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '66fa8411-760c-4b8b-be11-bf24ea128305'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68668edb445a961b40635796 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68668edb445a961b40635796'
  properties: {
    firstName: 'Neetesh Pratap'
    lastName: 'Singh'
    email: 'NeeteshPratap.Singh@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '61b866fc-91cb-4763-b38e-35c7490f3ab2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_686bbba267ce420d2461bcb7 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '686bbba267ce420d2461bcb7'
  properties: {
    firstName: 'Thorsten H.'
    lastName: 'Niebuhr'
    email: 'ThorstenH.Niebuhr.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e4f1ed37-13b8-42e0-94c6-432b8ebe5b13'
      }
    ]
  }
}

resource service_uniperapis_dev_name_687f8c6e445a961b4063e540 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '687f8c6e445a961b4063e540'
  properties: {
    firstName: 'Suresh Kumar'
    lastName: 'K S'
    email: 'SureshKumar.KS.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bd56a6f7-15ce-452e-8665-0962cc915087'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68877bdebe411412b4fd3fe3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68877bdebe411412b4fd3fe3'
  properties: {
    firstName: 'Dan'
    lastName: 'Broomfield-White'
    email: 'Daniel.White@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '57742ec4-2897-41bd-8a73-e897169b7c2e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6889e65167ce42116c4c31d3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6889e65167ce42116c4c31d3'
  properties: {
    firstName: 'Prasadh'
    lastName: 'Mankali Muralidharan'
    email: 'Prasadh.MankaliMuralidharan.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c555a538-90ab-4f9e-95a8-0fb1989b887d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6889f4f1be411412b4fd41fc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6889f4f1be411412b4fd41fc'
  properties: {
    firstName: 'Preetinder'
    lastName: 'Singh'
    email: 'Preetinder.Singh.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '75ade566-b44e-4586-b311-2cd91723fc44'
      }
    ]
  }
}

resource service_uniperapis_dev_name_688c3a9667ce42116c4c33d4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '688c3a9667ce42116c4c33d4'
  properties: {
    firstName: 'Ranjith'
    lastName: 'H R'
    email: 'Ranjith.HR.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '6350b5ec-b9cb-4c16-8027-909f6be214cf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6890663667ce42116c4c377e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6890663667ce42116c4c377e'
  properties: {
    firstName: 'Prajwal'
    lastName: 'Mg'
    email: 'Prajwal.Mg.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f2524658-5083-45ae-9bbd-93936a4fcde4'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68948d21be411412b4fd45d5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68948d21be411412b4fd45d5'
  properties: {
    firstName: 'Aoulona'
    lastName: 'Litso'
    email: 'aoulona.litso@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '53da5408-95be-485f-a4c3-2ac43754a9fb'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6894afef67ce42116c4c3c14 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6894afef67ce42116c4c3c14'
  properties: {
    firstName: 'Goutham'
    lastName: 'Murthy'
    email: 'Goutham.Murthy@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bc51e6f5-841a-457e-8e57-d7fd4768077d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68a2d81d67ce42116c4dce1c 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68a2d81d67ce42116c4dce1c'
  properties: {
    firstName: 'Miklos'
    lastName: 'Bodia'
    email: 'Miklos.Bodia@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8dbccc36-66cb-4c53-a8e6-d15f4d5b94a5'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68a475aa67ce42116c4dcfa1 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68a475aa67ce42116c4dcfa1'
  properties: {
    firstName: 'Shujatali'
    lastName: 'Khan'
    email: 'Shujatali.Khan@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '879acf02-063d-4a73-86cb-e19a579526c2'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68ac26b967ce42116c4e40a3 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68ac26b967ce42116c4e40a3'
  properties: {
    firstName: 'Sebastian'
    lastName: 'Heil'
    email: 'sebastian.heil+S02238@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f570e9ef-d2ce-4f6e-ab51-e3aa1e47e422'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b14e34be411419fcf6f384 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b14e34be411419fcf6f384'
  properties: {
    firstName: 'Amrita'
    lastName: 'Kumari'
    email: 'Amrita.Kumari.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'bbd39382-0abf-4ef2-8dc3-542193feb417'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b1531cbe411419fcf6f39e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b1531cbe411419fcf6f39e'
  properties: {
    firstName: 'Michael'
    lastName: 'Wolf'
    email: 'Michael.Wolf@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8b602721-14af-4e46-b2d4-cb20f545e6bf'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b19588be41140c304725ad 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b19588be41140c304725ad'
  properties: {
    firstName: 'Alexander'
    lastName: 'Petch'
    email: 'Alexander.Petch@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e3304ad2-66e8-430e-b998-5194df05a152'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b94d0dbe4114039c788ad0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b94d0dbe4114039c788ad0'
  properties: {
    firstName: 'Rithick Gokul'
    lastName: 'A'
    email: 'RithickGokul.A.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'e13c4bb9-1378-4ec7-8ce8-8215da5e725e'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b99f01b949c31edc199fec 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b99f01b949c31edc199fec'
  properties: {
    firstName: 'Kaliprasad'
    lastName: 'Muni'
    email: 'Kaliprasad.Muni.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0a206472-1879-4dbe-9944-e80a18ecd098'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68b9a106be4114039c788ae0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68b9a106be4114039c788ae0'
  properties: {
    firstName: 'Edgar'
    lastName: 'Estrada Gonzalez'
    email: 'Edgar.EstradaGonzalez@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'dbcd54a9-74a0-421a-afb4-2af93fa3c907'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68bfea97b949c31edc19a5eb 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68bfea97b949c31edc19a5eb'
  properties: {
    firstName: 'Thomas'
    lastName: 'Forster'
    email: 'Thomas.Forster@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '94978375-278a-4695-917f-1e66c7b6effb'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68d26340be41141da0e1ac38 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68d26340be41141da0e1ac38'
  properties: {
    firstName: 'Jens'
    lastName: 'R旦ben'
    email: 'Jens.Roeben@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '8cb66b19-2555-4307-987c-58f2cad366be'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68d54d2ab949c311d8393c7b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68d54d2ab949c311d8393c7b'
  properties: {
    firstName: 'Gayathri'
    lastName: 'Gandikota'
    email: 'gayathri.gandikota@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '30485b94-761d-4c9e-9c4e-6fb47696db86'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68e3da45be41141990b205f9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68e3da45be41141990b205f9'
  properties: {
    firstName: 'Marc'
    lastName: 'Kassubeck'
    email: 'Marc.Kassubeck.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1fcd261b-355d-4795-866d-feb07e0c3af9'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68e3e0c8b949c311d839acbf 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68e3e0c8b949c311d839acbf'
  properties: {
    firstName: 'Felix'
    lastName: 'Witt'
    email: 'Felix.Witt.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c7abfeb1-a139-492a-af75-766872ab246c'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68ef78e3be41141990b55f30 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68ef78e3be41141990b55f30'
  properties: {
    firstName: 'Sampath'
    lastName: 'Annaldas'
    email: 'Sampath.Annaldas.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '251cd11c-f6df-45a8-9716-1c97aca3d2ab'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68f0c23db949c311d83c54fc 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68f0c23db949c311d83c54fc'
  properties: {
    firstName: 'Pawan Kumar'
    lastName: 'Sharma'
    email: 'PawanKumar.Sharma.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'cf990c59-1221-4f81-a5e4-3066f6dc2382'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68f23554be41141990b55f7e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68f23554be41141990b55f7e'
  properties: {
    firstName: 'Hareesh'
    lastName: 'Adapala'
    email: 'Hareesh.Adapala.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0433857b-8b16-4644-b4b8-0bb39990d19f'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68f896c0b949c3275009f046 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68f896c0b949c3275009f046'
  properties: {
    firstName: 'Xinyuan'
    lastName: 'Zha'
    email: 'Xinyuan.Zha@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2c41771a-25a9-430f-8c6d-3fce8e74f611'
      }
    ]
  }
}

resource service_uniperapis_dev_name_68fb371bb949c3275009f3e5 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '68fb371bb949c3275009f3e5'
  properties: {
    firstName: 'Anton'
    lastName: 'Gramatkin'
    email: 'Anton.Gramatkin@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'f19d2127-b0c4-4f89-8cac-88589daf0a77'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6900c82cb949c327500a972a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6900c82cb949c327500a972a'
  properties: {
    firstName: 'Sheikh Sammad'
    lastName: 'Hussian'
    email: 'sheikh-sammad.hussian.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '50653050-a57b-4b26-b9a2-812708482e4d'
      }
    ]
  }
}

resource service_uniperapis_dev_name_690b65e2be4114129c151c49 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '690b65e2be4114129c151c49'
  properties: {
    firstName: 'Kashish'
    lastName: 'Durgiya'
    email: 'Kashish.Durgiya.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'ba4becdc-3b54-47af-9b5e-b4724fd72782'
      }
    ]
  }
}

resource service_uniperapis_dev_name_690caed2b949c31de8885d87 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '690caed2b949c31de8885d87'
  properties: {
    firstName: 'Saddam'
    lastName: 'Hussain'
    email: 'Saddam.Hussain.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '89282f28-8afc-4428-b733-3e0a5aa4f574'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6915d417b949c32428ccbab8 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6915d417b949c32428ccbab8'
  properties: {
    firstName: 'Josias'
    lastName: 'Brenner'
    email: 'Josias.Brenner.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '0f8b035b-e795-4d1a-83a8-f21c39ea6c53'
      }
    ]
  }
}

resource service_uniperapis_dev_name_691b26c3b949c32428ccbf55 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '691b26c3b949c32428ccbf55'
  properties: {
    firstName: 'Abhiyansh'
    lastName: 'Arya'
    email: 'Abhiyansh.Arya@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '211e4660-09e2-4cf0-8904-724b9af2ba99'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6920714fbe41141b2499db17 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6920714fbe41141b2499db17'
  properties: {
    firstName: 'MD Aminul'
    lastName: 'Islam'
    email: 'MDAminul.Islam@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1eeff379-3e71-41b3-b70a-ed2b54b6eaac'
      }
    ]
  }
}

resource service_uniperapis_dev_name_692591c4b949c32428ce6a62 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '692591c4b949c32428ce6a62'
  properties: {
    firstName: 'Thanusha'
    lastName: 'S'
    email: 'Thanusha.S.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '77d8d07f-d00c-4d77-a1a5-7c52d68f77c1'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69281cc2b949c32428ce6d3a 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69281cc2b949c32428ce6d3a'
  properties: {
    firstName: 'B旦rje'
    lastName: 'Johansson'
    email: 'Borje.Johansson.ext@okg.uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '105a9f5f-1fb2-4352-b4fa-0ce93cf51c58'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69281e25be41141b249dbdf0 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69281e25be41141b249dbdf0'
  properties: {
    firstName: 'Joel'
    lastName: 'Davis'
    email: 'joel.davis@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '9891cf9f-e484-4377-82e8-501d6bd418d8'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6932d92dbe41141b24a0272e 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6932d92dbe41141b24a0272e'
  properties: {
    firstName: 'Alex'
    lastName: 'Liefke'
    email: 'Alex.Liefke@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '574ccac4-4ce7-48ca-a7de-847934c07319'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6937ba75be4114049cd63bb4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6937ba75be4114049cd63bb4'
  properties: {
    firstName: 'Satyanarayna'
    lastName: 'Ganakanapalli'
    email: 'Satyanarayna.Ganakanapalli@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '2f2be0fc-89b6-4e78-906b-d64f5a057995'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69394941be4114049cd63eff 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69394941be4114049cd63eff'
  properties: {
    firstName: 'Fehim'
    lastName: 'Erdogan'
    email: 'fehim.erdogan@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '826ffcc1-8715-4be6-842c-b876afe124d0'
      }
    ]
  }
}

resource service_uniperapis_dev_name_693988d2be4114049cd63f21 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '693988d2be4114049cd63f21'
  properties: {
    firstName: 'Patrick'
    lastName: 'Nieder'
    email: 'Patrick.Nieder.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'adfd994b-088f-4fc6-9bf9-e305b565893a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_693988ddbe4114049cd63f25 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '693988ddbe4114049cd63f25'
  properties: {
    firstName: 'Stefano'
    lastName: 'Piccinelli'
    email: 'Stefano.Piccinelli@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '218c528c-bf53-4984-9371-d817f58a32ad'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69398a44b949c329e496934d 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69398a44b949c329e496934d'
  properties: {
    firstName: 'Sayli'
    lastName: 'Kharat'
    email: 'Sayli.Kharat@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'c5f03c2e-1708-443c-8260-26e990753a37'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69426a11b949c329e496ed9f 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69426a11b949c329e496ed9f'
  properties: {
    firstName: 'Megha'
    lastName: 'Gulyani'
    email: 'Megha.Gulyani.ext@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '993c9a86-bdb0-464e-aa69-f60f76beda7a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6942933fb949c329e496edd4 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6942933fb949c329e496edd4'
  properties: {
    firstName: 'Yusuf'
    lastName: 'C旦rd端k'
    email: 'yusuf.coerduek@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: 'b685a430-e4eb-4876-a6e1-764b15d6148a'
      }
    ]
  }
}

resource service_uniperapis_dev_name_69429dc1b949c329e496edf9 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '69429dc1b949c329e496edf9'
  properties: {
    firstName: 'Fergus'
    lastName: 'Cuthill'
    email: 'Fergus.Cuthill@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '5209235a-a46c-4dfe-9e09-24708f84aecd'
      }
    ]
  }
}

resource service_uniperapis_dev_name_6943dd12b949c329e496ef4b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '6943dd12b949c329e496ef4b'
  properties: {
    firstName: 'Priyanka'
    lastName: 'Smriti'
    email: 'Priyanka.Smriti.ext+P01481@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '1ad47701-ca95-436d-8286-a3e63c3c2d73'
      }
    ]
  }
}

resource service_uniperapis_dev_name_695fba8bb949c30ef4bd509b 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '695fba8bb949c30ef4bd509b'
  properties: {
    firstName: 'Mical'
    lastName: 'Derestable'
    email: 'Mical.Derestable@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '70843ad1-23f3-4351-9af4-f2b2f2ab2fcc'
      }
    ]
  }
}

resource service_uniperapis_dev_name_696a0ab5be4114227019cbfe 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '696a0ab5be4114227019cbfe'
  properties: {
    firstName: 'Mathew'
    lastName: 'Whillans'
    email: 'mathew.whillans@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '807081ec-c528-40cc-9477-067de7e22803'
      }
    ]
  }
}

resource service_uniperapis_dev_name_696a0ac1be4114227019cc02 'Microsoft.ApiManagement/service/users@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: '696a0ac1be4114227019cc02'
  properties: {
    firstName: 'Amulya'
    lastName: 'Yazala'
    email: 'Amulya.Yazala@uniper.energy'
    state: 'active'
    identities: [
      {
        provider: 'Aad'
        id: '19ea43fa-15df-4f79-a43c-42bf0ded8022'
      }
    ]
  }
}

resource service_uniperapis_dev_name_aiolos_usip_data_feed_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'aiolos-usip-data-feed-v10'
  properties: {
    displayName: 'Aiolos-USIP-Data-Feed'
    apiRevision: '1'
    description: 'This is for Aiolos application to send data to USIP kafka'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-89ac922020a44791'
    path: 'api/aiolos-usip'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-89ac922020a44791'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_08eb6d6f_aefb_432a_9022_4916c85d09b6.id
  }
}

resource service_uniperapis_dev_name_apim_logicapp_integration_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apim-logicapp-integration-v10'
  properties: {
    displayName: 'APIM-logicapp-Integration'
    apiRevision: '1'
    description: 'To integrate the logic app to manage APIM.'
    subscriptionRequired: true
    serviceUrl: 'https://uniperapis-dev-logic-apps-001.azurewebsites.net:443/api'
    path: 'api/apim-logicapp-integration-v10'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c7c59d70423248ae'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b50c0343_eaf0_448f_8796_21d6d82341f8.id
  }
}

resource service_uniperapis_dev_name_apple_developer_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'apple-developer-v10'
  properties: {
    displayName: 'Apple Developer'
    apiRevision: '1'
    description: 'Apple App Store Connect API. Customize and automate your workflows so you can focus on creating great apps. This standards-based REST API lets you automate tasks across developer tools, such as App Store Connect, Xcode, and Certificates, Identifiers & Profiles, to give you greater flexibility and efficiency in your workflows. For more information https://developer.apple.com/app-store-connect/api/'
    subscriptionRequired: true
    serviceUrl: 'https://api.appstoreconnect.apple.com/v1'
    path: 'api/appstoreconnect'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ccf1dae714884ec2'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a4758681_232d_45b5_94c1_78d26cd03401.id
  }
}

resource service_uniperapis_dev_name_ascm_storda_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascm-storda-api-v10'
  properties: {
    displayName: 'ASCM-StorDA-API'
    apiRevision: '1'
    description: 'This Api will return the STOR DA data based on the start data and end date API - https://api.neso.energy/api/3/action/datastore_search_sql'
    subscriptionRequired: true
    serviceUrl: 'https://api.neso.energy/api/3/action/datastore_search_sql'
    path: 'api/storda'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f319936f4458456b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f6c1a44f_0c35_431f_a46e_a36b99f82994.id
  }
}

resource service_uniperapis_dev_name_ascm_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ascm-v10'
  properties: {
    displayName: 'ASCM'
    apiRevision: '1'
    description: 'Ancillary Services are services provided by UK electricity suppliers to the UK TSO to ensure the security and quality of electricity supply across the UK transmission system. Each service is governed by a contract negotiated between the TSO and supplier. The terms of a contract determine the revenue due to the supplier for provision of a service and any penalties due to the TSO for breaches of the terms of the contract by the supplier.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-9a77f5cd4d3f4dfa'
    path: 'api/ASCM'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9a77f5cd4d3f4dfa'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b8cc34e6_810d_43d3_991f_b4ed0d06d774.id
  }
}

resource service_uniperapis_dev_name_az_naming_tool_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'az-naming-tool-v10'
  properties: {
    displayName: 'Azure Naming Tool API'
    apiRevision: '1'
    description: 'An ASP.NET Core Web API for managing the Azure Naming tool configuration. All API requests require the configured API Key (found in the site Admin configuration). You can find more details in the <a href="https://github.com/microsoft/CloudAdoptionFramework/blob/master/ready/AzNamingTool/USINGTHEAPI.md" target="_new">Azure Naming Tool API documentation</a>.'
    subscriptionRequired: true
    serviceUrl: 'https://aznamingtool.uniperapps.com'
    path: 'AzNamingToolAPI'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b699e572f7384ccc'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a9e32137_bd2a_4fab_9566_f5e47f684832.id
  }
}

resource service_uniperapis_dev_name_azure_cognitive_services_form_recognizer_v30 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-cognitive-services-form-recognizer-v30'
  properties: {
    displayName: 'Azure Cognitive Services-Form Recognizer'
    apiRevision: '1'
    description: 'Form Recognizer extracts information from forms and images into structured data. It includes the following options:\n* Read - Extract text from documents.\n* Layout - Extract text and layout information from documents.\n* Document - Extract text, layout, entities, and general key-value pairs from documents.\n* Business Card - Extract key information from business cards.\n* ID Document - Extract key information from passports and ID cards.\n* Invoice - Extract key information from invoices.\n* Receipt - Extract key information from receipts.\n* US W2 Tax - Extract key information from IRS US W2 tax forms (year 2018-2021).\n* Vaccination Card - Extract key information from US Covid-19 CDC vaccination cards.\n* Health Insurance Card - Extract key information from US health insurance cards.\n* Custom - Extracts information from forms (PDFs and images) into structured data based on a model created from a set of representative training forms. Form Recognizer learns the structure of your forms to intelligently extract text and data. It ingests text from forms, applies machine learning technology to identify keys, tables, and fields, and then outputs structured data that includes the relationships within the original file.\n\n**To use this service you require 2 subscription keys in the header.**\n* "Uniper-Apim-Subscription-Key" is the Uniper APIM subscription key you get when you subscribe to the product, "Azure Cognitive Services". \n* "Ocp-Apim-Subscription-Key" is the key for your own Cognitive Service Form Recognizer resource in Azure. *You can use the following key for limited testing only; 2c183c55f5af40c58cd302ca4f461621.* ***Do not use for production use!***\n\n**Both must be provided to use this service.**\n\n**By default this uses the Forms Recognizer service in the West Europe region, if your Forms Recognizer resource is in a different region please add a query string parameter called "region" with the region you require e.g. ?region=northeurope**'
    subscriptionRequired: true
    serviceUrl: 'https://westeurope.api.cognitive.microsoft.com/formrecognizer'
    path: 'api/azure-cognitiveservices-formrecognizer'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Uniper-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-4445e9f6f4dd41be'
    }
    isCurrent: true
    apiVersion: 'v3.0'
    apiVersionSetId: service_uniperapis_dev_name_89e508b1_fae7_4d5c_9e1a_a765e77c3f1a.id
  }
}

resource service_uniperapis_dev_name_azure_cognitive_services_form_recognizer_v40 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-cognitive-services-form-recognizer-v40'
  properties: {
    displayName: 'Azure Cognitive Services-Form Recognizer'
    apiRevision: '1'
    description: 'Form Recognizer extracts information from forms and images into structured data. It includes the following options:\n* Read - Extract text from documents.\n* Layout - Extract text and layout information from documents.\n* Document - Extract text, layout, entities, and general key-value pairs from documents.\n* Business Card - Extract key information from business cards.\n* ID Document - Extract key information from passports and ID cards.\n* Invoice - Extract key information from invoices.\n* Receipt - Extract key information from receipts.\n* US W2 Tax - Extract key information from IRS US W2 tax forms (year 2018-2021).\n* Vaccination Card - Extract key information from US Covid-19 CDC vaccination cards.\n* Health Insurance Card - Extract key information from US health insurance cards.\n* Custom - Extracts information from forms (PDFs and images) into structured data based on a model created from a set of representative training forms. Form Recognizer learns the structure of your forms to intelligently extract text and data. It ingests text from forms, applies machine learning technology to identify keys, tables, and fields, and then outputs structured data that includes the relationships within the original file.\n\n**To use this service you require 2 subscription keys in the header.**\n* "Uniper-Apim-Subscription-Key" is the Uniper APIM subscription key you get when you subscribe to the product, "Azure Cognitive Services". \n* "Ocp-Apim-Subscription-Key" is the key for your own Cognitive Service Form Recognizer resource in Azure. *You can use the following key for limited testing only; 2c183c55f5af40c58cd302ca4f461621.* ***Do not use for production use!***\n\n**Both must be provided to use this service.**\n\n**By default this uses the Forms Recognizer service in the West Europe region, if your Forms Recognizer resource is in a different region please add a query string parameter called "region" with the region you require e.g. ?region=northeurope**'
    subscriptionRequired: true
    serviceUrl: 'https://westeurope.api.cognitive.microsoft.com/formrecognizer'
    path: 'api/azure-cognitiveservices-formrecognizer'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Uniper-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-4445e9f6f4dd41be'
    }
    isCurrent: true
    apiVersion: 'v4.0'
    apiVersionSetId: service_uniperapis_dev_name_89e508b1_fae7_4d5c_9e1a_a765e77c3f1a.id
  }
}

resource service_uniperapis_dev_name_azurecognitiveservices_text_analytics_v32 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azurecognitiveservices-text-analytics-v32'
  properties: {
    displayName: 'Azure Cognitive Services-Text Analytics'
    apiRevision: '1'
    description: 'The Text Analytics API is a suite of natural language processing (NLP) services built with best-in-class Microsoft machine learning algorithms.  The API can be used to analyze unstructured text for tasks such as sentiment analysis, key phrase extraction and language detection. Functionality for analysis of text specific to the healthcare domain and personal information are also available in the API. Further documentation can be found in <a href="https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview">https://docs.microsoft.com/en-us/azure/cognitive-services/text-analytics/overview</a>'
    subscriptionRequired: true
    serviceUrl: 'https://uniper-text-analytics-uat.cognitiveservices.azure.com/text/analytics/v3.2-preview.2'
    path: 'api/azure-cognitiveservices-textanalytics'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-eb44448a966e46a1'
    }
    contact: {
      name: 'Microsoft Cognitive Services'
      url: 'https://azure.microsoft.com/en-us/services/cognitive-services/text-analytics/'
      email: 'mlapi@microsoft.com'
    }
    isCurrent: true
    apiVersion: '3.2'
    apiVersionSetId: service_uniperapis_dev_name_eed27875_6350_4204_9bf4_5147cdeb0bee.id
  }
}

resource service_uniperapis_dev_name_azurecognitiveservices_translator_v30 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azurecognitiveservices-translator-v30'
  properties: {
    displayName: 'Azure Cognitive Services-Translator'
    apiRevision: '1'
    description: 'Translator is a cloud-based machine translation service and is part of the Azure Cognitive Services family of cognitive APIs used to build intelligent apps. Translator is easy to integrate in your applications, websites, tools, and solutions. It allows you to add multi-language user experiences in more than 70 languages, and can be used on any hardware platform with any operating system for text translation.'
    subscriptionRequired: true
    serviceUrl: 'https://api-eur.cognitive.microsofttranslator.com/'
    path: 'api/azure-cognitiveservices-translator'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0ffaf9ad4a51445c'
    }
    isCurrent: true
    apiVersion: '3.0'
    apiVersionSetId: service_uniperapis_dev_name_41549655_5ac5_4cd6_a30d_29758cb68d22.id
  }
}

resource service_uniperapis_dev_name_azure_maps_search_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-maps-search-v10'
  properties: {
    displayName: 'Azure Maps-Search'
    apiRevision: '1'
    description: 'This API provides map related search options from the Azure Maps service.\nThere are other calls available Search Polygons and Geocode/ReverseGeocode batching. Please contact the APIM team to get them included'
    subscriptionRequired: true
    serviceUrl: 'https://atlas.microsoft.com'
    path: 'api/maps/search'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-989a9636cd624545'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c5a48a66_a038_46a4_9169_83e00d65712c.id
  }
}

resource service_uniperapis_dev_name_azure_maps_timezone_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-maps-timezone-v10'
  properties: {
    displayName: 'Azure Maps-Timezone'
    apiRevision: '1'
    description: 'This API provides Timezone related operations from the Azure Maps service'
    subscriptionRequired: true
    serviceUrl: 'https://atlas.microsoft.com/timezone'
    path: 'api/maps/timezone'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-cce0266ec16645e9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3b6506b4_fbc3_4076_a05c_874d8e67b4bf.id
  }
}

resource service_uniperapis_dev_name_azure_maps_weather_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azure-maps-weather-v10'
  properties: {
    displayName: 'Azure Maps-Weather'
    apiRevision: '1'
    description: 'This API provides weather related operations from the Azure Maps service, More API call are available at https://docs.microsoft.com/en-us/rest/api/maps/weather, please contact the APIM test to get them added\''
    subscriptionRequired: true
    serviceUrl: 'https://atlas.microsoft.com/weather'
    path: 'api/maps/weather'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9b0e5c3e938749e7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b34f4335_237f_4771_b007_2a497b7048b7.id
  }
}

resource service_uniperapis_dev_name_b2c_iam_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'b2c-iam-v10'
  properties: {
    displayName: 'b2c-iam'
    apiRevision: '1'
    description: 'This API is needed for the Azure B2C  Tenant connection.'
    subscriptionRequired: false
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/iam/v1.0'
    path: 'api/iam'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-27d954d28fde4c24'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1c586edf_2841_480f_b873_f4fcf9aee919.id
  }
}

resource service_uniperapis_dev_name_capman_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capman-v10'
  properties: {
    displayName: 'CapMan'
    apiRevision: '1'
    description: 'Custom Administrators Group who can manage all Products and APIs. Its membership is managed by CMC.'
    subscriptionRequired: true
    serviceUrl: 'https://getcapmanapidata.azurewebsites.net/api'
    path: 'api/capman'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-978f8ea225d74fce'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_62bb947d_0c99_4174_b728_5b69b081ab3e.id
  }
}

resource service_uniperapis_dev_name_capman_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'capman-v20'
  properties: {
    displayName: 'CapMan'
    apiRevision: '1'
    description: 'Custom Administrators Group who can manage all Products and APIs. Its membership is managed by CMC'
    subscriptionRequired: true
    serviceUrl: 'https://getcapmanapidataint.azurewebsites.net/api'
    path: 'api/capman'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-978f8ea225d74fce'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_62bb947d_0c99_4174_b728_5b69b081ab3e.id
  }
}

resource service_uniperapis_dev_name_comstar_genstar4_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'comstar-genstar4-api-v10'
  properties: {
    displayName: 'ComSTAR API'
    apiRevision: '1'
    description: 'The legendary Genstar API  your gateway to stopping and resuming trading operations in the glorious ComSTAR system. ;)'
    subscriptionRequired: true
    serviceUrl: 'https://comstardev.uniperapps.com'
    path: 'api/ex/comstar-genstar'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b729645b85c049b6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cad59943_bee7_4c17_b75a_9b368a1550fb.id
  }
}

resource service_uniperapis_dev_name_connectiontest_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'connectiontest-v10'
  properties: {
    displayName: 'Connection-Test'
    apiRevision: '1'
    description: 'API for connection testing'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/test/v1.0'
    path: 'test'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2439b9f49869405c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_24f24a06_1e59_4a34_bd1c_a79e11fda09d.id
  }
}

resource service_uniperapis_dev_name_constraint_control_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'constraint-control-api-v10'
  properties: {
    displayName: 'Constraint-Control-API'
    apiRevision: '1'
    description: 'Provides Access to Constraint Control Service Api from other clusters.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-constraintcontrol-service/v1.0'
    path: 'api/ues-constraintcontrol-service'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-bdceaf1f20f34417'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4b74de8a_b4dc_4e64_b67f_5d6dccdf749b.id
  }
}

resource service_uniperapis_dev_name_coode_frida_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'coode-frida-v10'
  properties: {
    displayName: 'ADAM API'
    apiRevision: '1'
    description: 'ADAM API'
    subscriptionRequired: true
    serviceUrl: 'https://app-coode-frida-api-dev.azurewebsites.net'
    path: 'api/coode-frida'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: '43667141694642bb82e9a2c096d1379c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_74eabed2_706f_40a2_9f79_7e0e6ac88eff.id
  }
}

resource service_uniperapis_dev_name_crmues_accounts_anon_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-accounts-anon-read-v20'
  properties: {
    displayName: 'CRMUES-Accounts-Anon-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Business Partner informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-accounts-anon-read/v2.0'
    path: 'api/crmues-accounts-anon-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_a835e429_dc3c_4f3d_a782_01d9d085d32d.id
  }
}

resource service_uniperapis_dev_name_crmues_accounts_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-accounts-read-v20'
  properties: {
    displayName: 'CRMUES-Accounts-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Business Partner informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-accounts-read/v2.0'
    path: 'api/crmues-accounts-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_5f03fcb7e7e5b995c29b21e1.id
  }
}

resource service_uniperapis_dev_name_crmues_accounts_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-accounts-write-v10'
  properties: {
    displayName: 'CRMUES-Accounts-Write'
    apiRevision: '1'
    description: 'This api provides Create/update/search Account informations to Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-2cb78830041b448e'
    path: 'api/crmues-accounts-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-208ac4e9abb849a6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_367c557f_9199_4f49_9055_223f18ce7e7b.id
  }
}

resource service_uniperapis_dev_name_crmues_addresses_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-addresses-read-v10'
  properties: {
    displayName: 'CRMUES-Addresses-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Customer Adress informations from Dynamics 365 system'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-addresses-read/v1.0'
    path: 'api/crmues-addresses-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a9d89c26_3e12_4202_b74a_61822c12da27.id
  }
}

resource service_uniperapis_dev_name_crmues_appointments_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-appointments-read-v10'
  properties: {
    displayName: 'CRMUES-Appointments-Read'
    apiRevision: '1'
    description: 'API to retrieve appointment records from UES CRM'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-appointments-read/v1.0'
    path: 'api/crmues-appointments-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_04c2d656_2b94_4338_8c8f_d0c448edb4f9.id
  }
}

resource service_uniperapis_dev_name_crmues_balancinggroups_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-balancinggroups-read-v20'
  properties: {
    displayName: 'CRMUES-BalancingGroups-Read'
    apiRevision: '1'
    description: 'This api provides retrieving  balancing groups records as well as the related balancing groups`s status informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-balancinggroups-read/v2.0'
    path: 'api/crmues-balancinggroups-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_87e51b3a_0519_4e23_8b1e_1a5001f243e2.id
  }
}

resource service_uniperapis_dev_name_crmues_bankaccounts_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-bankaccounts-read-v10'
  properties: {
    displayName: 'CRMUES-Bankaccounts-Read v1.0'
    apiRevision: '1'
    description: 'This api provides retrieving Bank Account informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-bankaccounts-read/v1.0'
    path: 'api/crmues-bankaccounts-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_033ab26e_c50f_41bc_9831_e3e5b848cdd9.id
  }
}

resource service_uniperapis_dev_name_crmues_bankaccounts_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-bankaccounts-write-v10'
  properties: {
    displayName: 'CRMUES-BankAccounts-Write'
    apiRevision: '1'
    description: 'This new API creates and updates Bank Account information in Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-a57036d0f3724913'
    path: 'api/crmues-bankaccounts-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a57036d0f3724913'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_91387c67_381b_4f79_b054_6fd8afdaa23c.id
  }
}

resource service_uniperapis_dev_name_crmues_connections_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-connections-write-v10'
  properties: {
    displayName: 'CRMUES-Connections-Write'
    apiRevision: '1'
    description: 'This api provides create connections to Dynamics 365 system'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-connections-write/v1.0'
    path: 'api/crmues-connections-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2540da8478de427a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3b57d68e_a1b2_4032_9b7b_468a18831cca.id
  }
}

resource service_uniperapis_dev_name_crmues_contacts_anon_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-contacts-anon-read-v20'
  properties: {
    displayName: 'CRMUES-Contacts-Anon-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Contact informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-contacts-anon-read/v2.0'
    path: 'api/crmues-contacts-anon-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ecbbf41808444544'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_a73576e2_f223_4fda_86b5_77739039f629.id
  }
}

resource service_uniperapis_dev_name_crmues_contacts_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-contacts-read-v20'
  properties: {
    displayName: 'CRMUES-Contacts-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Contact informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-contacts-read/v2.0'
    path: 'api/crmues-contacts-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_5f03fce2307a7a6c4ed252fd.id
  }
}

resource service_uniperapis_dev_name_crmues_contacts_write_v30 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-contacts-write-v30'
  properties: {
    displayName: 'CRMUES-Contacts-Write'
    apiRevision: '1'
    description: 'This API provides create/update Contact information to Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-contacts-write/v1.0'
    path: 'api/crmues-contacts-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v3.0'
    apiVersionSetId: service_uniperapis_dev_name_5f03fd0a5665a66af0102120.id
  }
}

resource service_uniperapis_dev_name_crmues_contracts_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-contracts-read-v10'
  properties: {
    displayName: 'CRMUES-Contracts-Read'
    apiRevision: '1'
    description: 'This api retrieves Contract informations from the Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-contracts-read/v1.0'
    path: 'api/crmues-contracts-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e3783a76_0e13_4609_9f17_859e6a0ac5ff.id
  }
}

resource service_uniperapis_dev_name_crmues_crefo_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-crefo-read-v10'
  properties: {
    displayName: 'CRMUES-Crefo-Read v1.0'
    apiRevision: '1'
    description: 'This api provides retrieving Crefo informations from Dynamics 365 system '
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-crefo-read/v1.0'
    path: 'api/crmues-crefo-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a19e34ef_dec6_48ae_acc4_93b8c9d610a5.id
  }
}

resource service_uniperapis_dev_name_crmues_customersegmenthistory_read_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-customersegmenthistory-read-v20'
  properties: {
    displayName: 'CRMUES-CustomerSegmentHistory-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Customer Segment History informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-customersegmenthistory-read/v2.0'
    path: 'api/crmues-customersegmenthistory-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_5f2b990caee6d0cbca66f1b1.id
  }
}

resource service_uniperapis_dev_name_crmues_dena_nabisy_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-dena-nabisy-read-v10'
  properties: {
    displayName: 'CRMUES-DENA-Nabisy-Read'
    apiRevision: '1'
    description: 'This api provides retrieving DENA/Nabisy informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-dena-nabisys-read/v1.0'
    path: 'api/crmues-dena-nabisys-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5d199a5ae11340d3'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_dbbdacd5_d19f_479b_980f_85e657f65fb5.id
  }
}

resource service_uniperapis_dev_name_crmues_digital_modules_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-digital-modules-write-v10'
  properties: {
    displayName: 'CRMUES-Digital-Modules-Write'
    apiRevision: '1'
    description: 'This API updates Digital Module information to Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-3e4d52d98b584e80'
    path: 'api/crmues-digital-modules-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-3e4d52d98b584e80'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c285dd76_a620_48d9_97d6_1270977b6885.id
  }
}

resource service_uniperapis_dev_name_crmues_email_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-email-read-v10'
  properties: {
    displayName: 'CRMUES-EMail-Read v1.0'
    apiRevision: '1'
    description: 'API to retrieve email records from UES CRM.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-emails-read/v1.0'
    path: 'api/crmues-emails-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_af244852_06c1_40fb_868b_237e0a25fb99.id
  }
}

resource service_uniperapis_dev_name_crmues_functionapp_main_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-functionapp-main-v10'
  properties: {
    displayName: 'CRMUES-FunctionApp-Main'
    apiRevision: '1'
    description: 'We want to call our HTTP trigger function app via APIM. Function app name : crmues-es-functionapp-dev Function Names: checkCrefoCommercialInfo , checkCrefoMailbox , checkCrefoSanction , checkCrefoIdent'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-ad891e97b7004f73'
    path: 'api/crmues-functionapp-main'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ad891e97b7004f73'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c240c9f4_21c0_406b_ba8c_cd578e4ff92c.id
  }
}

resource service_uniperapis_dev_name_crmues_functionapp_marketplayer_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-functionapp-marketplayer-v10'
  properties: {
    displayName: 'CRMUES-FunctionApp-MarketPlayer'
    apiRevision: '1'
    description: 'We want to call our HTTP trigger function app via APIM. Function app name : crmues-es-functionapp-marketplayer-dev Function Name: MarketPlayerAndMastrInstantly'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-98ad20dbd081489e'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-98ad20dbd081489e'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-98ad20dbd081489e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_02ea705a_3ab1_4cdc_aec2_74c866af3f5f.id
  }
}

resource service_uniperapis_dev_name_crmues_functionapp_updatecreditline_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-functionapp-updatecreditline-v10'
  properties: {
    displayName: 'CRMUES-FunctionApp-UpdateCreditLine'
    apiRevision: '1'
    description: 'We want to call our HTTP trigger function app via APIM. Function app name : crmues-es-functionapp-updatecreditline-dev Function Name: UpdateCreditLine'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-12dd29d0618d4852'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-12dd29d0618d4852'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-12dd29d0618d4852'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_7396a3eb_f6b6_4945_a7bd_b64629f3d2aa.id
  }
}

resource service_uniperapis_dev_name_crmues_generatingunits_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-generatingunits-read-v10'
  properties: {
    displayName: 'CRMUES-GeneratingUnits-Read'
    apiRevision: '1'
    description: 'This api retrieves Generating Unit informations from the Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-generatingunits-read/v1.0'
    path: 'api/crmues-generatingunits-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b55ef3a77f14733'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_598e2549_bdce_4e2f_b2df_4e65f8189dc1.id
  }
}

resource service_uniperapis_dev_name_crmues_identificationnumbers_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-identificationnumbers-read-v10'
  properties: {
    displayName: 'CRMUES-IdentificationNumbers-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Identification Number informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added.\n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-identificationnumbers-read/v1.0'
    path: 'api/crmues-identificationnumbers-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_10c8cec2_4741_4986_ae60_b81a88538dc6.id
  }
}

resource service_uniperapis_dev_name_crmues_kamhistory_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-kamhistory-read-v10'
  properties: {
    displayName: 'CRMUES-KAMHistory-Read'
    apiRevision: '1'
    description: 'This api provides retrieving KAMHistory informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    path: 'api/crmues-kamhistory-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6246e370_3343_464a_bd5d_cd97de4481a7.id
  }
}

resource service_uniperapis_dev_name_crmues_mastrs_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-mastrs-read-v10'
  properties: {
    displayName: 'CRMUES-Mastrs-Read'
    apiRevision: '1'
    description: 'This new api retrieves the Mastr information from UES CRM system'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-mastrs-read/v1.0'
    path: 'api/crmues-mastrs-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e1f274ed96fd41d1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3a77da5f_a877_49f0_bb12_ae4a31996e82.id
  }
}

resource service_uniperapis_dev_name_crmues_meterpoints_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-meterpoints-write-v10'
  properties: {
    displayName: 'CRMUES-Meterpoints-Write'
    apiRevision: '1'
    description: 'This api provides Create/update Meterpoint informations to Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-b34687f893564d15'
    path: 'api/crmues-meterpoints-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b34687f893564d15'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e323380d_a051_4719_a439_6f7d2cf8a906.id
  }
}

resource service_uniperapis_dev_name_crmues_notes_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-notes-read-v10'
  properties: {
    displayName: 'CRMUES-Notes-Read'
    apiRevision: '1'
    description: 'This API retrieves Note information from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-notes-read/v1.0'
    path: 'api/crmues-notes-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7419690f009946b4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1448c9cd_50ad_4dc9_8be6_baba9e31a7f8.id
  }
}

resource service_uniperapis_dev_name_crmues_opportunities_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-opportunities-read-v10'
  properties: {
    displayName: 'CRMUES-Opportunities-Read'
    apiRevision: '1'
    description: 'API to retrieve visit report records from UES CRM.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-opportunities-read/v1.0'
    path: 'api/crmues-opportunities-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_9a16d4fc_f25a_4e56_8fd2_2996feca5bc5.id
  }
}

resource service_uniperapis_dev_name_crmues_opportunities_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-opportunities-write-v10'
  properties: {
    displayName: 'CRMUES-Opportunities-Write'
    apiRevision: '1'
    description: 'This api provides Create/update Opportunity informations to Dynamics 365 system'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-02fed632e4704d44'
    path: 'api/crmues-opportunities-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-02fed632e4704d44'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_52ba3e02_218c_47b7_a7b9_a801eb2ee293.id
  }
}

resource service_uniperapis_dev_name_crmues_phonecalls_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-phonecalls-read-v10'
  properties: {
    displayName: 'CRMUES-PhoneCalls-Read'
    apiRevision: '1'
    description: 'API to retrieve phone call records from UES CRM.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-phonecalls-read/v1.0'
    path: 'api/crmues-phonecalls-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_32d57f22_c2ad_4049_b0e8_17a049d6ff74.id
  }
}

resource service_uniperapis_dev_name_crmues_powerbalancinggroups_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-powerbalancinggroups-read-v10'
  properties: {
    displayName: 'CRMUES-PowerBalancingGroups-Read v1.0'
    apiRevision: '1'
    description: 'This api provides retrieving Power Balancing Group informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-9c0ae54ac804438a'
    path: 'api/crmues-powerbalancinggroups-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9c0ae54ac804438a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_69797ca6_05a5_4a99_9760_6f00d6ec8b31.id
  }
}

resource service_uniperapis_dev_name_crmues_quotes_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-quotes-write-v10'
  properties: {
    displayName: 'CRMUES-Quotes-Write'
    apiRevision: '1'
    description: 'This api provides Create/update Quote informations to Dynamics 365 system'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-208ac4e9abb849a6'
    path: 'api/crmues-quotes-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-208ac4e9abb849a6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3a2e28cf_257b_42d8_ad2d_d9eaaa061fd3.id
  }
}

resource service_uniperapis_dev_name_crmues_securityroles_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-securityroles-write-v10'
  properties: {
    displayName: 'CRMUES-SecurityRoles-Write'
    apiRevision: '1'
    description: 'This api provides Assign/remove Security Roles from Users to Dynamics 365 system'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-securityroles-write/v1.0'
    path: 'api/crmues-securityroles-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-db4f1c3f9bba4c74'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_7f3d1fe9_ca0f_49af_a921_383078926d85.id
  }
}

resource service_uniperapis_dev_name_crmues_tasks_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-tasks-read-v10'
  properties: {
    displayName: 'CRMUES-Tasks-Read'
    apiRevision: '1'
    description: 'This api provides retrieving Task informations from Dynamics 365 system.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-tasks-read/v1.0'
    path: 'api/crmues-tasks-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1563fc00_e907_49eb_a74c_7a099a7e7440.id
  }
}

resource service_uniperapis_dev_name_crmues_taxnumbers_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-taxnumbers-read-v10'
  properties: {
    displayName: 'CRMUES-TaxNumbers-Read'
    apiRevision: '1'
    description: 'This api provides retrieving TaxNumbers informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-taxnumbers-read/v1.0'
    path: 'api/crmues-taxnumbers-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c899174c_c128_4138_9a54_d14c94390783.id
  }
}

resource service_uniperapis_dev_name_crmues_users_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-users-read-v10'
  properties: {
    displayName: 'CRMUES-Users-Read v1.0'
    apiRevision: '1'
    description: 'This api provides retrieving Security Roles informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-users-read/v1.0'
    path: 'api/crmues-users-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7bacb5b85ccb441e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a08d75bd_4efd_4103_8e7c_7540479a6a61.id
  }
}

resource service_uniperapis_dev_name_crmues_visitreports_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'crmues-visitreports-read-v10'
  properties: {
    displayName: 'CRMUES-VisitReports-Read'
    apiRevision: '1'
    description: 'This api provides retrieving VisitReports informations from Dynamics 365 system \n Updates: \n * Pagination functionality is added \n * Url suffixes has been adjusted \n * Modifiedon parameter has been renamed to \'modifiedsince\''
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/crmues-visitreports-read/v1.0'
    path: 'api/crmues-visitreports-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'crmues'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'crmues'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43e7e208ff244166'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_54ac3b8d_72ca_48b7_b292_69faeffee308.id
  }
}

resource service_uniperapis_dev_name_curve_data_store_int_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'curve-data-store-int-v10'
  properties: {
    displayName: 'Uniper.CurveDataStore.API.INT'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://curvedatastoreapi-int.uniperapps.com'
    path: 'api/cds-int'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ffcad978383d4a59'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0927505a_9af6_46fc_bcea_701ccc7c0b7c.id
  }
}

resource service_uniperapis_dev_name_curve_data_store_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'curve-data-store-v10'
  properties: {
    displayName: 'Uniper.CurveDataStore.API'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://curvedatastoreapi-dev.uniperapps.com'
    path: 'api/cds'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ee3291b928de4fd4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1604987f_832c_4f4f_8e3a_774d77e5feea.id
  }
}

resource service_uniperapis_dev_name_datahub_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'datahub-v20'
  properties: {
    displayName: 'Datahub'
    apiRevision: '1'
    description: 'Datahub API is used to perform CRUD operation in Datahub Storage account'
    subscriptionRequired: true
    serviceUrl: 'https://datahub-webapp-dev.azurewebsites.net/api/'
    path: 'api/es/datahub'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'subscription-key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-aa25a42b16204078'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_cce0e6ce_56c5_4b7d_9be2_b9ba4afd224f.id
  }
}

resource service_uniperapis_dev_name_dataservicesesbvpc_pricerequest_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'dataservicesesbvpc-pricerequest-v10'
  properties: {
    displayName: 'FUSE-DataservicesESBVPC-Pricerequest'
    apiRevision: '1'
    description: 'API used for dataservicesesbvpc-pricerequest'
    subscriptionRequired: true
    serviceUrl: 'https://checkAllOperationsURL'
    path: 'api/dataservicesesbvpc/pricerequest/int'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_502a2c6e_6e53_47fe_9d56_4f0e11cd6cfc.id
  }
}

resource service_uniperapis_dev_name_datasource_data_discovery_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'datasource-data-discovery-v10'
  properties: {
    displayName: 'DataDiscoverability'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://localhost:44313'
    path: 'api/search'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-4feec31e1e034fd1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b7a1407a_dbbf_4138_b3c7_939371c0bb04.id
  }
}

resource service_uniperapis_dev_name_deltaxe_endur_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'deltaxe-endur-v10'
  properties: {
    displayName: 'DeltaXE-Endur'
    apiRevision: '1'
    description: 'This API after added in DeltaXE , when the deals booked in DeltaXE it will reach to MW new kafka topic to be sent to Endur.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-d2d37df3a54841b2'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-d2d37df3a54841b2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d2d37df3a54841b2'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e924dc06_627e_4bb4_bbce_3bb3f0b72d02.id
  }
}

resource service_uniperapis_dev_name_deltaxe_md_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'deltaxe-md-v10'
  properties: {
    displayName: 'DeltaXE-MD'
    apiRevision: '1'
    description: '(You can modify this description accordingly)\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-563f5339d11e4375'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-563f5339d11e4375'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-563f5339d11e4375'
    }
    isCurrent: true
    apiVersion: '1.0'
    apiVersionSetId: service_uniperapis_dev_name_1bcb8cd9_cd08_4d65_8faa_e4d53b36e8c4.id
  }
}

resource service_uniperapis_dev_name_demo_graphql_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-graphql-v10'
  properties: {
    displayName: 'Demo-GraphQL'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://snowtooth.moonhighway.com/'
    path: 'demo/graphql'
    protocols: [
      'https'
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b35df430869477e'
    }
    type: 'graphql'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_61c0954cf8c8fa4ee63f172c.id
  }
}

resource service_uniperapis_dev_name_demo_graphql_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-graphql-v20'
  properties: {
    displayName: 'Demo-GraphQL'
    apiRevision: '1'
    description: 'GraphQl API'
    subscriptionRequired: true
    serviceUrl: 'https://swapi-graphql.netlify.app/.netlify/functions/index'
    path: 'demo/graphql'
    protocols: [
      'https'
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b35df430869477e'
    }
    type: 'graphql'
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_61c0954cf8c8fa4ee63f172c.id
  }
}

resource service_uniperapis_dev_name_demo_openapi_v11 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-openapi-v11'
  properties: {
    displayName: 'Demo-OpenAPI'
    apiRevision: '1'
    description: 'This is a demonstration of Open API (Rest) created by the API CoE as a point of reference.'
    subscriptionRequired: false
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-0b35df430869477e:44300'
    path: 'demo/openapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b35df430869477e'
    }
    isCurrent: true
    apiVersion: 'v1.1'
    apiVersionSetId: service_uniperapis_dev_name_9ca8d6eb_df95_431a_a7e7_da8dbd64d5e4.id
  }
}

resource service_uniperapis_dev_name_demostorage 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demostorage'
  properties: {
    displayName: 'DemoStorage'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://uniperapisdev001.privatelink.table.core.windows.net'
    path: 'demo/storage'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'Do not use'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_68120b93fc95af610acd449c.id
  }
}

resource service_uniperapis_dev_name_demo_terraform_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-terraform-v10'
  properties: {
    displayName: 'Demo-Terraform'
    apiRevision: '1'
    description: 'This is a demonstration of Open API (Rest) deployed from DevOps using terraform IaC created by the API CofE as a point of reference.'
    subscriptionRequired: true
    serviceUrl: 'https://www.google.com'
    path: 'terraform/test'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8b9e9ebb68f24225'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_62f4e194_a50b_42b8_bf0e_8294791603de.id
  }
}

resource service_uniperapis_dev_name_demotestgrpc_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demotestgrpc-v10'
  properties: {
    displayName: 'demotestgrpc'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-13a323657a52408e'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-13a323657a52408e'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-13a323657a52408e'
    }
    type: 'grpc'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_52ea983f_895a_4527_9783_fb18ec345d6e.id
  }
}

resource service_uniperapis_dev_name_demo_websocket_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'demo-websocket-v10'
  properties: {
    displayName: 'Demo-Websocket'
    apiRevision: '1'
    description: 'This is a demonstration of a Websocket created by the API CofE as a point of reference.\nit\'s an echo server that pushes messages out to all connected clients'
    subscriptionRequired: true
    serviceUrl: 'wss://ws-echo-server-i3313.azurewebsites.net'
    path: 'demo/socket'
    protocols: [
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'websocket'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_61bc9b0e5fefc49947612e14.id
  }
}

resource service_uniperapis_dev_name_digicision_admin_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-admin-v10'
  properties: {
    displayName: 'digicision-admin'
    apiRevision: '1'
    description: 'Digicision Admin API'
    subscriptionRequired: true
    serviceUrl: 'https://api/admin'
    path: 'api/digicision-admin'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f469a80543614b9a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_7e4ce51b_1a3a_4586_8d9c_5f0a7fa66d49.id
  }
}

resource service_uniperapis_dev_name_digicision_document_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-document-v10'
  properties: {
    displayName: 'digicision-document'
    apiRevision: '1'
    description: 'Digicision Document API'
    subscriptionRequired: true
    serviceUrl: 'https://api/documents'
    path: 'api/digicision-documents'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2a4308313a8c4d3c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6f145498_8a98_42f1_9c6a_418c5fa1615f.id
  }
}

resource service_uniperapis_dev_name_digicision_notification_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-notification-v10'
  properties: {
    displayName: 'digicision-notification'
    apiRevision: '1'
    description: 'Digicision Notification API'
    subscriptionRequired: true
    serviceUrl: 'https://api/digicision-notification'
    path: 'api/digicision-notification'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c0a8149584f447c1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e1f7b681_936b_4737_917f_7f71b891e51b.id
  }
}

resource service_uniperapis_dev_name_digicision_project_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'digicision-project-v10'
  properties: {
    displayName: 'digicision-project'
    apiRevision: '1'
    description: 'Digicision Project API'
    subscriptionRequired: true
    serviceUrl: 'https://api/digicision-projects'
    path: 'api/digicision-projects'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7325a8392fb04f1d'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_742cfc8d_424e_4fcd_81c5_16fd68f2d8fb.id
  }
}

resource service_uniperapis_dev_name_ds_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ds-api-v10'
  properties: {
    displayName: 'ds-api'
    apiRevision: '1'
    description: 'This API will work as a data source for different users, who can read the data from different providers.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ds-api/v1.0'
    path: 'api/ds-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-55a25e2b545542c9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_251227d2_49cf_4ae6_8111_9332dbbc7181.id
  }
}

resource service_uniperapis_dev_name_eai_streamingplatform_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eai-streamingplatform-v10'
  properties: {
    displayName: 'EAI-StreamingPlatform'
    apiRevision: '1'
    description: 'EAI-Streaming platform is required for a common kafka services access in Fuse streaming platform.'
    subscriptionRequired: true
    path: 'api/eai-streaming'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-38f213bf1aa14b85'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_8e5f3575_22f1_4628_9d50_11432f294416.id
  }
}

resource service_uniperapis_dev_name_eai_usip_mar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eai-usip-mar-v10'
  properties: {
    displayName: 'MissingMapping-functionapp'
    apiRevision: '1'
    description: 'Import from "uni-dev-163805-missingmapping-functionapp" Function App'
    subscriptionRequired: true
    serviceUrl: 'https://apim-uniper-dev.azure-api.net/mms'
    path: 'api/mms'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6241dba157df43ca'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3b391224_1a35_4360_aacb_bf6b3fb118ff.id
  }
}

resource service_uniperapis_dev_name_eai_usip_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eai-usip-v10'
  properties: {
    displayName: 'EAI-USIP'
    apiRevision: '1'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/eai-usip/v1.0'
    path: 'api/eai-usip'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ae0909a83d46477f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_533b3e90_0c44_4f4b_b919_6a22ad1b506a.id
  }
}

resource service_uniperapis_dev_name_edt_eex_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'edt-eex-v10'
  properties: {
    displayName: 'edt-eex'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'http://checkAllOperationURL'
    path: 'api/fuse-edt-eex'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-28e3cc23e8a343d3'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_81816b1b_6e0e_41c8_8379_4bd1967eee57.id
  }
}

resource service_uniperapis_dev_name_eex_comstar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eex-comstar-v10'
  properties: {
    displayName: 'EEX-comstar'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://api1.datasource.eex-group.com/getEvent/json'
    path: 'api/eex'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1b0943bc85df4449'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0020a1c1_497d_4db1_95e7_1413c07dc911.id
  }
}

resource service_uniperapis_dev_name_eis_deltaxe_contract_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eis-deltaxe-contract-v10'
  properties: {
    displayName: 'EIS-DeltaXe-Contract'
    apiRevision: '1'
    description: 'EIS-DeltaXe-Contract'
    subscriptionRequired: true
    serviceUrl: 'https://usip-uat2.azure.uniper.energy/sit/contract/deltaxe/deltaxeInbound/deltaxeInput'
    path: 'api/deltaxe/deltaxeRequest'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d0affdeaece94290'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4d161abe_780d_492d_857d_5dbdda891aec.id
  }
}

resource service_uniperapis_dev_name_eis_deltaxe_sapmd_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eis-deltaxe-sapmd-v10'
  properties: {
    displayName: 'EIS-DeltaXe-SAPMD'
    apiRevision: '1'
    description: 'EIS-DeltaXe-SAPMD'
    subscriptionRequired: true
    serviceUrl: 'https://usip-utility-uat.azure.uniper.energy/deltaxe-api-sapmaster/deltaxe/sapInbound/masterdataInput'
    path: 'api/deltaxe/sapMasterdataInput'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-dfaf00e7f9704854'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c957779f_d8b1_425f_81a9_52b44c602469.id
  }
}

resource service_uniperapis_dev_name_eis_deltaxe_sap_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eis-deltaxe-sap-v10'
  properties: {
    displayName: 'EIS-DeltaXe-SAP'
    apiRevision: '1'
    description: 'EIS-DeltaXe-SAP'
    subscriptionRequired: true
    serviceUrl: 'https://usip-conf-uat-platform.azure.uniper.energy/sap-mw-power-trade-service/sapinbound/SAPDealTransfer'
    path: 'api/deltaxe/sapRequest'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5653af64eeaf4b76'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5884c62a_ed10_48c3_b4ba_49c33d5837a4.id
  }
}

resource service_uniperapis_dev_name_eis_deltaxe_stfoasm_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'eis-deltaxe-stfoasm-v10'
  properties: {
    displayName: 'EIS-DeltaXe-STFOASM'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://usplatform-dev.azure.uniper.energy/deltaxe/deltaxeInbound/dwhInput'
    path: 'api/deltaxe/dwhInput'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b1a44941cc5f4560'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f04bb99e_bc74_4f30_b673_aba92d92f2cd.id
  }
}

resource service_uniperapis_dev_name_endur_eis_ca_external_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis-ca-external-v10'
  properties: {
    displayName: 'Endur-EIS-CA-External'
    apiRevision: '1'
    description: 'Endur EIS API for all Endur CA external applications. '
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-24eb7277f9354e4b'
    path: 'api/endur-eis-ca-ext'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_83b92344_d127_43c6_b0b8_f020e7e6adda.id
  }
}

resource service_uniperapis_dev_name_endur_eis_ca_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis-ca-v10'
  properties: {
    displayName: 'Endur-EIS-CA'
    apiRevision: '1'
    description: 'To process the File in CA pipeline internally.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-408c0b809c2d4c7a'
    path: 'api/endur-eis-ca-dev'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-408c0b809c2d4c7a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5e4944fe_a022_4918_92c5_a263e982276f.id
  }
}

resource service_uniperapis_dev_name_endur_eis_ca_volumeimport_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis-ca-volumeimport-v10'
  properties: {
    displayName: 'Endur-EIS-CA-VolumeImport'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-9227b6ffd0f64272'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-9227b6ffd0f64272'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9227b6ffd0f64272'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_756c22a9_be71_44fd_b04f_cc23f2a74be5.id
  }
}

resource service_uniperapis_dev_name_endur_eis_veslink_internal_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis-veslink-internal-v10'
  properties: {
    displayName: 'Endur-EIS-Veslink'
    apiRevision: '1'
    description: 'This is for Internal Veslink'
    subscriptionRequired: true
    serviceUrl: 'https://eai-uat.azure.uniper.energy/imos'
    path: 'api/dev/imos'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_dbc66997_d761_4670_bcf4_c8e04dcffe6a.id
  }
}

resource service_uniperapis_dev_name_endur_eis_veslink_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-eis-veslink-v10'
  properties: {
    displayName: 'Veslink-EIS'
    apiRevision: '1'
    description: 'To test the veslink external'
    subscriptionRequired: true
    serviceUrl: 'https://eai-uat.azure.uniper.energy/imos'
    path: 'api/imos'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ff51937752904d6f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c31b3786_5c08_4e10_a67b_1bc20faa9357.id
  }
}

resource service_uniperapis_dev_name_endur_xceptor_afs_brokerrecon_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'endur-xceptor-afs-brokerrecon-v10'
  properties: {
    displayName: 'Endur-Xceptor-AFS-BrokerRecon'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    path: 'api/xceptorbrokerrecon'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8990abc8c51f44ac'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_d835f0a5_ec86_4b1b_99de_e60a53500b39.id
  }
}

resource service_uniperapis_dev_name_enegen_g4cvnapi_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enegen-g4cvnapi-v10'
  properties: {
    displayName: 'Enegen-G4CVNAPI'
    apiRevision: '1'
    description: 'A REST API provided by Enegen for synchronisation of business party, notification agent and trade data from PosMan.'
    subscriptionRequired: true
    serviceUrl: 'https://uni-app-int.enegen.co.uk/Genstar4/CVN_API'
    path: 'api/G4CVNAPI'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2e60afe9ba504e53'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e7515983_06f9_49f2_9850_abdcd8ef7197.id
  }
}

resource service_uniperapis_dev_name_enmacc_connect_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enmacc-connect-v10'
  properties: {
    displayName: 'Enmacc-Connect'
    apiRevision: '1'
    description: 'Enmacc Platform Interface'
    subscriptionRequired: true
    path: 'api/enmacc-connect'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b41716b708124996'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0642406a_f207_464e_baf9_2741d1e440c7.id
  }
}

resource service_uniperapis_dev_name_enmacc_connect_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enmacc-connect-v20'
  properties: {
    displayName: 'Enmacc-Connect'
    apiRevision: '1'
    description: 'Enmacc Platform Interface'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/enmacc-connect/v2.0'
    path: 'api/enmacc-connect'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5179af62bf2247b0'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_0642406a_f207_464e_baf9_2741d1e440c7.id
  }
}

resource service_uniperapis_dev_name_enmacc_connect_v22 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enmacc-connect-v22'
  properties: {
    displayName: 'enmacc-connect'
    apiRevision: '1'
    description: 'Connection to Enmacc Platform'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-77c8883452fc4aae'
    path: 'api/enmacc-connect'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-77c8883452fc4aae'
    }
    isCurrent: true
    apiVersion: 'v2.2'
    apiVersionSetId: service_uniperapis_dev_name_0642406a_f207_464e_baf9_2741d1e440c7.id
  }
}

resource service_uniperapis_dev_name_ennea_api_external_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-api-external-v10'
  properties: {
    displayName: 'ennea-api-external'
    apiRevision: '1'
    description: 'To provide public access to SVA'
    subscriptionRequired: false
    serviceUrl: 'https://svatest-d0ezapb4brgac3cp.westeurope-01.azurewebsites.net/api'
    path: 'api/ex/ennea-api-external'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'Ocp-Apim-Subscription-Key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c1e2e415_ddc7_432b_9207_d35b62b7a877.id
  }
}

resource service_uniperapis_dev_name_ennea_api_external_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-api-external-v20'
  properties: {
    displayName: 'ennea-api-external'
    apiRevision: '1'
    description: 'To provide public access to SVA'
    subscriptionRequired: false
    serviceUrl: 'https://svatest-d0ezapb4brgac3cp.westeurope-01.azurewebsites.net/api'
    path: 'api/ex/ennea-api-external'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'Ocp-Apim-Subscription-Key'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_c1e2e415_ddc7_432b_9207_d35b62b7a877.id
  }
}

resource service_uniperapis_dev_name_ennea_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ennea-api-v10'
  properties: {
    displayName: 'ennea-api'
    apiRevision: '1'
    description: 'api for ennea'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-a7965e48a4834dc3'
    path: 'api/ennea-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cad6c2af_3a28_4a86_b65f_3a4e62ab6a1a.id
  }
}

resource service_uniperapis_dev_name_enterprise_application_management_v60 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-application-management-v60'
  properties: {
    displayName: 'EAM API'
    apiRevision: '1'
    description: 'The Enterprise Architecture Management API exposes information on Uniper\'s Business Application, Robots and APIs that are stored within ServiceNow.'
    subscriptionRequired: true
    serviceUrl: 'https://eam-api-uat.azurewebsites.net/api/v6.0'
    path: 'api/eam'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v6.0'
    apiVersionSetId: service_uniperapis_dev_name_5d52abf2832aa182f62196b0.id
  }
}

resource service_uniperapis_dev_name_enterprise_application_management_v70 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-application-management-v70'
  properties: {
    displayName: 'EAM API'
    apiRevision: '1'
    description: 'The Enterprise Architecture Management API exposes information on Uniper\'s Business Application, Robots and APIs that are stored within ServiceNow.'
    subscriptionRequired: true
    serviceUrl: 'https://eam-api-uat.azurewebsites.net/api/v7.0'
    path: 'api/eam'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-98bc737ed4524729'
    }
    isCurrent: true
    apiVersion: 'v7.0'
    apiVersionSetId: service_uniperapis_dev_name_5d52abf2832aa182f62196b0.id
  }
}

resource service_uniperapis_dev_name_enterprise_application_management_v80 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'enterprise-application-management-v80'
  properties: {
    displayName: 'EAM API'
    apiRevision: '1'
    description: 'The Enterprise Architecture Management API exposes information on Uniper\'s Business Application, Robots and APIs that are stored within ServiceNow.'
    subscriptionRequired: true
    serviceUrl: 'https://eam-api-uat.azurewebsites.net/api/v8.0'
    path: 'api/eam'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-99665c3403d64bb6'
    }
    isCurrent: true
    apiVersion: 'v8.0'
    apiVersionSetId: service_uniperapis_dev_name_5d52abf2832aa182f62196b0.id
  }
}

resource service_uniperapis_dev_name_esb_dataservices_vpc_pricerequest_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'esb-dataservices-vpc-pricerequest-v10'
  properties: {
    displayName: 'ESB-DataServices-Vpc-pricerequest'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'http://eai-int.azure.uniper.energy/esb'
    path: 'api/fuse-dataservice/pricerequest'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-028f4c193508436f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_238256d3_2152_4f01_a7f5_cfb6abec4572.id
  }
}

resource service_uniperapis_dev_name_fenix_usip_utilities_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fenix-usip-utilities-v10'
  properties: {
    displayName: 'Fenix-USIP-Utilities'
    apiRevision: '1'
    description: 'Uniper streaming Integration platform (USIP 2.0)'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/fenix-usip-utilities/v1.0'
    path: 'api/fenix-usip-utilities'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-caaa263f97af4ca8'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_346a3c77_efd0_4a4c_91ac_b6f68e2c845a.id
  }
}

resource service_uniperapis_dev_name_forwardreporting_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'forwardreporting-v10'
  properties: {
    displayName: 'Forward Reporting'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-1a33025bbe1a4962'
    path: 'api/forwardreporting'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1a33025bbe1a4962'
    }
    isCurrent: true
    apiVersion: '1.0'
    apiVersionSetId: service_uniperapis_dev_name_cf6747e0_7a7e_4a3e_a866_942165b27494.id
  }
}

resource service_uniperapis_dev_name_fuse_common_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-common-api-v10'
  properties: {
    displayName: 'Fuse-Common-API'
    apiRevision: '1'
    description: 'Fuse Common API is used to create new operations for kafka connectors, like Post, Get to provide external team access we are sharing gateway urls'
    subscriptionRequired: true
    path: 'api/commonapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9fc000b1e2d04ba6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b6bb2073_855d_4a31_8ab2_59ef0888a371.id
  }
}

resource service_uniperapis_dev_name_fuse_edge_nbr_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-edge-nbr-v10'
  properties: {
    displayName: 'FUSE-EDGE-NBR'
    apiRevision: '1'
    description: 'This APIM is requested for setting up http connectivity for NBR Interface'
    subscriptionRequired: true
    serviceUrl: 'https://fsmidd001-test.azure.uniper.energy/nordic/EDGECE-NBR'
    path: 'api/nbr'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5b7bff74ccbb4690'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_529ee8f1_c3e2_431d_9d98_568c2284748d.id
  }
}

resource service_uniperapis_dev_name_fuse_esb_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-esb-v10'
  properties: {
    displayName: 'Fuse ESB'
    apiRevision: '1'
    description: 'we will recieve counter parties, user portfolios master data and process the files in middleware'
    subscriptionRequired: true
    serviceUrl: 'http://checkAllOperationURL'
    path: 'api/fuse-esb'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_63fa7df7_9911_4a25_94b8_5c70bd65e0ce.id
  }
}

resource service_uniperapis_dev_name_fuse_fidectus_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-fidectus-v10'
  properties: {
    displayName: 'Fuse-Fidectus'
    apiRevision: '1'
    description: 'The new product should contain only ponton related operations.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-ee4cd71825b5490c'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-ee4cd71825b5490c'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ee4cd71825b5490c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f2dc5ff7_a247_43f3_a67c_e0e009da0233.id
  }
}

resource service_uniperapis_dev_name_fuse_ihub_ext_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-ihub-ext-v10'
  properties: {
    displayName: 'Fuse-Ihub-Ext'
    apiRevision: '1'
    description: 'API Gateway product for Middleware for external request.'
    subscriptionRequired: true
    serviceUrl: 'https://phobos-dev.azure.uniper.energy/esb'
    path: 'api/fuseihub'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-afa60f4b65bd4215'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_9b50621a_5594_4047_ae8f_35b813559588.id
  }
}

resource service_uniperapis_dev_name_fusepegasus_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fusepegasus-v10'
  properties: {
    displayName: 'SubmitOrderEndpointService'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/pegasus/sendDeals'
    path: 'api/fuse-pegasus'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a2f4b327601a470b'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0bfc109f_4db6_4b18_a91c_d2ffc2b22c83.id
  }
}

resource service_uniperapis_dev_name_fuse_pegasus_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-pegasus-v10'
  properties: {
    displayName: 'fuse-pegasus'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/pegasus/sendDeals'
    path: 'api/int/pegasus/sendDeals'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'soap'
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_5f449a1e4ba853c3259223e4.id
  }
}

resource service_uniperapis_dev_name_fuse_recon_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-recon-v10'
  properties: {
    displayName: 'Fuse-Recon'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-0885a6c7821c498b'
    path: 'api/fuse-recon'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0885a6c7821c498b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fe6ab6c6_9627_4ab6_91c6_99a76e5cc9ce.id
  }
}

resource service_uniperapis_dev_name_fuse_sap_fenix_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sap-fenix-v10'
  properties: {
    displayName: 'InvoiceService'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/fenix/invoice/response'
    path: 'api/int/fenix/invoice/response'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'soap'
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_5f449ac39c109ada41c1fa2f.id
  }
}

resource service_uniperapis_dev_name_fuse_sap_go_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sap-go-v10'
  properties: {
    displayName: 'InvoiceGOService'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/goe/invoice/response'
    path: 'api/int/goe/invoice/response'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'soap'
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_5f449a7af62c5563813be66c.id
  }
}

resource service_uniperapis_dev_name_fuse_sharp_ce_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sharp-ce-v10'
  properties: {
    displayName: 'FUSE-SHARP-CE'
    apiRevision: '1'
    description: 'API for all SHARP-CE REST based apps'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/esb/dev/centraleurope'
    path: 'esb/dev/centraleurope'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_625cd847_bac8_4ad7_9c57_e8e5386cf462.id
  }
}

resource service_uniperapis_dev_name_fuse_sharpnip_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-sharpnip-v10'
  properties: {
    displayName: 'FUSE-SHARP-NIP'
    apiRevision: '1'
    description: 'This is fuse-sharp-nip for nordic usecase.'
    subscriptionRequired: true
    serviceUrl: 'http://checkAllOperationURL'
    path: 'api/dev/nordic'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_b6719937_bf6e_4a94_b6a2_9ef3de999767.id
  }
}

resource service_uniperapis_dev_name_fuse_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'fuse-v10'
  properties: {
    displayName: 'fuse'
    apiRevision: '1'
    description: 'Use for Fuse API'
    subscriptionRequired: true
    serviceUrl: 'http://checkAllOperationURL'
    path: 'api/esb/int'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3a140768_ecf1_4d84_bf86_9b67109536be.id
  }
}

resource service_uniperapis_dev_name_future_modeling_platform_internal_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform-internal-v10'
  properties: {
    displayName: 'future-modeling-platform-internal'
    apiRevision: '1'
    description: 'FMP Internal API for FMP UI and Trigger DAG, Cancel DAG and get Status of Task, DAG & DAG with all Tasks'
    subscriptionRequired: true
    path: 'api/fmp-internal'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e1a69178bfc54938'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_af9e4450_3206_4200_97fe_483b3c1fb7ba.id
  }
}

resource service_uniperapis_dev_name_future_modeling_platform_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform-v10'
  properties: {
    displayName: 'future-modeling-platform'
    apiRevision: '1'
    description: 'API to create and submit requests to FMP'
    subscriptionRequired: false
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/fmp/v1.0'
    path: 'fmp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'fmp'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'fmp'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: '7a521ae6c8f5409b8cea719868c94ae7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_57dc1f34_1da7_4828_b770_bb2b2aa6eae4.id
  }
}

resource service_uniperapis_dev_name_future_modeling_platform_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform-v20'
  properties: {
    displayName: 'future-modeling-platform'
    apiRevision: '1'
    description: 'API to create and submit requests to FMP'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/fmp/v2.0'
    path: 'fmp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: '7a521ae6c8f5409b8cea719868c94ae7'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_57dc1f34_1da7_4828_b770_bb2b2aa6eae4.id
  }
}

resource service_uniperapis_dev_name_future_modeling_platform_v30 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform-v30'
  properties: {
    displayName: 'future-modeling-platform'
    apiRevision: '1'
    description: 'API to create and submit requests to FMP'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/fmp/v3.0'
    path: 'fmp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-4dabc9a1945446d0'
    }
    isCurrent: true
    apiVersion: 'v3.0'
    apiVersionSetId: service_uniperapis_dev_name_57dc1f34_1da7_4828_b770_bb2b2aa6eae4.id
  }
}

resource service_uniperapis_dev_name_future_modeling_platform_v40 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'future-modeling-platform-v40'
  properties: {
    displayName: 'future-modeling-platform'
    apiRevision: '1'
    description: 'FMP API to Trigger DAG, Cancel DAG and get Status of Task, DAG & DAG with all Tasks'
    subscriptionRequired: true
    path: 'fmp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-060f75a26cc445af'
    }
    isCurrent: true
    apiVersion: 'v4.0'
    apiVersionSetId: service_uniperapis_dev_name_57dc1f34_1da7_4828_b770_bb2b2aa6eae4.id
  }
}

resource service_uniperapis_dev_name_genstar4_availability_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'genstar4-availability-v10'
  properties: {
    displayName: 'Genstar4-Availability'
    apiRevision: '1'
    description: 'Availability data is provided by the third party Enegen via their Genstar4 system in the form of API, which will be consumed by the PromptOpt application for any new outage creation/outage cancellation/outage modification. We have imported the API by using the HTTP format'
    subscriptionRequired: true
    serviceUrl: 'https://uni-app-int.enegen.co.uk/Genstar4/Export/ASCMTesting/'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-595b707a9e324586'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_d91719e8_43d8_4d43_b9c4_f503ed92d9f8.id
    path: apis_genstar4_availability_v10_path
  }
}

resource service_uniperapis_dev_name_holidaycalendar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'holidaycalendar-v10'
  properties: {
    displayName: 'Holidaycalendar'
    apiRevision: '1'
    description: 'Provides holiday informations for all other microservices'
    subscriptionRequired: true
    path: 'api/holidaycalendar'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-06ff55678be549b6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_540215c1_9b71_4c82_aad8_2c6ad47db815.id
  }
}

resource service_uniperapis_dev_name_iiot_coreservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'iiot-coreservice-v10'
  properties: {
    displayName: 'IIOT-CoreService'
    apiRevision: '1'
    description: 'This API is for accessing Uniper IIOT data, provided from the IIOT Core Service based on data from Uniper\'s PI Platform - PICENT.'
    subscriptionRequired: true
    serviceUrl: 'https://ca-weu-dev-picore-api.uniperapps.com/api/v1/'
    path: 'api/ex/iiot-core-service'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e5f6f11063e0420d'
    }
    contact: {
      name: 'Uniper Kraftwerke GmbH'
    }
    isCurrent: true
    apiVersion: 'v1'
    apiVersionSetId: service_uniperapis_dev_name_79bae1e0_c067_44f7_8a24_ece1ca7b14a6.id
  }
}

resource service_uniperapis_dev_name_infobasis_mobileservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'infobasis-mobileservice-v10'
  properties: {
    displayName: 'Infobasis-MobileService'
    apiRevision: '1'
    description: 'Infobasis Mobile API\n'
    subscriptionRequired: true
    serviceUrl: 'https://infbsprdapps001.uniper.onmicrosoft.com/Infobasis.ImApi'
    path: 'api/infobasis'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: '2884067e54cc40b39b3f4ec05d83dcd4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fd210d2c_353b_47f5_8350_2c10c7684388.id
  }
}

resource service_uniperapis_dev_name_intesi_group_cert_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'intesi-group-cert-v10'
  properties: {
    displayName: 'Intesi-Group-Cert'
    apiRevision: '1'
    description: 'The API is used to apply a certificate for externals from Intesi Group'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-e514fd1e4d4f40c8'
    path: 'api/intesi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e514fd1e4d4f40c8'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ba2db958_a89f_472e_8c4d_76bcdc1a0e29.id
  }
}

resource service_uniperapis_dev_name_laser2_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser2-v10'
  properties: {
    displayName: 'Laser2'
    apiRevision: '1'
    description: 'In Laser 2, few of the APIs are implemented which would be consumed by the Laser3, Laser 3 connects with the  Laser2 APIs for its source of information'
    subscriptionRequired: true
    serviceUrl: 'https://laser-api-service-dev.uniperapps.com/api/'
    path: 'api/laser2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-51b578b606a2463c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cbcb50fc_b210_446a_9b59_a44d22c3e81c.id
  }
}

resource service_uniperapis_dev_name_laser3_mock 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-mock'
  properties: {
    displayName: 'Laser III API'
    apiRevision: '1'
    description: 'Laser III service'
    subscriptionRequired: true
    serviceUrl: 'https://laser3-dev.azure.uniper.energy'
    path: 'api/laser3'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Apim-Subscription-Key'
      query: 'd6749a1bb720432a83c65e9a0582944a'
    }
    isCurrent: true
    apiVersion: 'mock'
    apiVersionSetId: service_uniperapis_dev_name_78becd69_42b6_4835_8414_ea0bc881e311.id
  }
}

resource service_uniperapis_dev_name_laser3_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'laser3-v10'
  properties: {
    displayName: 'Laser III API'
    apiRevision: '1'
    description: 'Laser III service'
    subscriptionRequired: true
    serviceUrl: 'https://laser3-test.azure.uniper.energy'
    path: 'api/laser3'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-886104113615450b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_78becd69_42b6_4835_8414_ea0bc881e311.id
  }
}

resource service_uniperapis_dev_name_linkedinlearning_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'linkedinlearning-v10'
  properties: {
    displayName: 'LinkedInLearning'
    apiRevision: '1'
    description: 'LinkedIn Learning Reporting APIs provide key insights and engagement metrics such as course completions, hours of content viewed, and learner days active. Insights can be aggregated by entities like individuals, groups, and accounts or content objects like courses and videos. These insights can help Uniper measure effectiveness of learning and development initiatives.'
    subscriptionRequired: true
    serviceUrl: 'https://api.linkedin.com/v2'
    path: 'api/linkedin-learning'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2e80969cb0f849b6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_64f84719dd718de156110186.id
  }
}

resource service_uniperapis_dev_name_ma_grid_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ma-grid-api-v10'
  properties: {
    displayName: 'MA-Grid-API'
    apiRevision: '1'
    description: 'This API is used to read and write the backend data for the new MA-Grid web application.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/Home'
    path: 'api/Home'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f8fab47f5d094b29'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0968a286_bf10_4889_adf9_54d32cfca04c.id
  }
}

resource service_uniperapis_dev_name_marie_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'marie-v10'
  properties: {
    displayName: 'Marie v1.0'
    apiRevision: '1'
    description: 'Marie APIs provide a solution that allows users to get faster and up-to-date predictions so that business decisions can be taken based on the latest prediction rather than predictions that have been stale by the time actions are initiated."'
    subscriptionRequired: true
    serviceUrl: 'https://mariedevapi.uniperapps.com/mariecore/v1.0'
    path: 'mariecore'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6a3303c8c58046bc'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_15ba28ce_11ad_4425_a245_36f915707ab1.id
  }
}

resource service_uniperapis_dev_name_mdap_ebp_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdap-ebp-api-v10'
  properties: {
    displayName: 'MDAP-EBP-API'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    path: 'api/mdap-ebp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'c9049b56ed9c459a9244c2cf1c3590c8'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4589087d_b726_4e22_87a6_926b3284b516.id
  }
}

resource service_uniperapis_dev_name_mdm_web_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mdm-web-service-v10'
  properties: {
    displayName: 'MDM-WEB-SERVICE'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://mdm-uat.azure.uniper.energy/MDMServices/MasterDataHub.asmx'
    path: 'api/mdmwebservice'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d6aa93fabbb64e2c'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_8fd13975_3ef9_4e04_a3a5_3383cbf046fb.id
  }
}

resource service_uniperapis_dev_name_membrainpocbtp_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'membrainpocbtp-v10'
  properties: {
    displayName: 'MembrainPoCBTP'
    apiRevision: '1'
    description: 'API for connecting BTP to our Membrain proof of concept for a new asset mobile app'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-44cbcf35b4c84266'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-44cbcf35b4c84266'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-44cbcf35b4c84266'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ba111fdd_c0c8_41bf_89bf_15a8fcd78d0a.id
  }
}

resource service_uniperapis_dev_name_metadata_test_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'metadata-test-v10'
  properties: {
    displayName: 'metadata-test'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://app-coode-meta-data-api-dev.azurewebsites.net'
    path: 'api/test'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b32aada62e448ea'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_9ddcc906_4b40_403b_bc66_fb221b964bcd.id
  }
}

resource service_uniperapis_dev_name_mia_assetmanagement_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-assetmanagement-v10'
  properties: {
    displayName: 'MIA-AssetManagement v1.0'
    apiRevision: '1'
    description: 'Asset Management module stores power generation data.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-assetmanagement-api.uniperapps.com'
    path: 'api/mia-assetManagement'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-89c13c783ac8408c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_559767d2_66ea_4036_b08b_852184a86999.id
  }
}

resource service_uniperapis_dev_name_mia_contacts_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-contacts-v10'
  properties: {
    displayName: 'MIA-Contacts'
    apiRevision: '1'
    description: 'Contacts allow user to provide feedback'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-contacts-api.uniperapps.com'
    path: 'api/mia-contacts'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1dc0f163c2ab4888'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fadfb2bb_6771_4f98_b4d7_1936cf7bb06c.id
  }
}

resource service_uniperapis_dev_name_mia_crosscommodity_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-crosscommodity-v10'
  properties: {
    displayName: 'MIA-CrossCommodity'
    apiRevision: '1'
    description: 'Cross commodity provides weekly commodity data.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-crosscommodity-api.uniperapps.com'
    path: 'api/mia-crossCommodity'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1668c24cd9284661'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1b38511a_a60b_4443_8672_fa084a66c3a5.id
  }
}

resource service_uniperapis_dev_name_mia_eventcalendar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-eventcalendar-v10'
  properties: {
    displayName: 'MIA-EventCalendar'
    apiRevision: '1'
    description: 'Event Calendar retrieves upcoming events.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-eventcalendar-api.uniperapps.com'
    path: 'api/mia-eventCalendar'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0b789c5cbca2478f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b13d1b87_f29d_400f_88d5_5368fed85093.id
  }
}

resource service_uniperapis_dev_name_mia_irdaily_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-irdaily-v10'
  properties: {
    displayName: 'MIA-IRDaily'
    apiRevision: '1'
    description: 'IR Daily module retrieves IR news and stock behaviour.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-irdaily-api.uniperapps.com'
    path: 'api/mia-irdaily'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5d825b3926f24d4b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_176a8963_51b4_4584_9204_b982e798c0d9.id
  }
}

resource service_uniperapis_dev_name_mia_marketprices_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-marketprices-v10'
  properties: {
    displayName: 'MIA-MarketPrices'
    apiRevision: '1'
    description: 'Market Prices module retrieves prices  for various markets\n'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-marketprices-api.uniperapps.com'
    path: 'api/mia-marketPrices'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-be842032d6ca43d6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0bf6b2dc_4bcd_4d2e_a4f4_bab6d916acd0.id
  }
}

resource service_uniperapis_dev_name_mia_marketreport_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-marketreport-v10'
  properties: {
    displayName: 'MIA-MarketReport'
    apiRevision: '1'
    description: 'Market Report module retrieves monthly reports of markets'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-marketreport-api.uniperapps.com'
    path: 'api/mia-marketReport'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b1593da96b884b0a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2c0b60f7_fc97_4c1c_9cbe_3c2b21acdb3e.id
  }
}

resource service_uniperapis_dev_name_mia_messages_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-messages-v10'
  properties: {
    displayName: 'MIA-Messages'
    apiRevision: '1'
    description: 'Messages module retrieves messages.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-messages-api.uniperapps.com'
    path: 'api/mia-messages'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ab43d0f83adf442f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ddd33c43_2059_4abd_b31b_11641e6b2441.id
  }
}

resource service_uniperapis_dev_name_mia_notificationhub_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-notificationhub-v10'
  properties: {
    displayName: 'MIA-NotificationHub v1.0'
    apiRevision: '1'
    description: 'Notification Hub sends notification to users'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-notificationhub-api.uniperapps.com'
    path: 'api/mia-notificationHub'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-05c74f3ff86848f6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_bcd87e1e_b6ee_4e5e_a35e_138d9bd3ede1.id
  }
}

resource service_uniperapis_dev_name_mia_podcasts_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-podcasts-v10'
  properties: {
    displayName: 'MIA-Podcasts'
    apiRevision: '1'
    description: 'Podcasts retrieves podcast audio, video and podpourri videos.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-podcasts-api.uniperapps.com'
    path: 'api/mia-podcasts'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-927a2082b42b44ae'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_40ddbd9e_a8ed_413f_8d3a_13f752fb6be9.id
  }
}

resource service_uniperapis_dev_name_mia_settings_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-settings-v10'
  properties: {
    displayName: 'MIA-Settings'
    apiRevision: '1'
    description: 'Settings allows users to change preferences.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-settings-api.uniperapps.com'
    path: 'api/mia-settings'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8d7ec4d5a0234c6e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_9be8d58c_1e34_4eaa_84c9_5478f7e506e1.id
  }
}

resource service_uniperapis_dev_name_mia_userprofilebadges_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-userprofilebadges-v10'
  properties: {
    displayName: 'MIA-UserProfileBadges'
    apiRevision: '1'
    description: 'User Profile badges Module retrieves user profile and badges information'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-userprofilebadges-api.uniperapps.com'
    path: 'api/mia-userProfileBadges'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-dabfb0628b8749c5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4fdc17ae_ffdf_4e81_b8cc_8f887641595f.id
  }
}

resource service_uniperapis_dev_name_mia_weather_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mia-weather-v10'
  properties: {
    displayName: 'MIA-Weather'
    apiRevision: '1'
    description: 'Weather API allows us to retrieve weather images for next 15 days.'
    subscriptionRequired: true
    serviceUrl: 'https://mia-dev-weather-api.uniperapps.com'
    path: 'api/mia-weather'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-bafbf1790f0641f1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d6bee807_17b0_4c1a_8900_6c43a2bf5b05.id
  }
}

resource service_uniperapis_dev_name_mira_ir_backend_app_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'mira-ir-backend-app-v10'
  properties: {
    displayName: 'MIRA-IR-Backend-App'
    apiRevision: '1'
    description: 'Investor Relations within Uniper is a team responsible for a number of reports & ad-hoc analyses, which mainly require data input from the providers Bloomberg and Vara Research. Available in both iOS and Android Devices.'
    subscriptionRequired: true
    serviceUrl: 'https://mira-dev-backend-app.uniperapps.com'
    path: 'api/mira'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c747cc9f60734201'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_77e78a5c_1157_4986_92f8_9882f9e60757.id
  }
}

resource service_uniperapis_dev_name_misp_misp2sentinel_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'misp-misp2sentinel-v10'
  properties: {
    displayName: 'MISP-MISP2Sentinel'
    apiRevision: '1'
    description: 'This API enables the Microsoft Upload Indicators API to sync indicators between MISP and MS Sentinel.'
    subscriptionRequired: true
    serviceUrl: 'https://misp2sentinel-dev.azurewebsites.net'
    path: 'misp2sentinel-dev'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-59edc66f500d4eed'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_55a66713_c5c8_4222_9d93_e2241f0bcc08.id
  }
}

resource service_uniperapis_dev_name_myidentity_b2cservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'myidentity-b2cservice-v10'
  properties: {
    displayName: 'myIdentity B2C REST API'
    apiRevision: '1'
    description: 'API documentation for the B2C REST API plugin.'
    subscriptionRequired: true
    serviceUrl: 'https://uat-doorman.uniper.energy/identityiq'
    path: 'api/myidentity-b2cservice'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-fc1be92d618f4eca'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d889fb25_eddf_4025_ab0f_c9fc4b8c5f24.id
  }
}

resource service_uniperapis_dev_name_myidentity_scim_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'myidentity-scim-v10'
  properties: {
    displayName: 'MyIdentity SCIM API'
    apiRevision: '1'
    description: 'The myIdentity B2C Scim API allows for fetching user details of Externals by Name, KID, Contract validity, retrieving identity related details like full name, KID, personnel number and end of contract term.\r\nThe API does not allow to query data from employees.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-01ecbb6b5cef4a45'
    path: 'api/ex/myidentity'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-01ecbb6b5cef4a45'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_73c1f8c1_f808_43bd_b78c_82472963ca0b.id
  }
}

resource service_uniperapis_dev_name_neon_seeburger_as4_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'neon-seeburger-as4-v10'
  properties: {
    displayName: 'NEON-Seeburger-AS4'
    apiRevision: '1'
    description: 'As part of the Market nominations requirement, NEON application has to communicate with TSO via AS4 solution,  that AS4 SaaS solution we are suing is Seeburger which is hosted outside Uniper landscape, NEON application need to communicate in and out communication with TSO using Seeburger AS4 solution'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-5963257c353740e0'
    path: 'api/neon-seeburgeras4'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5963257c353740e0'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fd647ad5_d124_4dd5_88bb_9d5a166b88e4.id
  }
}

resource service_uniperapis_dev_name_octopus_usip_utilities_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'octopus-usip-utilities-v10'
  properties: {
    displayName: 'Octopus USIP Utilities'
    apiRevision: '1'
    description: 'APIs for Octopus for Short Term Trading.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-ff86a09064fc4e28'
    path: 'api/ex/octopus-usip'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ff86a09064fc4e28'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_27ad9ab6_d54f_46f5_8bfd_3a5da1922ed8.id
  }
}

resource service_uniperapis_dev_name_opengamma_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'opengamma-v10'
  properties: {
    displayName: 'Opengamma'
    apiRevision: '1'
    description: 'public access to opengamma apis'
    subscriptionRequired: true
    serviceUrl: 'https://phobos-dev.azure.uniper.energy/opengamma'
    path: 'api/opengamma'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a84d55dfe30e4d13'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a3803bf3_0517_4c80_aef5_0d01741ab903.id
  }
}

resource service_uniperapis_dev_name_pegasus_gas_price_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-gas-price-v10'
  properties: {
    displayName: 'Pegasus-Gas-Price'
    apiRevision: '1'
    description: 'Pegasus Gas Pricing'
    subscriptionRequired: true
    path: 'api/pegasus-gas-price'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-749a41c0bd944f76'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_04be4739_2e0a_4fc4_97e3_fcf8c252bf0b.id
  }
}

resource service_uniperapis_dev_name_pegasus_ilp_loadcurve_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-ilp-loadcurve-v10'
  properties: {
    displayName: 'Pegasus-ILP-Loadcurve'
    apiRevision: '1'
    description: 'Pegasus Load Curves'
    subscriptionRequired: true
    path: 'api/pegasus-ilp-loadcurve'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a58c491490404ec9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_79cbce13_c062_4954_b5f6_d49fdaf5bca2.id
  }
}

resource service_uniperapis_dev_name_pegasus_power_backtesting_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-power-backtesting-v10'
  properties: {
    displayName: 'Pegasus-Power-Backtesting'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-47e4bae64bd44246'
    path: 'api/pegasus-power-backtesting'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-47e4bae64bd44246'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1d193fa4_0725_4730_b6c1_562ec6a4ddae.id
  }
}

resource service_uniperapis_dev_name_pegasus_power_price_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-power-price-v10'
  properties: {
    displayName: 'Pegasus-Power-Price'
    apiRevision: '1'
    description: 'Pegasus Power Pricing'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/pegasus-power-price/v1.0'
    path: 'api/pegasus-power-price'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a9bdf38f027a47c9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_efce5881_4c19_4474_aa51_683d311c650e.id
  }
}

resource service_uniperapis_dev_name_pegasus_power_price_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pegasus-power-price-v20'
  properties: {
    displayName: 'Pegasus-Power-Price'
    apiRevision: '1'
    description: 'API used for Pegasus Power Price v2'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-6699c93f5fe44121'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-6699c93f5fe44121'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6699c93f5fe44121'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_b000058c_d4ec_47cb_85dc_06f6077f04a6.id
  }
}

resource service_uniperapis_dev_name_phobosnbr_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobosnbr-v10'
  properties: {
    displayName: 'phobosnbr'
    apiRevision: '1'
    description: 'Creating a new APIM for NBR project.'
    subscriptionRequired: true
    serviceUrl: 'https://checkAllOperationsURL'
    path: 'api/nbr-common'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5b90df00856449cb'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_13ad9301_fffe_456e_bb2a_336d3d1a50e3.id
  }
}

resource service_uniperapis_dev_name_phobos_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'phobos-v10'
  properties: {
    displayName: 'Phobos'
    apiRevision: '1'
    description: 'This is required  for phobos project developement in the middleware area.'
    subscriptionRequired: true
    serviceUrl: 'https://phobos-dev.azure.uniper.energy/esb'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-09df989601f7493e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cf7a78a1_fd9d_4585_b248_18c4a88c57b0.id
    path: apis_phobos_v10_path
  }
}

resource service_uniperapis_dev_name_pkfg_offerdetails_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pkfg-offerdetails-v10'
  properties: {
    displayName: 'PKFG-OfferDetails'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-15841fe944504285'
    path: 'api/pkfg-offerdetails'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-15841fe944504285'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_be16fd64_b5e8_49f9_a718_1b8b9fb7437a.id
  }
}

resource service_uniperapis_dev_name_pkfg_productconfiguration_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'pkfg-productconfiguration-v10'
  properties: {
    displayName: 'PKFG-ProductConfiguration'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-7e4ef06b33444547'
    path: 'api/pkfg-productconfiguration'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7e4ef06b33444547'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_589c4378_c889_46ea_b6f0_75c4974ef779.id
  }
}

resource service_uniperapis_dev_name_po_availability_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'po_availability_api-v10'
  properties: {
    displayName: 'PromptOpt Availability API'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://po-dev-pg-availability-001.asev2-uni-npd-001.appserviceenvironment.net/api'
    path: 'api/po_availability'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b039669020b54e85'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_62f37ba9_069d_4712_abce_fb824094a235.id
  }
}

resource service_uniperapis_dev_name_po_notification_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'po_notification_api-v10'
  properties: {
    displayName: 'PromptOpt Email API'
    apiRevision: '1'
    subscriptionRequired: true
    path: 'api/Modify-ApiUrlSuffix-Accordingly-1f66897c78d441a6'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1f66897c78d441a6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1959bd20_2573_460e_ac75_38d0e365b333.id
  }
}

resource service_uniperapis_dev_name_prismapi_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prismapi-v10'
  properties: {
    displayName: 'Prism'
    apiRevision: '1'
    description: 'It is used to process the nominational processing for monthly and endur file in PRISM application.'
    subscriptionRequired: false
    serviceUrl: 'https://prismdevapi.uniperapps.com/api/v1.0'
    path: 'api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8aa48ddd249942aa'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_330e1c8f_7626_4e31_a3c4_18bbfa35c7d0.id
  }
}

resource service_uniperapis_dev_name_prismapi_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prismapi-v20'
  properties: {
    displayName: 'PrismApi'
    apiRevision: '1'
    description: 'It is used to process the nominational processing for monthly and endur file in PRISM application.'
    subscriptionRequired: true
    serviceUrl: 'https://app-weu-dev-prismwebapi-01.azurewebsites.net/api/int/prism/v2.0'
    path: 'api/int/prism'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-59b1ce4aadb14538'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_330e1c8f_7626_4e31_a3c4_18bbfa35c7d0.id
  }
}

resource service_uniperapis_dev_name_promptopt_g4pnbodapi_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'promptopt-g4pnbodapi-v10'
  properties: {
    displayName: 'PromptOpt-G4PNBODAPI'
    apiRevision: '1'
    description: 'Submit the PNBOD submission data to Enegen via API instead of SFTP'
    subscriptionRequired: true
    serviceUrl: 'https://uni-app-int.enegen.co.uk/Genstar4/EDT_API'
    path: 'api/g4pnbod'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1ebe48c600f54c38'
    }
    contact: {
      name: 'Enegen Support'
      email: 'support@enegen.co.uk'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_99c6948e_6bca_4f55_a185_4d0c1ea3116f.id
  }
}

resource service_uniperapis_dev_name_promptoptimization_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'promptoptimization-service-v10'
  properties: {
    displayName: 'PromptOptimization-Service'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-2ffa668f7a494ba3'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-2ffa668f7a494ba3'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2ffa668f7a494ba3'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0d098fea_e7fa_472c_9e11_184215d00167.id
  }
}

resource service_uniperapis_dev_name_promptopt_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'promptopt-v10'
  properties: {
    displayName: 'PromptOpt'
    apiRevision: '1'
    description: 'PromptOptimisationis an optimization model used for day-ahead and intraday scheduling. It is used by Near Prompt Trader, Shift traders, Shift Dispatcher, Power Operations manageretcfor different type of scheduling operations. Power station running costs and parameter information is stored in POin a way that it helps Shift Traders to decide prices for balancing mechanism. Used by the Near Prompt Trader (and Power Operations Trader) to see the production cost of each power station unit and shows him the profitability (based on his own view of market price typed into the tool) for running each unit in different ways (e.g., peaks, BL etc. ) for each day.'
    subscriptionRequired: true
    serviceUrl: 'https://uni-app-int.enegen.co.uk/Genstar4/Export/ASCMTesting/'
    path: 'api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-3ad0ce1c076a429e'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_3bfd933f_2bec_4d3e_bf63_71fde03b96f2.id
  }
}

resource service_uniperapis_dev_name_prozessdaten_ukw_hydro_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'prozessdaten-ukw-hydro-v10'
  properties: {
    displayName: 'Prozessdaten UKW-Hydro'
    apiRevision: '1'
    description: 'REST-API zum Lesen und Schreiben von Messwerten.<br/>(V1.4.2 vom 25.11.2024)<br/><br/>Hinweise zur Benutzung dieser API:<br/>- Jeder Aufruf ben旦tigt eine Benutzerkennung (userKennung), die Zugriff auf vorbestimmte Messstellen gew辰hrt.<br/>- Alle Parameter die als Query-Parameter anzugeben sind, k旦nnen alternativ auch im HTTP Header angegeben werden.<br/>- Alle Zeitangaben sollten im ISO-8601-Format mit UTC \'Zulu\' Kennung am Ende 端bergeben werden (z.B. \'2023-10-28T10:15:30Z\').- G辰ngige deutsche Formate werden auch unterst端tzt, aber immer als UTC Zeit ohne Zeitzone (also +00:00) interpretiert (z.B. \'28.10.2023 15:30\').<br/>- Weitere Informationen zur genauen Parametrierung der Abfragen finden Sie unter \'Schemas\'.<br/>'
    subscriptionRequired: true
    path: 'api/ex/prozessdaten-ukww'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a8cf5336932846a7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e45c6de3_3c72_4cc1_ab89_2004a66ba9ca.id
  }
}

resource service_uniperapis_dev_name_rest_proxy_celonis_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-proxy-celonis-v10'
  properties: {
    displayName: 'Rest Proxy Celonis'
    apiRevision: '1'
    description: 'This API will use to get cert phys deals from ETRM and that will further process to XCEPTOR interface.'
    subscriptionRequired: true
    serviceUrl: 'https://checkpolicy/url'
    path: 'api/rest-proxy-celonis'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-aa7f4aacbcb84f94'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_7c710ce9_2d7c_45e3_85a4_97c69efba62f.id
  }
}

resource service_uniperapis_dev_name_restproxy_edge_nordic_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'restproxy-edge-nordic-v10'
  properties: {
    displayName: 'restproxy-edge-nordic'
    apiRevision: '1'
    description: 'Using this api edge nordic will send position data to MW topic.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-151134c2d8634115'
    path: 'api/edgenordic'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-151134c2d8634115'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e2c6fa11_1390_451f_bd4c_966fea371b0f.id
  }
}

resource service_uniperapis_dev_name_rest_proxy_tenoris_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-proxy-tenoris-v10'
  properties: {
    displayName: 'Rest Proxy Tenoris'
    apiRevision: '1'
    description: 'Rest proxy will use to get data from tenoris and it will send to kafka topic.'
    subscriptionRequired: true
    serviceUrl: 'https://from-named-value'
    path: 'api/ex/rest-proxy-tenoris'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8e7e44d24db448b7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2cb2b5f8_83c2_4a08_a206_d6b1847fb9a8.id
  }
}

resource service_uniperapis_dev_name_rest_proxy_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rest-proxy-v10'
  properties: {
    displayName: 'Rest Proxy'
    apiRevision: '1'
    description: 'Rest Proxy to consume or produce data. Using gateway urls external team can also access the data'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-5774702f09d74d79'
    path: 'api/rest-proxy'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5774702f09d74d79'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5419852f_e5b9_4027_8a58_c193b9ce347d.id
  }
}

resource service_uniperapis_dev_name_rightangle_eaiesb_sap_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rightangle-eaiesb-sap-v10'
  properties: {
    displayName: 'InvoiceService'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://phobos-dev.azure.uniper.energy/cxf/sra/invoice/response'
    path: 'api/int/sra/invoice/response'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5f3b02d6_739d_4a3d_956d_a1b415b8dd5e.id
  }
}

resource service_uniperapis_dev_name_rightangle_eaiesb_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rightangle-eaiesb-v10'
  properties: {
    displayName: 'Rightangle-EAIESB'
    apiRevision: '1'
    description: 'API used for Rightangle EAIESB.'
    subscriptionRequired: true
    serviceUrl: 'https://CheckAllOperationsURL'
    path: 'api/rightangle/int'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_08e17ea3_aaf8_4b69_99cf_a331169d8fb6.id
  }
}

resource service_uniperapis_dev_name_rightangle_esb_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rightangle-esb-v10'
  properties: {
    displayName: 'FUSE-SAP-RIGHTANGLE'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/sra/invoice/response'
    path: 'api/fuse-sap-rightangle'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-598ce7c4a41d4d46'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e218f108_2978_447a_bf50_d1989b0b69c7.id
  }
}

resource service_uniperapis_dev_name_rightangle_invoiceservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rightangle-invoiceservice-v10'
  properties: {
    displayName: 'FUSE-SAP-RIGHTANGLEOIL'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://eai-int.azure.uniper.energy/cxf/sraoil/invoice/response'
    path: 'api/fuse-sap-rightangleoil'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6f5cac55923e4112'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_879ab777_35fe_4ce1_8f1a_b8fe249f6373.id
  }
}

resource service_uniperapis_dev_name_riskcube_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'riskcube-v10'
  properties: {
    displayName: 'riskcube'
    apiRevision: '1'
    description: 'DL0166 - Group Credit Risk (Use Case Name) - This API is designed for Group Credit Risk to pull the data from the OLAP Credit Cube & History Cube.'
    subscriptionRequired: true
    serviceUrl: 'https://riskcubelogicapi-dev.uniperapps.com'
    path: 'api/riskcube'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-19ce3945452d4d58'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0ba849ea_0e22_4738_af6c_05e625afe580.id
  }
}

resource service_uniperapis_dev_name_rk_flow_javascript_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rk-flow-javascript-v10'
  properties: {
    displayName: 'rk-flow-javascript.azurewebsites.net'
    apiRevision: '1'
    description: 'Javascript - Uniper Custom Connector'
    subscriptionRequired: true
    serviceUrl: 'https://rk-flow-javascript.azurewebsites.net/'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-5519bb8dc8754289'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5519bb8dc8754289'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6ff54249_3830_4166_a747_41bee98f2e0b.id
  }
}

resource service_uniperapis_dev_name_robotron_neonicc_redispatch_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'robotron-neonicc-redispatch-v10'
  properties: {
    displayName: 'Robotron-NeonICC-Redispatch'
    apiRevision: '1'
    description: 'This middleware interface will take post request from Robotron and transform that data into excel file and sent generated file to NeonICC.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/esb/dev/centraleurope'
    path: 'api/redispatch'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersionSetId: service_uniperapis_dev_name_bf6bab54_6496_4974_84bb_ddecbc3d9ee3.id
  }
}

resource service_uniperapis_dev_name_rundeck_rem_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'rundeck-rem-v10'
  properties: {
    displayName: 'Rundeck-REM'
    apiRevision: '1'
    description: 'Provides basic Rundeck operations for the Release and Environment Management instance of Rundeck'
    subscriptionRequired: true
    serviceUrl: 'https://rundeck.azure.uniper.energy/api/14'
    path: 'api/rundeck-rem'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8ea166202a524425'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e5025cb9_6db0_451f_9ded_c79d91f9110a.id
  }
}

resource service_uniperapis_dev_name_sailpoint_scim_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sailpoint-scim-v10'
  properties: {
    displayName: 'IdentityIQ SCIM REST API'
    apiRevision: '1'
    description: 'IdentityIQ REST Endpoint Interface Documentation for SCIM\n'
    subscriptionRequired: true
    serviceUrl: 'https://uat-myidentity.uniper.energy/identityiq/scim/v2'
    path: 'sailpoint-scim'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-07815ad73c2f4667'
    }
    isCurrent: true
    apiVersion: 'v2'
    apiVersionSetId: service_uniperapis_dev_name_ff3360b8_bc2f_45f0_892d_dc7d15a82de3.id
  }
}

resource service_uniperapis_dev_name_salesportal_biomethane_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-biomethane-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal-Biomethane-SalesData-Reporting-API'
    apiRevision: '1'
    description: 'This API provides datasets that are needed by Sales Date Reporting to accurately report on Biomethane sales'
    subscriptionRequired: true
    serviceUrl: 'https://biomethane-development.uniper-digital.de'
    path: 'api/salesportal-biomethane-salesdata-reporting-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-44417568edae46a9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1032a558_ea44_4fd6_90ed_4540891b400d.id
  }
}

resource service_uniperapis_dev_name_sales_portal_biomethane_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sales-portal-biomethane-v10'
  properties: {
    displayName: 'sales-portal-biomethane'
    apiRevision: '1'
    description: 'This API provides datasets that are needed by Sales Date Reporting to accurately report on Biomethane sales'
    subscriptionRequired: true
    serviceUrl: 'https://biomethane-development.uniper-digital.de'
    path: 'api/sales-portal-biomethane'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c9f04e9912614694'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_88179730_8b3d_4c54_9191_8291f74c699d.id
  }
}

resource service_uniperapis_dev_name_salesportal_customproducts_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-customproducts-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal CustomProducts SalesData Reporting API'
    apiRevision: '1'
    description: 'API to get all contracts from custom products for sales data'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-27ee2bed0d88472f'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-27ee2bed0d88472f'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-27ee2bed0d88472f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d0df48f7_df60_47ae_915b_10465734176b.id
  }
}

resource service_uniperapis_dev_name_salesportal_framecontract_frame_contracts_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-framecontract-frame-contracts-api-v10'
  properties: {
    displayName: 'SalesPortal-Framecontract-Frame-Contracts-API'
    apiRevision: '1'
    description: 'This API provides access to all frame contracts'
    subscriptionRequired: true
    serviceUrl: 'https://frame-contracts-development.uniper-digital.de'
    path: 'api/salesportal-framecontract-frame-contracts-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5f314b7172dc481e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c4aaff1f_7352_418a_be7b_c27d305644f5.id
  }
}

resource service_uniperapis_dev_name_salesportal_framecontract_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-framecontract-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal-Framecontract-SalesData-Reporting-API'
    apiRevision: '1'
    description: 'Siehe SalesPortal-FrameContracts-SalesData-Reporting-API'
    subscriptionRequired: true
    serviceUrl: 'https://frame-contracts-development.uniper-digital.de'
    path: 'api/salesportal-framecontract-salesdata-reporting-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-830fcda9f51d4ca1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5f601dbc_fc73_4848_8276_079b272fc17d.id
  }
}

resource service_uniperapis_dev_name_salesportal_gas_to_power_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-gas-to-power-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal-GasToPower-SalesData-Reporting-API'
    apiRevision: '1'
    description: 'Siehe SalesPortal-GasToPower-SalesData-Reporting-API'
    subscriptionRequired: true
    serviceUrl: 'https://gas-to-power-development.uniper-digital.de'
    path: 'api/salesportal-gas-to-power-salesdata-reporting-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-73d9e42b6d234559'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fa8103e2_ad20_45f6_959a_379b38411f99.id
  }
}

resource service_uniperapis_dev_name_salesportal_goo_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-goo-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal-GOO-SalesData-Reporting-API'
    apiRevision: '1'
    description: 'Siehe SalesPortal-Goo-SalesData-Reporting-API'
    subscriptionRequired: true
    serviceUrl: 'https://goo-development.uniper-digital.de'
    path: 'api/salesportal-goo-salesdata-reporting-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-830fcda9f51d4ca1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f72cbf2a_c194_45ea_a219_e44a1acfff19.id
  }
}

resource service_uniperapis_dev_name_salesportal_idd_salesdata_reporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'salesportal-idd-salesdata-reporting-api-v10'
  properties: {
    displayName: 'SalesPortal-IDD-SalesData-Reporting-API'
    apiRevision: '1'
    description: 'Siehe SalesPortal-ISD-SalesData-Reporting-API'
    subscriptionRequired: true
    serviceUrl: 'https://isd-development.uniper-digital.de'
    path: 'api/salesportal-isd-salesdata-reporting-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d1a3b988d6c2430e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4748a26e_5400_4502_8182_95dcfd7c67bc.id
  }
}

resource service_uniperapis_dev_name_sales_trading_portal_enmacc_demand_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sales-trading-portal-enmacc-demand-v10'
  properties: {
    displayName: 'Sales-Trading-Portal-Enmacc-Demand'
    apiRevision: '1'
    description: 'Sales Trading Portal Webhook for Enmacc Demands'
    subscriptionRequired: true
    path: 'api/sales-trading-portal-enmacc-demand'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f0a09531defa4914'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5d919ce1_18fd_446c_b82c_16cdfb7df35a.id
  }
}

resource service_uniperapis_dev_name_sales_trading_portal_uniper_digital_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sales-trading-portal-uniper-digital-v10'
  properties: {
    displayName: 'Sales-Trading-Portal-Uniper-Digital'
    apiRevision: '1'
    description: 'Interface between Sales Trading Portal and Uniper Digital.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-67d13a3f970e4774'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-67d13a3f970e4774'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-67d13a3f970e4774'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0a2dfa96_5e14_4c4e_8770_cd53a5bf7f1d.id
  }
}

resource service_uniperapis_dev_name_sap_btp_ai_fitness_for_perfect_pr_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap_btp-ai-fitness-for-perfect-pr-v10'
  properties: {
    displayName: 'SAP_BTP-AI Fitness for Perfect PR'
    apiRevision: '1'
    description: 'For Celonis Process Mining and statistics about the fitness of the DAR Service Models deployed to recommend attributes for the Perfect PR cockpit'
    subscriptionRequired: true
    serviceUrl: 'https://uniper-test-perfect-pr-capppr-srv.cfapps.eu20.hana.ondemand.com/v2/celonis/'
    path: 'api/PPR-AI-fitness'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e1d55e555d444bb6'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cd37e8e1_0060_42ec_a39f_32bae2365471.id
  }
}

resource service_uniperapis_dev_name_sap_ariba_catalog_search_v20210930 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ariba-catalog-search-v20210930'
  properties: {
    displayName: 'Catalog search API'
    apiRevision: '1'
    description: 'Ariba semantic search for catalogs'
    subscriptionRequired: true
    serviceUrl: 'https://ariba-semantic-search.azurewebsites.net/'
    path: 'api/sap-ariba-search'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5919f2315a6a4ba9'
    }
    termsOfServiceUrl: '/tos'
    isCurrent: true
    apiVersion: 'v0.1'
    apiVersionSetId: service_uniperapis_dev_name_92bdd5f7_2c5e_4173_9070_3ce9ae0c46dd.id
  }
}

resource service_uniperapis_dev_name_sap_ariba_slp_supplier_data_v40 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ariba-slp-supplier-data-v40'
  properties: {
    displayName: 'SAP Ariba SLP Supplier Data'
    apiRevision: '1'
    description: 'Using this API, you can create a client application to retrieve supplier data from your SAP Ariba Supplier Lifecycle and Performance or SAP Ariba Supplier Information and Performance Management (new architecture) solution, including supplier names, addresses, registration, qualification, and preferred statuses, and questionnaire details.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-cededb356fcc48e2'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-cededb356fcc48e2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-cededb356fcc48e2'
    }
    isCurrent: true
    apiVersion: 'v4.0'
    apiVersionSetId: service_uniperapis_dev_name_3e45669d_fe78_4e7e_b25b_9d1887728b1a.id
  }
}

resource service_uniperapis_dev_name_sap_btp_procurement_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp-procurement-v10'
  properties: {
    displayName: 'ProcurementChatbot API'
    apiRevision: '1'
    description: 'Procurement Chatbot API\n## Entity Data Model\n![ER Diagram](https://yuml.me/diagram/class/[PurchaseRequisitions{bg:dodgerblue}]++-*>[PurchaseRequisitions],[PurchaseRequisitionItems{bg:dodgerblue}]++-*>[PurchaseRequisitionItems],[PurchaseRequisitions{bg:orange}],[PurchaseRequisitions]-0..1>[PurchaseRequisitionItems{bg:orange}],[PurchaseRequisitionItems{bg:orange}])\n\n### Legend\n![Legend](https://yuml.me/diagram/plain;dir:TB;scale:60/class/[External.Type{bg:whitesmoke}],[ComplexType],[EntityType{bg:orange}],[EntitySet/Singleton/Operation{bg:dodgerblue}])'
    subscriptionRequired: true
    serviceUrl: 'https://uni-apps-dev-75dzolr7-procurementchatbotapi-procurement26e0036c.cfapps.eu20-001.hana.ondemand.com/odata/v4/procurement-chatbot/'
    path: 'api/ex/ProcurementChatbotAPI'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'btp-oath-sp'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'btp-oath-sp'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-48cdd56a2d5d42a4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6f2bb988_6f36_44d1_8cf1_c729206d00e0.id
  }
}

resource service_uniperapis_dev_name_sap_btp_procurement_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-btp-procurement-v20'
  properties: {
    displayName: 'ProcurementChatbot API'
    apiRevision: '1'
    description: 'Procurement Chatbot API\n## Entity Data Model\n![ER Diagram](https://yuml.me/diagram/class/[PurchaseRequisitions{bg:dodgerblue}]++-*>[PurchaseRequisitions],[PurchaseRequisitionItems{bg:dodgerblue}]++-*>[PurchaseRequisitionItems],[PurchaseRequisitions{bg:orange}],[PurchaseRequisitions]-0..1>[PurchaseRequisitionItems{bg:orange}],[PurchaseRequisitionItems{bg:orange}])\n\n### Legend\n![Legend](https://yuml.me/diagram/plain;dir:TB;scale:60/class/[External.Type{bg:whitesmoke}],[ComplexType],[EntityType{bg:orange}],[EntitySet/Singleton/Operation{bg:dodgerblue}])'
    subscriptionRequired: true
    serviceUrl: 'https://uni-apps-dev-75dzolr7-procurementchatbotapi-procurement26e0036c.cfapps.eu20-001.hana.ondemand.com/odata/v4/procurement-chatbot/'
    path: 'api/ProcurementChatbotAPI'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-48cdd56a2d5d42a4'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_6f2bb988_6f36_44d1_8cf1_c729206d00e0.id
  }
}

resource service_uniperapis_dev_name_sap_cpi011_sailpoint_legallocations_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-cpi011_sailpoint_legallocations-v10'
  properties: {
    displayName: 'SAP CPI011_SailPoint_LegalLocations'
    apiRevision: '1'
    description: 'SAP CPI interface to retrieve legal locations data in JSON format from SailPoint via REST API and send to SAP PGC after conversion.'
    subscriptionRequired: true
    serviceUrl: 'https://myidentity.uniper.energy/locations-rest/REST/objects'
    path: 'api/sap_sp_legal'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b1bbb69ca0674bb0'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a7aba18f_0ae8_4891_89cd_ebaf9a7a07a3.id
  }
}

resource service_uniperapis_dev_name_sap_cpi650_logicapp_cr_status_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-cpi650_logicapp_cr_status-v10'
  properties: {
    displayName: 'SAP CPI650_LogicAPP_CR_Status'
    apiRevision: '1'
    description: 'Interface for transferring Change Requests (CR) status (planning to be estimated & DXC VROOM tick & Not duplicate) data from the Solman system (PSU) to the LogicApp application. Data will be pushed on the event when user do the action on Change Requests(CR).'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-8af4f19152bb47c8'
    path: 'api/cpi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8af4f19152bb47c8'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b0b59273_a80f_4c0b_af14_83731706ea2b.id
  }
}

resource service_uniperapis_dev_name_sap_deal_transfer_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-deal-transfer-v10'
  properties: {
    displayName: 'SAP-Deal-Transfer'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'http://localhost:8080/sapinbound/SAPDealTransfer'
    path: 'api/sap-request'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-57e23a4d558e47a9'
    }
    type: 'soap'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_90958b2d_a9f0_4158_88b9_ef89fdc076d3.id
  }
}

resource service_uniperapis_dev_name_sap_ice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ice-v10'
  properties: {
    displayName: 'SAP ICE'
    apiRevision: '1'
    description: '<p>You can find the OAuth2 documentation here. Every request has to be authenticated with the access token flow. The token needs to be added as Bearer token.</p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZFI_ICE_SRV;v=1;mo/'
    path: 'api/sap-ice'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6f7f946231d84b6e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_394593e4_b8de_47d4_bc78_5fe6180f1fb3.id
  }
}

resource service_uniperapis_dev_name_sap_is_u_p68_tipware_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-p68-tipware-v10'
  properties: {
    displayName: 'SAP IS-U P68 TIPWARE'
    apiRevision: '1'
    description: 'Tipware (external vendor) pushes data like business partners to SAP IS-U P68. Access comes from outside Uniper Corporate Network. Interface needs to be made available through external APIM gateway to enable public internet access.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-d4048495f2b840b0'
    path: 'api/PremiseSet'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d4048495f2b840b0'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b85c8c9f_419a_4f84_81f7_56256dee725f.id
  }
}

resource service_uniperapis_dev_name_sap_is_u_x63_aiolos_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-x63-aiolos-v10'
  properties: {
    displayName: 'SAP IS-U X63-AIOLOS'
    apiRevision: '1'
    description: 'Inbound web service for importing forecast data for imbalance management.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-0ddd1eea02b040d2'
    path: 'api/sapisu-forecast'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0ddd1eea02b040d2'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e821bb6f_7088_44bb_b1db_62ef712ad641.id
  }
}

resource service_uniperapis_dev_name_sap_is_u_x63_mako_inbound_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-is-u-x63-mako-inbound-v10'
  properties: {
    displayName: 'SAP IS-U X63-MaKo Inbound'
    apiRevision: '1'
    description: 'The SAP IS-U IDOC service., direction = inbound\nUPX/Iteraplan ref:3741'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly'
    path: 'api/sapisu-x63-idoc'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e51507b16e8b4599'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_dff00587_c4f7_4400_a8e2_1856a8fed0e9.id
  }
}

resource service_uniperapis_dev_name_sap_lmra_maintenance_order_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-lmra-maintenance-order-v10'
  properties: {
    displayName: 'SAP LMRA MAINTAINENANCE ORDER'
    apiRevision: '1'
    description: 'API used by the SAP LMRA application'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com/odata/SAP/ZPM_RAORDER_SRV;v=1'
    path: 'api/sap-lmra'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8497cdf9450a443c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_9cfe0413_7985_4c48_8ac6_be6ad8f64415.id
  }
}

resource service_uniperapis_dev_name_sap_pr_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-pr-v10'
  properties: {
    displayName: 'Service for namespace Procurement-Chatbot'
    apiRevision: '1'
    description: 'This service is located at [https://services.OData.org/service-root/](https://services.OData.org/service-root/)\n\n## Entity Data Model\n![ER Diagram](https://yuml.me/diagram/class/[PurchaseRequisitions{bg:dodgerblue}]++-*>[PurchaseRequisitions],[PurchaseRequisitionItems{bg:dodgerblue}]++-*>[PurchaseRequisitionItems],[PurchaseRequisitions{bg:orange}],[PurchaseRequisitions]-0..1>[PurchaseRequisitionItems{bg:orange}],[PurchaseRequisitionItems{bg:orange}])\n\n### Legend\n![Legend](https://yuml.me/diagram/plain;dir:TB;scale:60/class/[External.Type{bg:whitesmoke}],[ComplexType],[EntityType{bg:orange}],[EntitySet/Singleton/Operation{bg:dodgerblue}])'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-20fcbe641f3d4437'
    path: 'api/ProcurementChatbotSAP'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-20fcbe641f3d4437'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3cb8d912_2c4c_4b0d_affc_7b099296baab.id
  }
}

resource service_uniperapis_dev_name_sap_ps_ntwkactvtstatchg_srv_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ps_ntwkactvtstatchg_srv-v10'
  properties: {
    displayName: 'SAP PS_NTWKACTVTSTATCHG_SRV'
    apiRevision: '1'
    description: '<p>Network Activity Status Change</p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/PS_NTWKACTVTSTATCHG_SRV;v=1;'
    path: 'api/sap-ntwk-actvt-stat-chg'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-eb419e42fe414d7d'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_960c0c48_5a36_471a_98cf_e0feee4f6d9b.id
  }
}

resource service_uniperapis_dev_name_sap_ps_wbselementstatuschange_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-ps_wbselementstatuschange-v10'
  properties: {
    displayName: 'SAP PS_WBSELEMENTSTATUSCHANGE'
    apiRevision: '1'
    description: '<p>WBS Element Status Change</p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/PS_WBSELEMENTSTATUSCHANGE_SRV;v=1;'
    path: 'api/sap-wbs-element-stat-chg'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e3a9c3093f6b4f11'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d6417f13_7672_4499_b769_a67631ee3249.id
  }
}

resource service_uniperapis_dev_name_sap_sales_contracts_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-sales_contracts-v10'
  properties: {
    displayName: 'Sap Sales Contract'
    apiRevision: '1'
    description: '<p>You can find the OAuth2 documentation <a href="https://prodeu3devportalapimgmtpeu3-eg8ph27nx8.eu3.hana.ondemand.com/product/APIPortal/api/oauthService/resource" rel="nofollow">here</a>. Every request has to be authenticated with the access token flow. The token needs to be added as Bearer token.</p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZUES_SALES_CONTRACT_SRV;v=1;'
    path: 'api/sap-sales-contract'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0680c0207d124a1b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_75c76cba_fc0c_40a1_ad65_f28e8da65f81.id
  }
}

resource service_uniperapis_dev_name_sap_sf_jobboard_api_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-sf-jobboard-api-v20'
  properties: {
    displayName: 'SAP SF-JobBoard API'
    apiRevision: '1'
    description: 'We want to expose a limited set of job requisition data to an external jobboard (ForSuxess) via the standard SAP SuccessFactors ODATA API to make job offers visible to external applicants. ForSuxess sends a query to this ODATA API. At the moment to many unnecessary fields are returned which causes dataprotection problems.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-7155cc858b934172'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-7155cc858b934172'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7155cc858b934172'
    }
    type: 'odata'
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_a6ee0718_4875_45aa_8439_49425c1996b3.id
  }
}

resource service_uniperapis_dev_name_sap_supplier_notification_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-supplier-notification-v10'
  properties: {
    displayName: 'SAP Supplier Notification'
    apiRevision: '1'
    description: '<p>oData Service supplier evaluation</p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZNOTIFICATION_SRV;v=1;'
    path: 'api/sap-supplier-notification'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-85f0ac6e8aff46b7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0fb27de2_8b66_447d_bfcb_3fa8dbe49d9d.id
  }
}

resource service_uniperapis_dev_name_sap_zcats_wbs_employee_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-zcats_wbs_employee-v10'
  properties: {
    displayName: 'SAP ZCATS_WBS_EMPLOYEE'
    apiRevision: '1'
    description: '<p></p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZCATS_WBS_EMPLOYEE_SRV;v=1;'
    path: 'api/sap-cats-wbs-employee'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-85e8b6e133494a17'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_823c179f_76c7_42f8_8204_f53da484eb92.id
  }
}

resource service_uniperapis_dev_name_sap_zco_wbs_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-zco_wbs-v10'
  properties: {
    displayName: 'SAP ZCO_WBS'
    apiRevision: '1'
    description: '<p></p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZCO_WBS_SRV;v=1;'
    path: 'api/sap-wbs'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7daeafab2fc84be5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_00317a45_9975_441a_a5d6_555838fa59c3.id
  }
}

resource service_uniperapis_dev_name_sap_zebi_billing_doc_srv_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-zebi_billing_doc_srv-v10'
  properties: {
    displayName: 'SAP ZEBI_BILLING_DOC_SRV'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZEBI_BILLING_DOC_SRV;v=1;'
    path: 'api/sap-zebi-billing'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-603e4237ce8c4fa9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_85ec729e_a22a_4589_96ff_47b882ec035b.id
  }
}

resource service_uniperapis_dev_name_sap_zfi_exchange_rate_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-zfi_exchange_rate-v10'
  properties: {
    displayName: 'SAP ZFI_EXCHANGE_RATE_SRV'
    apiRevision: '1'
    description: '<p></p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZFI_EXCHANGE_RATE_SRV;v=1;'
    path: 'api/sap-exchange-rate'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-88493b101b404bc5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_57de8d10_ed91_4918_9c75_0d8f3e5efec6.id
  }
}

resource service_uniperapis_dev_name_sap_zlord_my_quotation_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sap-zlord_my_quotation-v10'
  properties: {
    displayName: 'SAP ZLORD_MY_QUOTATION_SRV'
    apiRevision: '1'
    description: '<p></p>'
    subscriptionRequired: true
    serviceUrl: 'https://gwaas-eg8ph27nx8.eu3.hana.ondemand.com:443/odata/SAP/ZLORD_MY_QUOTATION_SRV;v=1;'
    path: 'api/sap-my-quotation'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5bfcd76f661746b0'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e7b28f1d_41e7_4065_9905_dfbd29ad9e55.id
  }
}

resource service_uniperapis_dev_name_seeburgeras4_neon_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburgeras4-neon-v10'
  properties: {
    displayName: 'SeeburgerAS4-NEON'
    apiRevision: '1'
    description: 'TSO responses will be forwarded to NEON application from Seeburger AS4 rest end point'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-108f67f5a667457e'
    path: 'api/seeburgeras4-neon'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-108f67f5a667457e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_676c4e7d_ac8d_41eb_b036_c82de947b7cd.id
  }
}

resource service_uniperapis_dev_name_seeburger_e_invoicing_x63_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-e-invoicing_x63-v10'
  properties: {
    displayName: 'Seeburger E-Invoicing_x63'
    apiRevision: '1'
    description: 'Send E-Invoicing messages to from x63 to Seeburger'
    subscriptionRequired: true
    serviceUrl: 'https://msg-api.seeburger.cloud:443/mbr/msgs'
    path: 'api/seeburger-e-invoicing-x63'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a50188957705475c'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5ac848b6_6277_4cd9_a8df_29de217bfed2.id
  }
}

resource service_uniperapis_dev_name_seeburger_e_invoicing_x68_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-e-invoicing_x68-v10'
  properties: {
    displayName: 'Seeburger E-Invoicing_x68'
    apiRevision: '1'
    description: 'Send E-Invoicing messages from x68 to Seeburger.'
    subscriptionRequired: true
    serviceUrl: 'https://msg-api.seeburger.cloud:443/mbr/msgs'
    path: 'api/seeburger-e-invoicing-x68'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8db1239e34ac4035'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_598f273c_07e9_4225_8a9a_079925da4337.id
  }
}

resource service_uniperapis_dev_name_seeburger_x63_mako_outbound_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'seeburger-x63-mako-outbound-v10'
  properties: {
    displayName: 'Seeburger x63-MaKo Outbound'
    apiRevision: '1'
    description: 'Seeburger\'s MaKo Cloud for outbound market communication'
    subscriptionRequired: true
    serviceUrl: 'https://msg-api.seeburger.cloud/mako/msgs'
    path: 'api/seeburger-makocloud'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-eb5dccda477a418f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_987773ef_aef2_446f_a3ff_9eb17bf82e9d.id
  }
}

resource service_uniperapis_dev_name_servicenow_attachment_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-attachment-v10'
  properties: {
    displayName: 'ServiceNow-Attachment'
    apiRevision: '1'
    description: 'The API allows you to search for and upload attachments.'
    subscriptionRequired: true
    serviceUrl: 'https://unipertest.service-now.com/api/now'
    path: 'api/servicenow-attachment'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-cc0b1f4fbc33487e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c6b896d2_7815_4cc5_9fe3_65637411253e.id
  }
}

resource service_uniperapis_dev_name_servicenow_catalog_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-catalog-v10'
  properties: {
    displayName: 'ServiceNow-Catalog'
    apiRevision: '1'
    description: 'The Service Catalog API provides endpoints that access Service Catalog configuration and actions from within a Service Portal.'
    subscriptionRequired: true
    serviceUrl: 'https://unipertest.service-now.com/api/sn_sc/servicecatalog'
    path: 'api/servicenow-catalog'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6afd4ddaa0cc4b42'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1ae50093_80db_4937_8403_e18497a288ee.id
  }
}

resource service_uniperapis_dev_name_servicenow_tableapi_10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-tableapi-10'
  properties: {
    displayName: 'ServiceNow-TableAPI'
    apiRevision: '2'
    description: 'The API allows you to search for and create incidents and search for users and groups in the platform.'
    subscriptionRequired: true
    serviceUrl: 'https://unipertest.service-now.com/api/now/table'
    path: 'api/servicenow-tableapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-057db514e4da4326'
    }
    isCurrent: true
    apiRevisionDescription: 'Fix to user KB'
    apiVersion: '1.0'
    apiVersionSetId: service_uniperapis_dev_name_173cfdea_fdfc_4134_965b_53b7834b088a.id
  }
}

resource service_uniperapis_dev_name_servicenow_tableapi_10_rev_1 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-tableapi-10;rev=1'
  properties: {
    displayName: 'ServiceNow-TableAPI'
    apiRevision: '1'
    description: 'The API allows you to search for and create incidents and search for users and groups in the platform.'
    subscriptionRequired: true
    serviceUrl: 'https://unipertest.service-now.com/api/now/table'
    path: 'api/servicenow-tableapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-057db514e4da4326'
    }
    apiVersion: '1.0'
    apiVersionSetId: service_uniperapis_dev_name_173cfdea_fdfc_4134_965b_53b7834b088a.id
  }
}

resource service_uniperapis_dev_name_servicenow_tableapi_20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'servicenow-tableapi-20'
  properties: {
    displayName: 'ServiceNow-TableAPI'
    apiRevision: '1'
    description: 'The API allows you to search for and create incidents and search for users and groups in the platform.'
    subscriptionRequired: true
    serviceUrl: 'https://unipertest.service-now.com/api/now/table'
    path: 'api/servicenow-tableapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-057db514e4da4326'
    }
    isCurrent: true
    apiRevisionDescription: 'Fix to user KB'
    apiVersion: '2.0'
    apiVersionSetId: service_uniperapis_dev_name_173cfdea_fdfc_4134_965b_53b7834b088a.id
  }
}

resource service_uniperapis_dev_name_sharepoint_business_process_automation_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sharepoint-business-process-automation-v10'
  properties: {
    displayName: 'SharePoint-Business-Process-Automation'
    apiRevision: '1'
    description: 'SharePoint process automation for logic apps and Azure Functions'
    subscriptionRequired: true
    serviceUrl: 'https://fa-weu-dev-sharedsp-01.azurewebsites.net/api'
    path: 'api/ex/sharepointautomation'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5247fbd085264c52'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_8ca8aa06_1782_431c_b20e_ed4ee44c621d.id
  }
}

resource service_uniperapis_dev_name_slowreserve_neso_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'slowreserve-neso-api-v10'
  properties: {
    displayName: 'SlowReserve-NESO-API'
    apiRevision: '1'
    description: 'Fetching the auction results of slow reserve from NESO API'
    subscriptionRequired: true
    serviceUrl: 'https://api.neso.energy//api/3/action/'
    path: 'api/nesoslowreserve'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c3ac3e6b0f0a4542'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_79bc0cf8_e4d4_40d7_b06f_ab2486681793.id
  }
}

resource service_uniperapis_dev_name_slowreserve_neso_eacapi_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'slowreserve-neso-eacapi-v10'
  properties: {
    displayName: 'SlowReserve-NESO-EACAPI'
    apiRevision: '1'
    description: 'Fetching the auction results of slow reserve from National Energy System Operator(NESO) API.'
    subscriptionRequired: true
    serviceUrl: 'https://sandbox.eac.neso.production.n-side.com/market-participant/api/graphql'
    path: 'api/ex/neso-eac'
    protocols: [
      'https'
      'wss'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'c532ebf1d9ac4a0a9bb262305a86729f'
    }
    type: 'graphql'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6895a6bf3d68a9c1a2223c78.id
  }
}

resource service_uniperapis_dev_name_snakeapi_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snakeapi-v10'
  properties: {
    displayName: 'SnakeApi'
    apiRevision: '1'
    description: 'It is used to process the nominational- processing for monthly and Endur file in snake application.'
    subscriptionRequired: true
    serviceUrl: 'https://snakedevapi.uniperapps.com/api/v1.0'
    path: 'snakeapi'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-3304e042452e4d76'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_dba8cefd_93f8_4ec1_a4d6_9cfd4e2f3555.id
  }
}

resource service_uniperapis_dev_name_snakeapi_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snakeapi-v20'
  properties: {
    displayName: 'SnakeApi'
    apiRevision: '1'
    description: 'It is used to process the nominational processing for monthly and endur file in PRISM application.'
    subscriptionRequired: true
    serviceUrl: 'https://app-weu-dev-snakeapi-01.azurewebsites.net/api/int/snake/v2.0'
    path: 'api/int/snake'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8fb30af0189a4e8a'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_dba8cefd_93f8_4ec1_a4d6_9cfd4e2f3555.id
  }
}

resource service_uniperapis_dev_name_snowflake_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'snowflake-v10'
  properties: {
    displayName: 'Snowflake'
    apiRevision: '1'
    description: 'Snowflake connector based on Snowflake REST API.<br/><br/><b>User authentication is required</b> to use this API you need to provide an Azure authorisation token from your client application. This requires an application registration in Azure AD with the required API permissions. You must add the permission "Snowflake West Europe OAuth Resource -> session:role-any". When you request your token you must also provide the scope "https://uniper.onmicrosoft.com/945e244d-b5ea-4b33-9231-ed9737c5f124/session:role-any".<br/><br/>The APIM developer portal has been configured like this, as an example and so you can test the API in the portal.<br/><br/>Once you have your token, you can provide it in standard way as a Bearer token in the Authorization header. <b>Please note, Snowflake is case sensitive and expects the header to contain "Bearer" with the capital "B". The APIM portal uses a lowercase "b" so you will need to change this when using the "Try it" option.</b><br/><br/>More details can be found in the Snowflake documentation here; <a href="https://docs.snowflake.com/en/developer-guide/sql-api/guide.html">https://docs.snowflake.com/en/developer-guide/sql-api/guide.html</a>'
    subscriptionRequired: true
    serviceUrl: 'https://uniper.west-europe.azure.snowflakecomputing.com/api/statements'
    path: 'api/snowflake'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'snowflake'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'snowflake'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-08e3b951ac4146e2'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e63fa52c_2b2f_4c1e_9422_c00c197a9e80.id
  }
}

resource service_uniperapis_dev_name_sos_berlin_job_chains_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sos-berlin-job-chains-v10'
  properties: {
    displayName: 'SOS Berlin - Job Reporting'
    apiRevision: '1'
    description: 'The JobScheduler is a workload automation product developed by SOS GmbH. The application is used to launch scheduling objects, such as jobs, job chains and orders, when time, file or calendar events occur. It supports simple to complex scheduling scenarios and is available with open source and commercial licenses.\n\nThis API is designed to allow reporting on Unipers central SOS Berlin service.'
    subscriptionRequired: true
    serviceUrl: 'https://sosberlindev.azure.uniper.energy/joc/api/'
    path: 'api/sos-berlin-reporting'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-1f167ebce4ba4af5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d95181ff_2505_4e75_9797_367f4cb3c5ef.id
  }
}

resource service_uniperapis_dev_name_sos_berlin_jobscheduler_v113 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sos-berlin-jobscheduler-v113'
  properties: {
    displayName: 'SOS Berlin Job Scheduler API'
    apiRevision: '1'
    description: 'SOS Berlin JobScheduler Full API access\n'
    subscriptionRequired: true
    serviceUrl: 'https://sosberlindev.azure.uniper.energy/'
    path: 'api/sos-berlin-jobscheduler'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-73dacfa407274896'
    }
    isCurrent: true
    apiVersion: 'v1.13'
    apiVersionSetId: service_uniperapis_dev_name_7bb7396b_91b6_4025_9d5a_c069bd437103.id
  }
}

resource service_uniperapis_dev_name_starcb_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'starcb-v10'
  properties: {
    displayName: 'StarCB v1.0'
    apiRevision: '1'
    description: 'The SCB API is based on REST, has resource oriented URIs, returns JSON or CSV encoded responses and standard HTTP response codes.\nNote - case does not matter when passing values or parameters (e.g. format=csv and FORMAT=Csv will both work)'
    subscriptionRequired: true
    serviceUrl: 'https://api.starcb.com'
    path: 'api/starcb'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5ab3c70034a24983'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2b601eea_19c8_48fd_8b73_36a7e81da6d3.id
  }
}

resource service_uniperapis_dev_name_stp_reporting_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'stp-reporting-v10'
  properties: {
    displayName: 'Sales-Trading-Portal-Reporting'
    apiRevision: '1'
    description: 'Interface to query requests from the Sales Trading Portal for reporting purposes.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/sales-trading-portal-reporting/v1.0'
    path: 'api/sales-trading-portal-reporting'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-39205b39a94b48cc'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a66f6c41_6047_4384_831a_b883a8bdfd70.id
  }
}

resource service_uniperapis_dev_name_sync_master_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'sync-master-v10'
  properties: {
    displayName: 'sync master'
    apiRevision: '1'
    description: 'this API will use by sync master team to get data from kafka topic'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-a9b9611921a6404d'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-a9b9611921a6404d'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a9b9611921a6404d'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6c6f1170_db34_429f_b9bc_2903f76e1817.id
  }
}

resource service_uniperapis_dev_name_tableau_management_portal_v21 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tableau-management-portal-v21'
  properties: {
    displayName: 'Tableau Management Portal v2.1'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://modify-apiwebserviceurl-accordingly-0ed23ee48d1e4ab9'
    path: 'api/Tableau'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-0ed23ee48d1e4ab9'
    }
    isCurrent: true
    apiVersion: 'v2.1'
    apiVersionSetId: service_uniperapis_dev_name_b9905df3_eec8_490b_bdbc_ac14ccf93354.id
  }
}

resource service_uniperapis_dev_name_tagetik_odatauniper_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tagetik-odatauniper-v10'
  properties: {
    displayName: 'tagetik-odatauniper'
    apiRevision: '1'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-537a3e7cbb834886'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-537a3e7cbb834886'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-537a3e7cbb834886'
    }
    type: 'odata'
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_17876548_8acc_4543_ae5c_f9b03dbf2175.id
  }
}

resource service_uniperapis_dev_name_tempo2_atom_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tempo2-atom-v10'
  properties: {
    displayName: 'tempo2-atom'
    apiRevision: '1'
    description: 'get snowflake data'
    subscriptionRequired: true
    serviceUrl: 'https://getsnowflakedata.azurewebsites.net/api/'
    path: 'api/atom-tempo2'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-740c9b45be214adf'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ae8da39b_87b5_4e8c_891b_5d9931a3e20d.id
  }
}

resource service_uniperapis_dev_name_tempora_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tempora-api-v10'
  properties: {
    displayName: 'Tempora API'
    apiRevision: '1'
    description: 'An API for storing and retrieving time series data.\n'
    subscriptionRequired: true
    serviceUrl: 'https://tempora-etl-ennea-dev.ctg.weu.containerapps.uniper.energy'
    path: 'api/tempora-etl-ennea'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscriptionKey'
    }
    isCurrent: true
    apiVersion: 'v1.1'
    apiVersionSetId: service_uniperapis_dev_name_759cb136_b44e_4140_afed_45e03184a62d.id
  }
}

resource service_uniperapis_dev_name_thehive_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'thehive-api-v10'
  properties: {
    displayName: 'TheHive-API'
    apiRevision: '1'
    description: 'This API is used to expose specific TheHive APIs, a case management system used by CDC.'
    subscriptionRequired: true
    serviceUrl: 'https://cdc-tools-uat.intranet.uniper.energy/hive/'
    path: 'api/thehive'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-dafff04e064e4973'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b2af3015_954c_41ba_912a_075520be4584.id
  }
}

resource service_uniperapis_dev_name_timebase_connector_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'timebase-connector-v10'
  properties: {
    displayName: 'timebase-connector'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    path: 'api/kafka-poc'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-3e6668e0deca48ee'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a5b17a0c_ef20_4937_9331_79aff66b8561.id
  }
}

resource service_uniperapis_dev_name_tpm_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tpm-v10'
  properties: {
    displayName: 'TPM'
    apiRevision: '1'
    description: 'This API is used for tpm-v1.0'
    subscriptionRequired: true
    serviceUrl: 'https://genevamanager-dev-api.asev2-uni-npd-001.appserviceenvironment.net'
    path: 'tpm'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: '95fcadfa9f5f4b47bc04fcce4dea8fbb'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_4743b27c_f5e9_4adb_b9db_c23959d39e2b.id
  }
}

resource service_uniperapis_dev_name_tpm_v20 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tpm-v20'
  properties: {
    displayName: 'TPM'
    apiRevision: '1'
    description: 'Create a new version of TPM API version 2.0'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-c2289f5b42ac4c5b'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-c2289f5b42ac4c5b'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c2289f5b42ac4c5b'
    }
    isCurrent: true
    apiVersion: 'v2.0'
    apiVersionSetId: service_uniperapis_dev_name_4743b27c_f5e9_4adb_b9db_c23959d39e2b.id
  }
}

resource service_uniperapis_dev_name_treasuryintelligencesolutions_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'treasuryintelligencesolutions-v10'
  properties: {
    displayName: 'TreasuryIntelligenceSolutions'
    apiRevision: '1'
    description: 'Managing of  the API endpoint.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-e73de9d57d084e85'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-e73de9d57d084e85'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e73de9d57d084e85'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3d28baf0_b20f_4c1d_b828_85eeae0c1a7e.id
  }
}

resource service_uniperapis_dev_name_tufin_ip_decommission_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-ip-decommission-api-v10'
  properties: {
    displayName: 'Tufin-IP-Decommission-API'
    apiRevision: '1'
    description: 'Tufin SecureChange IP Decommission API'
    subscriptionRequired: true
    serviceUrl: 'https://tufin.intranet.uniper.energy/'
    path: 'api/sc'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'tufin-decomm'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'tufin-decomm'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-ffb67559b99c421f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e9978f9b_353b_499c_9d02_e4e8a12efe05.id
  }
}

resource service_uniperapis_dev_name_tufin_securechange_processreporting_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-securechange-processreporting-api-v10'
  properties: {
    displayName: 'Tufin-SecureChange-ProcessReporting-API'
    apiRevision: '1'
    description: 'Tufin Process Reporting For FW Team'
    subscriptionRequired: true
    serviceUrl: 'https://tufin.intranet.uniper.energy/'
    path: 'api/sc-reporting'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'tufin-get-well-connector-sp'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'tufin-get-well-connector-sp'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f2ed97d8b2e84581'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0200f50d_389e_44ee_bb06_10430f41811a.id
  }
}

resource service_uniperapis_dev_name_tufin_vulnerabilitymitigation_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'tufin-vulnerabilitymitigation-api-v10'
  properties: {
    displayName: 'Tufin-VulnerabilityMitigation-API'
    apiRevision: '1'
    description: 'Tufin API for Vulnerability Mitigation app.\n07.10.24: Get Qualys Data into Tufin for VMA'
    subscriptionRequired: true
    serviceUrl: 'https://tufin.intranet.uniper.energy/'
    path: 'api/tos-vma'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2: {
        authorizationServerId: 'tufin-vma'
      }
      oAuth2AuthenticationSettings: [
        {
          authorizationServerId: 'tufin-vma'
        }
      ]
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f158f8ba407a4044'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_83dced63_5bf9_4d18_9a2c_31e9d9a16422.id
  }
}

resource service_uniperapis_dev_name_ues_business_partner_service_frame_contracts_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-business-partner-service-frame-contracts-write-v10'
  properties: {
    displayName: 'UES-Business-Partner-Service-Frame-Contracts-Write'
    apiRevision: '1'
    description: 'UES Business Partner Service interface to write frame contracts'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-business-partner-service-frame-contracts-write/v1.0'
    path: 'api/ues-business-partner-service-frame-contracts-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-5bcbbf81013646c1'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d2697223_f708_4e16_a2d0_b09ac8fdc9a2.id
  }
}

resource service_uniperapis_dev_name_ues_business_partner_service_master_data_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-business-partner-service-master-data-read-v10'
  properties: {
    displayName: 'UES-Business-Partner-Service-Master-Data-Read'
    apiRevision: '1'
    description: 'UES Business Partner Service interface to read master data'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-business-partner-service-master-data-read/v1.0'
    path: 'api/ues-business-partner-service-master-data-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-4963b500d5354e7b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_dc2e17ee_7333_4c68_b71f_a787ddfa9b0d.id
  }
}

resource service_uniperapis_dev_name_ues_co2_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-co2-service-v10'
  properties: {
    displayName: 'UES CO2 Service'
    apiRevision: '1'
    description: 'From 2026, the distributor of fuels must take care of the procurement of corresponding amounts of CO2 certificates. To process these transactions, a system is required that provides the data basis for the customer view in Uniper Digital on the one hand and supplies the downstream systems (e.g. IS-U) accordingly on the other.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-9ab88cdad9e74709'
    path: 'api/ues-co2-service-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-9ab88cdad9e74709'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_226c60fa_def1_408e_989b_f9a54f9c7352.id
  }
}

resource service_uniperapis_dev_name_ues_credit_risk_service_credit_report_document_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-credit-risk-service-credit-report-document-read-v10'
  properties: {
    displayName: 'UES-Credit-Risk-Service-Credit-Report-Document-Read'
    apiRevision: '1'
    description: 'Provides a static credit report document'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-45663a8dad344de4'
    path: 'api/ues-credit-risk-service-credit-report-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-45663a8dad344de4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_62d75653_338e_4ece_8d46_c90a4e2ae557.id
  }
}

resource service_uniperapis_dev_name_ues_credit_risk_service_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-credit-risk-service-write-v10'
  properties: {
    displayName: 'UES Credit Risk Service Write'
    apiRevision: '1'
    description: 'An API for the Credit Check Service with write permissions.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-63a05309ae6149bd'
    path: 'api/ues-credit-risk-service-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-63a05309ae6149bd'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_22ce696f_5eaa_40f7_a804_f1ba3f59915e.id
  }
}

resource service_uniperapis_dev_name_ues_email_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-email-service-v10'
  properties: {
    displayName: 'UES-Email-Service'
    apiRevision: '1'
    description: 'UES Email Service'
    subscriptionRequired: true
    serviceUrl: 'https://api.sendgrid.com/v3/mail/send'
    path: 'api/ues-email-service'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6d001c10_fbe9_40b6_9d78_1afe0e8029cd.id
  }
}

resource service_uniperapis_dev_name_ues_enmacc_read_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-enmacc-read-service-v10'
  properties: {
    displayName: 'UES-Enmacc-Read-Service'
    apiRevision: '1'
    description: 'Expose Masterdata to other systems, for example Sales Portal.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-de7c575b49dc45a5'
    path: 'api/enmacc-service-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-de7c575b49dc45a5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5775d6c1_60a7_4cd1_be01_9954033b4e0a.id
  }
}

resource service_uniperapis_dev_name_ues_ilp_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-ilp-v10'
  properties: {
    displayName: 'UES ILP'
    apiRevision: '1'
    description: 'Connection to UES ILP (initial load curve prognosis) to calculate load curves based on historical data.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-29182eb3068342dc'
    path: 'api/ex/ues-ilp-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-29182eb3068342dc'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2a923611_9f2b_4d31_b576_02d630c17ae3.id
  }
}

resource service_uniperapis_dev_name_ues_lhgas_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-lhgas-read-v10'
  properties: {
    displayName: 'UES-LHGas-Read'
    apiRevision: '1'
    description: 'Right now, information from the LH Gas Service outside of the Pegasus Gas Cluster is mostly relevant for Sales Data. However, there might be other stakeholders for this product in the future.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-lhgas-read/v1.0'
    path: 'api/ues-lhgas-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-fb815c7a5b914219'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f73c605b_9c67_4804_a674_9a213c410641.id
  }
}

resource service_uniperapis_dev_name_ues_loadcurve_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-loadcurve-service-v10'
  properties: {
    displayName: 'UES-Loadcurve-Service'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-loadcurve/v1.0'
    path: 'api/ues-loadcurve'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-f672994188e54366'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_091f3ee7_5742_4bb3_a2b3_11d9a2d7a89f.id
  }
}

resource service_uniperapis_dev_name_ues_pegasusgas_read_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-pegasusgas-read-v10'
  properties: {
    displayName: 'UES-PegasusGas-Read'
    apiRevision: '1'
    description: 'All Read API Endpoints for the Pegasus Gas Service'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-pegasusgas-read/v1.0'
    path: 'api/ues-pegasusgas-read'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b6c2204f4e4e420a'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_94d274f0_851a_4171_939a_283e68d4ffa4.id
  }
}

resource service_uniperapis_dev_name_ues_pegasusgas_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-pegasusgas-write-v10'
  properties: {
    displayName: 'UES-PegasusGas-Write'
    apiRevision: '1'
    description: 'Schreibzugriff auf Pegasus Gas'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/ues-pegasusgas-write/v1.0'
    path: 'api/ues-pegasusgas-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d6173b8aec5d4ee2'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_e854bd61_7d39_4732_9888_08761e6a6c5e.id
  }
}

resource service_uniperapis_dev_name_ues_pegasuspower_webservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-pegasuspower-webservice-v10'
  properties: {
    displayName: 'UES-PegasusPower-WebService'
    apiRevision: '1'
    description: 'API used for Pegasus Power Web service'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-87d816bfd7f14fd8'
    path: 'api/ues-pegasuspower-webservice'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-87d816bfd7f14fd8'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_3b603a03_11aa_4582_aee7_484506b7b84c.id
  }
}

resource service_uniperapis_dev_name_ues_price_service_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-price-service-v10'
  properties: {
    displayName: 'UES Price-Service'
    apiRevision: '1'
    description: 'Pricing Services of the sales trading portal to get the BestQuotes.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-a4b32b9f3b0a4d29'
    path: 'api/ex/price-service'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a4b32b9f3b0a4d29'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5bb91812_663c_4590_a732_c6b7046a4cfd.id
  }
}

resource service_uniperapis_dev_name_ues_sales_trading_portal_request_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-sales-trading-portal-request-write-v10'
  properties: {
    displayName: 'UES Sales Trading Portal Request Write'
    apiRevision: '1'
    description: 'To create and process API requests in the Sales Trading Portal.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-29582d28246d4347'
    path: 'api/ues-sales-trading-request-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-29582d28246d4347'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_06a1b1ee_d6cd_41f0_8f41_c5d27761e738.id
  }
}

resource service_uniperapis_dev_name_ues_shapemanger_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-shapemanger-v10'
  properties: {
    displayName: 'UES Shapemanger'
    apiRevision: '1'
    description: 'The shape manager is an microservie designed to store data for the sales trading activities of Uniper Energy Sales in the field of shape trading.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-7b5897fd844f4d0b'
    path: 'api/salesportal-shapemanager-api'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-7b5897fd844f4d0b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d8d90481_4bdf_4bf7_9d02_2ab5352334c0.id
  }
}

resource service_uniperapis_dev_name_ues_uniper_digital_write_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-uniper-digital-write-v10'
  properties: {
    displayName: 'UES Uniper Digital Write'
    apiRevision: '1'
    description: 'Write API for Uniper Digital'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-6e018dde59d24a33'
    path: 'api/ues-uniper-digital-write'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6e018dde59d24a33'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_edc2214e_7d40_4a14_9332_d6b629b536eb.id
  }
}

resource service_uniperapis_dev_name_ues_user_management_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ues-user-management-v10'
  properties: {
    displayName: 'UES-User-Management v1.0'
    apiRevision: '1'
    description: 'UES User Management'
    subscriptionRequired: true
    path: 'api/ues-user-management'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-64e058f183ec4a67'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_cd019cdb_0156_4454_8ab0_9c49245f32d8.id
  }
}

resource service_uniperapis_dev_name_ukloadfreq_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ukloadfreq-v10'
  properties: {
    displayName: 'ASCM-INT'
    apiRevision: '1'
    description: 'Ancillary Services are services provided by UK electricity suppliers to the UK TSO to ensure the security and quality of electricity supply across the UK transmission system. Each service is governed by a contract negotiated between the TSO and supplier. The terms of a contract determine the revenue due to the supplier for provision of a service and any penalties due to the TSO for breaches of the terms of the contract by the supplier.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-88ad2e8b52d047f3'
    path: 'api/ASCM-INT'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-88ad2e8b52d047f3'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_0616f887_a4c6_44a4_b9fc_e96baf814081.id
  }
}

resource service_uniperapis_dev_name_uk_usip_integration_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uk-usip-integration-v10'
  properties: {
    displayName: 'UK USIP Integration'
    apiRevision: '1'
    description: 'UK USIP Integration API is to create new operations for the uk connectors like Get operation on connectors to see connectors status, Post operation to create new connectors'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-520536d7fe5f4fec'
    path: 'api/uk-usip-integration'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-520536d7fe5f4fec'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6bcc2d54_e22b_419e_9dad_fa69b84c853f.id
  }
}

resource service_uniperapis_dev_name_ukw_hydro_data_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ukw-hydro-data-v10'
  properties: {
    displayName: 'UKW-Hydro-Data'
    apiRevision: '1'
    description: 'Test f端r die Bereitstellung von Prozessdaten der UKW Hydro.'
    subscriptionRequired: true
    serviceUrl: 'https://wiskiprdapps001.uniper.onmicrosoft.com:7408/'
    path: 'api/wiski'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-43c11ef5cb3348fc'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a8134b51_f92b_42a2_9271_e2fe42ab1b79.id
  }
}

resource service_uniperapis_dev_name_ummcomstar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ummcomstar-v10'
  properties: {
    displayName: 'ummcomstar'
    apiRevision: '1'
    description: 'Normally we use this API for our application UMM COMSTAR'
    subscriptionRequired: true
    serviceUrl: 'https://ummapi.nordpoolgroup.com/'
    path: 'api/comstar'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-d1627c6aee0e4bd7'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_83de3908_85b6_462b_8e32_e5a1862b0c95.id
  }
}

resource service_uniperapis_dev_name_ums_badges_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-badges-v10'
  properties: {
    displayName: 'UMS-Badges'
    apiRevision: '1'
    description: 'API returns the current badge/cherry icon statuses for the currently authenticated user.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-badgeservice-api.uniperapps.com'
    path: 'api/ums-badges'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-31cfe3ba5d99408b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_badd065c_583e_4070_a630_2f5ec18189d9.id
  }
}

resource service_uniperapis_dev_name_ums_marketprices_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-marketprices-v10'
  properties: {
    displayName: 'UMS-MarketPrices v1.0'
    apiRevision: '1'
    description: 'Custom Administrator Group who can manage all Products and APIs. Its membership is managed by CMC'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-marketprices-api.uniperapps.com'
    path: 'api/ums-marketPrices'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-fcfad02ae4804f27'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fb59069b_8c7f_417c_8c00_ccc566386473.id
  }
}

resource service_uniperapis_dev_name_ums_marketreport_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-marketreport-v10'
  properties: {
    displayName: 'UMS-MarketReport v1.0'
    apiRevision: '1'
    description: 'They represent the Pdf, email and so on generated reports on monthly bases by Uniper and transferred to the application.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-marketreport-api.uniperapps.com'
    path: 'api/ums-marketReport'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-eae73dcd6a294aed'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5b8b15fd_7c89_483a_8b28_b81a58611159.id
  }
}

resource service_uniperapis_dev_name_ums_messages_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-messages-v10'
  properties: {
    displayName: 'UMS-Messages v1.0'
    apiRevision: '1'
    description: 'It contains messages from the administrations and alerts in form of relevant for the users news.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-messages-api.uniperapps.com'
    path: 'api/ums-messages'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-350c517a236043b4'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_fa8fa70e_e9c2_4f38_b280_42da040dcf34.id
  }
}

resource service_uniperapis_dev_name_ums_mpcommodity_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-mpcommodity-v10'
  properties: {
    displayName: 'UMS-MPCommodity v1.0'
    apiRevision: '1'
    description: 'API returns commodity details for Market Prices.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-mp-commodity-api.uniperapps.com'
    path: 'api/ums-mpCommodity'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-e3a73e5f98c244ad'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_de5d052d_fb70_42a9_97d6_4eacae815a67.id
  }
}

resource service_uniperapis_dev_name_ums_mrcommodity_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-mrcommodity-v10'
  properties: {
    displayName: 'UMS-MRCommodity v1.0'
    apiRevision: '1'
    description: 'API returns commodity details for Market Report'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-mr-commodity-api.uniperapps.com'
    path: 'api/ums-mrCommodity'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c08660fe4ef64d81'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_91cf0cfd_fadf_48f8_aefd_18de9541cd02.id
  }
}

resource service_uniperapis_dev_name_ums_notificationhub_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-notificationhub-v10'
  properties: {
    displayName: 'UMS-NotificationHub v1.0'
    apiRevision: '1'
    description: 'API returns notification related data.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-notificationhub-api.uniperapps.com'
    path: 'api/ums-notificationHub'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-b2145a55821e4482'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2ca27652_4600_4e39_996e_36478e208afa.id
  }
}

resource service_uniperapis_dev_name_ums_o365sendmail_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-o365sendmail-v10'
  properties: {
    displayName: 'UMS-O365Sendmail v1.0'
    apiRevision: '1'
    description: 'API returns mail configurations and used to send mails'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-o365-sendmail-api.uniperapps.com'
    path: 'api/ums-O365sendmail'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-216a07faf1524654'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a515d522_8dfe_4574_aa3f_dd18062c3116.id
  }
}

resource service_uniperapis_dev_name_ums_outlookoverview_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-outlookoverview-v10'
  properties: {
    displayName: 'UMS-OutlookOverview v1.0'
    apiRevision: '1'
    description: 'API shows the market outlooks for Power, Gas and other Commodities.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-outlookoverview-api.uniperapps.com'
    path: 'api/ums-outlookOverview'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-c208dc381ead4eab'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_8ee48d28_4934_48f9_84b7_adfb36ac6b77.id
  }
}

resource service_uniperapis_dev_name_ums_portfolio_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-portfolio-v10'
  properties: {
    displayName: 'UMS-Portfolio v1.0'
    apiRevision: '1'
    description: 'API returns portfolio details.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-portfolio-api.uniperapps.com'
    path: 'api/ums-portfolio'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-29f2c12825b44f71'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ecb74c97_1b52_47c3_b1d2_655f77652c64.id
  }
}

resource service_uniperapis_dev_name_ums_settings_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-settings-v10'
  properties: {
    displayName: 'UMS-Settings v1.0'
    apiRevision: '1'
    description: 'API returns settings information'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-settings-api.uniperapps.com'
    path: 'api/ums-settings'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-79778e2893b749df'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_61c73e83_8d2c_4afc_82d0_dfb00e54ddd3.id
  }
}

resource service_uniperapis_dev_name_ums_sqlservice_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-sqlservice-v10'
  properties: {
    displayName: 'UMS-SQLService v1.0'
    apiRevision: '1'
    description: 'API has all sql functions.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-sqlservice-api.uniperapps.com'
    path: 'api/ums-sqlService'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-32bbf113eaff461f'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_c7fc0476_e4d6_4d9b_a669_e78adf13c72b.id
  }
}

resource service_uniperapis_dev_name_ums_userprofile_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-userprofile-v10'
  properties: {
    displayName: 'UMS-UserProfile'
    apiRevision: '1'
    description: 'API returns user details.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-userprofile-api.uniperapps.com'
    path: 'api/ums-userprofile'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-8f734eb21c874e1e'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1db9bb72_071a_4b29_af62_687903ea61eb.id
  }
}

resource service_uniperapis_dev_name_ums_webinar_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ums-webinar-v10'
  properties: {
    displayName: 'UMS-Webinar'
    apiRevision: '1'
    description: 'Webinar API  is to provide monthly cubecast videos.'
    subscriptionRequired: true
    serviceUrl: 'https://ums-dev-webinar-api.uniperapps.com'
    path: 'api/ums'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6fa66192d15b42d0'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_a958d74d_895c_48f5_b254_6fe6ad6385e2.id
  }
}

resource service_uniperapis_dev_name_uniper_digital_calculation_response_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uniper-digital-calculation-response-v10'
  properties: {
    displayName: 'Uniper-Digital-Calculation-Response v1.0'
    apiRevision: '1'
    description: 'Uniper Digital Calculation Response Handling'
    subscriptionRequired: true
    path: 'api/uniper-digital-backend-response'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-29a6832819d9474d'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_ed2d9ac7_c086_488a_a68b_7d40f6dcf0bd.id
  }
}

resource service_uniperapis_dev_name_uniper_digital_status_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'uniper-digital-status-v10'
  properties: {
    displayName: 'Uniper-Digital-Status v1.0'
    apiRevision: '1'
    description: 'This API will report the current technical state (operating normally OR error state) of the Uniper Digital system.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-acf5121fd9c14041'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-acf5121fd9c14041'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-acf5121fd9c14041'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_15339362_e00e_4651_98cf_5b87ba3a017c.id
  }
}

resource service_uniperapis_dev_name_usip_apps_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-apps-v10'
  properties: {
    displayName: 'USIP-Apps'
    apiRevision: '1'
    description: 'This product includes APIs for applications under new USIP Migration cluster.'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-6952d72564d947b9'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-6952d72564d947b9'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-6952d72564d947b9'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_2cd23e66_606f_4460_97ef_9a36d3a64f5c.id
  }
}

resource service_uniperapis_dev_name_usip_confluent_utilities_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-confluent-utilities-v10'
  properties: {
    displayName: 'USIP-Confluent-Utilities'
    apiRevision: '1'
    description: 'This API is for Confluent Environments'
    subscriptionRequired: true
    serviceUrl: 'https://from-named-value-usip-confluent-backend'
    path: 'api/usip-confluent-utilities'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-98ab36999f1646d5'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b00f6711_c429_4c1b_8864_ce3e0c15b381.id
  }
}

resource service_uniperapis_dev_name_usip_proxy_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-proxy-v10'
  properties: {
    displayName: 'USIP Proxy'
    apiRevision: '1'
    description: 'Rest Proxy to consume data from topic using gateway urls external team can also access the data'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-58149e9407084044'
    path: 'api/skynet-rest-proxy'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-58149e9407084044'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_8a5308de_9961_4496_90f1_61e0137ea0f6.id
  }
}

resource service_uniperapis_dev_name_usip_utilities_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usip-utilities-v10'
  properties: {
    displayName: 'USIP-Utilities'
    apiRevision: '1'
    description: 'This product includes APIs for Utility APIs under new USIP Migration cluster.'
    subscriptionRequired: true
    serviceUrl: 'https://gateway-dev.apis.uniper.energy/api/usip-utilities/v1.0'
    path: 'api/usip-utilities'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-2182192d3eae406b'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_1562945a_1d68_4a7a_93c5_d691fb030044.id
  }
}

resource service_uniperapis_dev_name_usplatfom_rest_proxt_sap_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'usplatfom-rest-proxt-sap-v10'
  properties: {
    displayName: 'usplatfom-rest-proxt-sap v1.0'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://usplatform-util-dev.azure.uniper.energy/dev-sap-rp/'
    path: 'dev-sap-rp'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-3db4f5e316184353'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_d3ed57e2_7232_4766_ac9e_35775294ae9d.id
  }
}

resource service_uniperapis_dev_name_ustreamingplatform_rest_proxy_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'ustreamingplatform-rest-proxy-v10'
  properties: {
    displayName: 'UStreamingPlatform-REST-Proxy'
    apiRevision: '1'
    description: 'API used for UStreamingPlatform-REST-Proxy'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-51ea032db6ef4018'
    path: 'usp-rest-proxy-v10'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'subscription-key'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_b679006c_99d2_4187_8357_14749d35404b.id
  }
}

resource service_uniperapis_dev_name_xceptor_endur_ecmo_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xceptor-endur-ecmo-v10'
  properties: {
    displayName: 'xceptor-endur-ecmo'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-eda3705a535649fa'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-eda3705a535649fa'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-eda3705a535649fa'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_f2eeaaad_026a_498b_86f9_e0a6d0143172.id
  }
}

resource service_uniperapis_dev_name_xceptor_endur_ltcinfra_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xceptor-endur-ltcinfra-v10'
  properties: {
    displayName: 'xceptor-endur-ltcinfra'
    apiRevision: '1'
    description: '** Modify this description accordingly\n** API URL Suffix should start with "api/". HTTPS is mandatory for Web Service URL and URL Scheme\n** Subscription Key must be used and sent through Request Header (NOT Query Parameter)'
    subscriptionRequired: true
    serviceUrl: 'https://Modify-ApiWebServiceUrl-Accordingly-cca382e8291f48dd'
    path: 'api/Modify-ApiUrlSuffix-Accordingly-cca382e8291f48dd'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-cca382e8291f48dd'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_6438bf56_00b1_4894_a72c_36830bd33751.id
  }
}

resource service_uniperapis_dev_name_xkey_api_v10 'Microsoft.ApiManagement/service/apis@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'xkey-api-v10'
  properties: {
    displayName: 'xkey-api'
    apiRevision: '1'
    description: 'API for SMIME long-term archive project.\nthis API endpoint sole purpose is to be called by a PKI client software that will download the SMIME email encryption certificate using AAD auth.'
    subscriptionRequired: true
    serviceUrl: 'https://xkey-prd-webapp.azurewebsites.net'
    path: 'api/xkey'
    protocols: [
      'https'
    ]
    authenticationSettings: {
      oAuth2AuthenticationSettings: []
      openidAuthenticationSettings: []
    }
    subscriptionKeyParameterNames: {
      header: 'Ocp-Apim-Subscription-Key'
      query: 'MUST-NOT-BE-USED-DUE-TO-SECURITY-RISK-CHANGES-TO-BE-AUDITED-a7ae0d3927654805'
    }
    isCurrent: true
    apiVersion: 'v1.0'
    apiVersionSetId: service_uniperapis_dev_name_5ddef6f3_05a8_48ec_a8fa_f84007aa3a1c.id
  }
}

resource Microsoft_ApiManagement_service_backends_service_uniperapis_dev_name_Intesi 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Intesi'
  properties: {
    description: 'Intesi Group is a company that offers a wide range of services, including digital signing certificates, digital seals, time stamp services, digital identity integrations, and custom integration options that work with Acrobat Sign1. They also offer Managed Services for companies that want to focus on their core business by outsourcing the management of application and infrastructure assets2. They integrate the main European providers for online identity verification and strong authentication3. They have more than 600 active clients worldwide (enterprises and small/medium businesses) and their services are offered as Off-the-shelf products, Cloud Services or on-premises installations4. Is there anything else you would like to know?'
    url: 'https://servicesbe.test4mind.com/Time4UserServices/services/backend'
    protocol: 'http'
    credentials: {
      certificateIds: [
        service_uniperapis_dev_name_intesi.id
      ]
      query: {}
      header: {}
      certificate: [
        'C39FF0D56500AA2AC2934416EC3EB444CBD4B68C'
      ]
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_TIS_backend 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'TIS-backend'
  properties: {
    description: 'Backend for Treasury Intelligence Solutions'
    url: 'https://api-mtls.eu.tispayments.com/'
    protocol: 'http'
    credentials: {
      certificateIds: [
        service_uniperapis_dev_name_tis_payments.id
      ]
      query: {}
      header: {}
      certificate: [
        'A155E6B242080B6757FFE69123AAFFECD5781239'
      ]
    }
    tls: {
      validateCertificateChain: true
      validateCertificateName: true
    }
  }
}

resource service_uniperapis_dev_name_applicationinsights 'Microsoft.ApiManagement/service/diagnostics@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'applicationinsights'
  properties: {
    alwaysLog: 'allErrors'
    httpCorrelationProtocol: 'Legacy'
    verbosity: 'information'
    logClientIp: true
    loggerId: service_uniperapis_dev_name_service_uniperapis_dev_name_app_insights_001.id
    sampling: {
      samplingType: 'fixed'
      percentage: json('100')
    }
    frontend: {
      request: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert'
          'x-client-cert-fingerprint'
        ]
        body: {
          bytes: 0
        }
      }
      response: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert'
          'x-client-cert-fingerprint'
        ]
        body: {
          bytes: 0
        }
      }
    }
    backend: {
      request: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert'
          'x-client-cert-fingerprint'
        ]
        body: {
          bytes: 0
        }
      }
      response: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert'
          'x-client-cert-fingerprint'
        ]
        body: {
          bytes: 0
        }
      }
    }
    metrics: true
  }
}

resource Microsoft_ApiManagement_service_diagnostics_service_uniperapis_dev_name_azuremonitor 'Microsoft.ApiManagement/service/diagnostics@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'azuremonitor'
  properties: {
    alwaysLog: 'allErrors'
    verbosity: 'information'
    logClientIp: true
    loggerId: service_uniperapis_dev_name_azuremonitor.id
    sampling: {
      samplingType: 'fixed'
      percentage: json('100')
    }
    frontend: {
      request: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert-fingerprint'
          'x-client-cert'
        ]
        body: {
          bytes: 0
        }
      }
      response: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert-fingerprint'
          'x-client-cert'
        ]
        body: {
          bytes: 0
        }
      }
    }
    backend: {
      request: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert-fingerprint'
          'x-client-cert'
        ]
        body: {
          bytes: 0
        }
      }
      response: {
        headers: [
          'X-Forwarded-For'
          'x-client-cert-fingerprint'
          'x-client-cert'
        ]
        body: {
          bytes: 0
        }
      }
    }
    largeLanguageModel: {
      logs: 'disabled'
    }
  }
}

resource service_uniperapis_dev_name_Demo_OpenAI_Load_Balancer 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'Demo-OpenAI-Load-Balancer'
  properties: {
    description: 'Demo Open AI Load Balancer'
    type: 'Pool'
    url: 'https://www.backend-pool.com'
    protocol: 'http'
    pool: {
      services: [
        {
          id: service_uniperapis_dev_name_Demo_OpenAI_Backend_Two.id
          priority: 1
        }
        {
          id: service_uniperapis_dev_name_Demo_OpenAI_Backend_Four.id
          priority: 2
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_LB_A 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-LB-A'
  properties: {
    description: 'Load balanced backend pool for OpenAI with priority routing'
    type: 'pool'
    url: 'https://www.backend-pool.com'
    protocol: 'http'
    pool: {
      services: [
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_A_EUW.id
          priority: 1
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_A_SWC.id
          priority: 2
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_A_UKS.id
          priority: 3
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_LB_B 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-LB-B'
  properties: {
    description: 'Load balanced backend pool for OpenAI with priority routing'
    type: 'pool'
    url: 'https://www.backend-pool.com'
    protocol: 'http'
    pool: {
      services: [
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_B_UKS.id
          priority: 1
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_B_SWC.id
          priority: 2
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_B_EUW.id
          priority: 3
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_API_OAI_LB_C 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-API-OAI-LB-C'
  properties: {
    description: 'Load balanced backend pool for OpenAI with priority routing'
    type: 'pool'
    url: 'https://www.backend-pool.com'
    protocol: 'http'
    pool: {
      services: [
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_C_SWC.id
          priority: 1
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_C_UKS.id
          priority: 2
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_C_EUW.id
          priority: 3
        }
      ]
    }
  }
}

resource service_uniperapis_dev_name_AIWorks_SIM_LB_1 'Microsoft.ApiManagement/service/backends@2024-06-01-preview' = {
  parent: service_uniperapis_dev_name_resource
  name: 'AIWorks-SIM-LB-1'
  properties: {
    description: 'Load balanced backend pool for OpenAI with priority routing'
    type: 'pool'
    url: 'https://www.backend-pool.com'
    protocol: 'http'
    pool: {
      services: [
        {
          id: service_uniperapis_dev_name_aiworks_simulator.id
          priority: 1
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_C_SWC.id
          priority: 2
        }
        {
          id: service_uniperapis_dev_name_AIWorks_API_OAI_C_EUW.id
          priority: 3
        }
      ]
    }
  }
}
